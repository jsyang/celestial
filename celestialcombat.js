parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"YOw+":[function(require,module,exports) {
"use strict";var r=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,e=Object.prototype.propertyIsEnumerable;function n(r){if(null==r)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de","5"===Object.getOwnPropertyNames(r)[0])return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(r){return t[r]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(r){n[r]=r}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(o){return!1}}module.exports=o()?Object.assign:function(o,c){for(var a,i,s=n(o),f=1;f<arguments.length;f++){for(var u in a=Object(arguments[f]))t.call(a,u)&&(s[u]=a[u]);if(r){i=r(a);for(var b=0;b<i.length;b++)e.call(a,i[b])&&(s[i[b]]=a[i[b]])}}return s};
},{}],"UHos":[function(require,module,exports) {
"use strict";var e=require("object-assign"),s=t(e);function t(e){return e&&e.__esModule?e:{default:e}}Object.assign||(Object.assign=s.default);
},{"object-assign":"YOw+"}],"gNN7":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],n=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var a=Date.now(),r=["ms","moz","webkit","o"],o=0;o<r.length&&!e.requestAnimationFrame;++o){var i=r[o];e.requestAnimationFrame=e[i+"RequestAnimationFrame"],e.cancelAnimationFrame=e[i+"CancelAnimationFrame"]||e[i+"CancelRequestAnimationFrame"]}e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=n+a-t;return r<0&&(r=0),a=t,setTimeout(function(){a=Date.now(),e(performance.now())},r)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)});
},{}],"jTow":[function(require,module,exports) {
"use strict";Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1});
},{}],"1+yd":[function(require,module,exports) {
"use strict";Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e});
},{}],"JMao":[function(require,module,exports) {
"use strict";require("./Object.assign"),require("./requestAnimationFrame"),require("./Math.sign"),require("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array);
},{"./Object.assign":"UHos","./requestAnimationFrame":"gNN7","./Math.sign":"jTow","./Number.isInteger":"1+yd"}],"LWAx":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var E=exports.VERSION="4.8.2",R=exports.PI_2=2*Math.PI,I=exports.RAD_TO_DEG=180/Math.PI,N=exports.DEG_TO_RAD=Math.PI/180,A=exports.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},O=exports.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},L=exports.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},T=exports.SCALE_MODES={LINEAR:0,NEAREST:1},_=exports.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},t=exports.GC_MODES={AUTO:0,MANUAL:1},s=exports.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,D=exports.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,S=exports.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e=exports.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},M=exports.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},p=exports.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},P=exports.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},r=exports.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50};
},{}],"MM5s":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=function(){function n(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t(this,n),this.x=o,this.y=i}return n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copy=function(t){this.set(t.x,t.y)},n.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},n.prototype.set=function(t,n){this.x=t||0,this.y=n||(0!==n?this.x:0)},n}();exports.default=n;
},{}],"n52E":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}();function i(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,e),this._x=s,this._y=o,this.cb=t,this.scope=n}return e.prototype.clone=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new e(t||this.cb,i||this.scope,this._x,this._y)},e.prototype.set=function(t,i){var e=t||0,n=i||(0!==i?e:0);this._x===e&&this._y===n||(this._x=e,this._y=n,this.cb.call(this.scope))},e.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},e.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t(e,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),e}();exports.default=e;
},{}],"fVyN":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var s=0;s<i.length;s++){var h=i[s];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(i,s,h){return s&&t(i.prototype,s),h&&t(i,h),i}}(),i=require("./Point"),s=r(i),h=require("../const");function r(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n(this,i),this.a=t,this.b=s,this.c=h,this.d=r,this.tx=e,this.ty=a,this.array=null}return i.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},i.prototype.set=function(t,i,s,h,r,n){return this.a=t,this.b=i,this.c=s,this.d=h,this.tx=r,this.ty=n,this},i.prototype.toArray=function(t,i){this.array||(this.array=new Float32Array(9));var s=i||this.array;return t?(s[0]=this.a,s[1]=this.b,s[2]=0,s[3]=this.c,s[4]=this.d,s[5]=0,s[6]=this.tx,s[7]=this.ty,s[8]=1):(s[0]=this.a,s[1]=this.c,s[2]=this.tx,s[3]=this.b,s[4]=this.d,s[5]=this.ty,s[6]=0,s[7]=0,s[8]=1),s},i.prototype.apply=function(t,i){i=i||new s.default;var h=t.x,r=t.y;return i.x=this.a*h+this.c*r+this.tx,i.y=this.b*h+this.d*r+this.ty,i},i.prototype.applyInverse=function(t,i){i=i||new s.default;var h=1/(this.a*this.d+this.c*-this.b),r=t.x,n=t.y;return i.x=this.d*h*r+-this.c*h*n+(this.ty*this.c-this.tx*this.d)*h,i.y=this.a*h*n+-this.b*h*r+(-this.ty*this.a+this.tx*this.b)*h,i},i.prototype.translate=function(t,i){return this.tx+=t,this.ty+=i,this},i.prototype.scale=function(t,i){return this.a*=t,this.d*=i,this.c*=t,this.b*=i,this.tx*=t,this.ty*=i,this},i.prototype.rotate=function(t){var i=Math.cos(t),s=Math.sin(t),h=this.a,r=this.c,n=this.tx;return this.a=h*i-this.b*s,this.b=h*s+this.b*i,this.c=r*i-this.d*s,this.d=r*s+this.d*i,this.tx=n*i-this.ty*s,this.ty=n*s+this.ty*i,this},i.prototype.append=function(t){var i=this.a,s=this.b,h=this.c,r=this.d;return this.a=t.a*i+t.b*h,this.b=t.a*s+t.b*r,this.c=t.c*i+t.d*h,this.d=t.c*s+t.d*r,this.tx=t.tx*i+t.ty*h+this.tx,this.ty=t.tx*s+t.ty*r+this.ty,this},i.prototype.setTransform=function(t,i,s,h,r,n,e,a,o){return this.a=Math.cos(e+o)*r,this.b=Math.sin(e+o)*r,this.c=-Math.sin(e-a)*n,this.d=Math.cos(e-a)*n,this.tx=t-(s*this.a+h*this.c),this.ty=i-(s*this.b+h*this.d),this},i.prototype.prepend=function(t){var i=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var s=this.a,h=this.c;this.a=s*t.a+this.b*t.c,this.b=s*t.b+this.b*t.d,this.c=h*t.a+this.d*t.c,this.d=h*t.b+this.d*t.d}return this.tx=i*t.a+this.ty*t.c+t.tx,this.ty=i*t.b+this.ty*t.d+t.ty,this},i.prototype.decompose=function(t){var i=this.a,s=this.b,r=this.c,n=this.d,e=-Math.atan2(-r,n),a=Math.atan2(s,i),o=Math.abs(e+a);return o<1e-5||Math.abs(h.PI_2-o)<1e-5?(t.rotation=a,i<0&&n>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=e,t.skew.y=a),t.scale.x=Math.sqrt(i*i+s*s),t.scale.y=Math.sqrt(r*r+n*n),t.position.x=this.tx,t.position.y=this.ty,t},i.prototype.invert=function(){var t=this.a,i=this.b,s=this.c,h=this.d,r=this.tx,n=t*h-i*s;return this.a=h/n,this.b=-i/n,this.c=-s/n,this.d=t/n,this.tx=(s*this.ty-h*r)/n,this.ty=-(t*this.ty-i*r)/n,this},i.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},i.prototype.clone=function(){var t=new i;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},i.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t(i,null,[{key:"IDENTITY",get:function(){return new i}},{key:"TEMP_MATRIX",get:function(){return new i}}]),i}();exports.default=e;
},{"./Point":"MM5s","../const":"LWAx"}],"Ixn5":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var n=require("./Matrix"),t=r(n);function r(n){return n&&n.__esModule?n:{default:n}}var u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],e=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],i=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],o=[],f=[];function v(n){return n<0?-1:n>0?1:0}function c(){for(var n=0;n<16;n++){var r=[];f.push(r);for(var c=0;c<16;c++)for(var s=v(u[n]*u[c]+a[n]*e[c]),d=v(e[n]*u[c]+i[n]*e[c]),h=v(u[n]*a[c]+a[n]*i[c]),p=v(e[n]*a[c]+i[n]*i[c]),M=0;M<16;M++)if(u[M]===s&&e[M]===d&&a[M]===h&&i[M]===p){r.push(M);break}}for(var R=0;R<16;R++){var l=new t.default;l.set(u[R],e[R],a[R],i[R],0,0),o.push(l)}}c();var s={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(n){return u[n]},uY:function(n){return e[n]},vX:function(n){return a[n]},vY:function(n){return i[n]},inv:function(n){return 8&n?15&n:7&-n},add:function(n,t){return f[n][t]},sub:function(n,t){return f[n][s.inv(t)]},rotate180:function(n){return 4^n},isVertical:function(n){return 2==(3&n)},byDirection:function(n,t){return 2*Math.abs(n)<=Math.abs(t)?t>=0?s.S:s.N:2*Math.abs(t)<=Math.abs(n)?n>0?s.E:s.W:t>0?n>0?s.SE:s.SW:n>0?s.NE:s.NW},matrixAppendRotationInv:function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,e=o[s.inv(t)];e.tx=r,e.ty=u,n.append(e)}};exports.default=s;
},{"./Matrix":"fVyN"}],"InbV":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var h=0;h<i.length;h++){var e=i[h];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,h,e){return h&&t(i.prototype,h),e&&t(i,e),i}}(),i=require("../../const");function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;h(this,e),this.x=Number(t),this.y=Number(s),this.width=Number(n),this.height=Number(r),this.type=i.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},e.prototype.contains=function(t,i){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&i>=this.y&&i<this.y+this.height)},e.prototype.pad=function(t,i){t=t||0,i=i||(0!==i?t:0),this.x-=t,this.y-=i,this.width+=2*t,this.height+=2*i},e.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},e.prototype.enlarge=function(t){var i=Math.min(this.x,t.x),h=Math.max(this.x+this.width,t.x+t.width),e=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);this.x=i,this.width=h-i,this.y=e,this.height=s-e},t(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();exports.default=e;
},{"../../const":"LWAx"}],"otXs":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./Rectangle"),i=r(t),s=require("../../const");function r(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var e=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;n(this,t),this.x=i,this.y=r,this.radius=e,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,i){if(this.radius<=0)return!1;var s=this.radius*this.radius,r=this.x-t,n=this.y-i;return(r*=r)+(n*=n)<=s},t.prototype.getBounds=function(){return new i.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();exports.default=e;
},{"./Rectangle":"InbV","../../const":"LWAx"}],"JlGz":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./Rectangle"),i=e(t),h=require("../../const");function e(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=i,this.y=e,this.width=s,this.height=o,this.type=h.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,i){if(this.width<=0||this.height<=0)return!1;var h=(t-this.x)/this.width,e=(i-this.y)/this.height;return(h*=h)+(e*=e)<=1},t.prototype.getBounds=function(){return new i.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();exports.default=s;
},{"./Rectangle":"InbV","../../const":"LWAx"}],"FscO":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../Point"),n=i(t),o=require("../../const");function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){for(var i=arguments.length,s=Array(i),e=0;e<i;e++)s[e]=arguments[e];if(r(this,t),Array.isArray(s[0])&&(s=s[0]),s[0]instanceof n.default){for(var a=[],u=0,p=s.length;u<p;u++)a.push(s[u].x,s[u].y);s=a}this.closed=!0,this.points=s,this.type=o.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,n){for(var o=!1,i=this.points.length/2,r=0,s=i-1;r<i;s=r++){var e=this.points[2*r],a=this.points[2*r+1],u=this.points[2*s],p=this.points[2*s+1];a>n!=p>n&&t<(n-a)/(p-a)*(u-e)+e&&(o=!o)}return o},t}();exports.default=s;
},{"../Point":"MM5s","../../const":"LWAx"}],"hRc9":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var i=require("../../const");function t(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function h(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;t(this,h),this.x=s,this.y=r,this.width=e,this.height=n,this.radius=u,this.type=i.SHAPES.RREC}return h.prototype.clone=function(){return new h(this.x,this.y,this.width,this.height,this.radius)},h.prototype.contains=function(i,t){if(this.width<=0||this.height<=0)return!1;if(i>=this.x&&i<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||i>=this.x+this.radius&&i<=this.x+this.width-this.radius)return!0;var h=i-(this.x+this.radius),s=t-(this.y+this.radius),r=this.radius*this.radius;if(h*h+s*s<=r)return!0;if((h=i-(this.x+this.width-this.radius))*h+s*s<=r)return!0;if(h*h+(s=t-(this.y+this.height-this.radius))*s<=r)return!0;if((h=i-(this.x+this.radius))*h+s*s<=r)return!0}return!1},h}();exports.default=h;
},{"../../const":"LWAx"}],"SQeI":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./Point");Object.defineProperty(exports,"Point",{enumerable:!0,get:function(){return f(e).default}});var r=require("./ObservablePoint");Object.defineProperty(exports,"ObservablePoint",{enumerable:!0,get:function(){return f(r).default}});var t=require("./Matrix");Object.defineProperty(exports,"Matrix",{enumerable:!0,get:function(){return f(t).default}});var n=require("./GroupD8");Object.defineProperty(exports,"GroupD8",{enumerable:!0,get:function(){return f(n).default}});var u=require("./shapes/Circle");Object.defineProperty(exports,"Circle",{enumerable:!0,get:function(){return f(u).default}});var o=require("./shapes/Ellipse");Object.defineProperty(exports,"Ellipse",{enumerable:!0,get:function(){return f(o).default}});var a=require("./shapes/Polygon");Object.defineProperty(exports,"Polygon",{enumerable:!0,get:function(){return f(a).default}});var i=require("./shapes/Rectangle");Object.defineProperty(exports,"Rectangle",{enumerable:!0,get:function(){return f(i).default}});var l=require("./shapes/RoundedRectangle");function f(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"RoundedRectangle",{enumerable:!0,get:function(){return f(l).default}});
},{"./Point":"MM5s","./ObservablePoint":"n52E","./Matrix":"fVyN","./GroupD8":"Ixn5","./shapes/Circle":"otXs","./shapes/Ellipse":"JlGz","./shapes/Polygon":"FscO","./shapes/Rectangle":"InbV","./shapes/RoundedRectangle":"hRc9"}],"/y58":[function(require,module,exports) {
var e=function(e,r){var t=e.getContext("webgl",r)||e.getContext("experimental-webgl",r);if(!t)throw new Error("This browser does not support webGL. Try using the canvas renderer");return t};module.exports=e;
},{}],"wbyb":[function(require,module,exports) {
var t=function(t,r,e){var a;if(e){var i=e.tempAttribState,b=e.attribState;for(a=0;a<i.length;a++)i[a]=!1;for(a=0;a<r.length;a++)i[r[a].attribute.location]=!0;for(a=0;a<b.length;a++)b[a]!==i[a]&&(b[a]=i[a],e.attribState[a]?t.enableVertexAttribArray(a):t.disableVertexAttribArray(a))}else for(a=0;a<r.length;a++){var l=r[a];t.enableVertexAttribArray(l.attribute.location)}};module.exports=t;
},{}],"Bujc":[function(require,module,exports) {

var t=new ArrayBuffer(0),e=function(e,r,i,f){this.gl=e,this.buffer=e.createBuffer(),this.type=r||e.ARRAY_BUFFER,this.drawType=f||e.STATIC_DRAW,this.data=t,i&&this.upload(i),this._updateID=0};e.prototype.upload=function(t,e,r){r||this.bind();var i=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?i.bufferSubData(this.type,e,t):i.bufferData(this.type,t,this.drawType),this.data=t},e.prototype.bind=function(){this.gl.bindBuffer(this.type,this.buffer)},e.createVertexBuffer=function(t,r,i){return new e(t,t.ARRAY_BUFFER,r,i)},e.createIndexBuffer=function(t,r,i){return new e(t,t.ELEMENT_ARRAY_BUFFER,r,i)},e.create=function(t,r,i,f){return new e(t,r,i,f)},e.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},module.exports=e;
},{}],"mmMf":[function(require,module,exports) {
var t=function(t,i,e,r,a){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=i||-1,this.height=e||-1,this.format=r||t.RGBA,this.type=a||t.UNSIGNED_BYTE};t.prototype.upload=function(t){this.bind();var i=this.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var e=t.videoWidth||t.width,r=t.videoHeight||t.height;r!==this.height||e!==this.width?i.texImage2D(i.TEXTURE_2D,0,this.format,this.format,this.type,t):i.texSubImage2D(i.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=e,this.height=r};var i=!1;t.prototype.uploadData=function(t,e,r){this.bind();var a=this.gl;if(t instanceof Float32Array){if(!i){if(!a.getExtension("OES_texture_float"))throw new Error("floating point textures not available");i=!0}this.type=a.FLOAT}else this.type=this.type||a.UNSIGNED_BYTE;a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||r!==this.height?a.texImage2D(a.TEXTURE_2D,0,this.format,e,r,0,this.format,this.type,t||null):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e,r,this.format,this.type,t||null),this.width=e,this.height=r},t.prototype.bind=function(t){var i=this.gl;void 0!==t&&i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,this.texture)},t.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},t.prototype.minFilter=function(t){var i=this.gl;this.bind(),this.mipmap?i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST):i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t?i.LINEAR:i.NEAREST)},t.prototype.magFilter=function(t){var i=this.gl;this.bind(),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t?i.LINEAR:i.NEAREST)},t.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},t.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},t.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},t.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},t.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},t.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},t.prototype.destroy=function(){this.gl.deleteTexture(this.texture)},t.fromSource=function(i,e,r){var a=new t(i);return a.premultiplyAlpha=r||!1,a.upload(e),a},t.fromData=function(i,e,r,a){var E=new t(i);return E.uploadData(e,r,a),E},module.exports=t;
},{}],"fq5C":[function(require,module,exports) {
var e=require("./GLTexture"),t=function(e,t,r){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=r||100};t.prototype.enableTexture=function(t){var r=this.gl;this.texture=t||new e(r),this.texture.bind(),this.bind(),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,this.texture.texture,0)},t.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},t.prototype.clear=function(e,t,r,i){this.bind();var n=this.gl;n.clearColor(e,t,r,i),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT)},t.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},t.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},t.prototype.resize=function(e,t){var r=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,this.stencil),r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e,t))},t.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},t.createRGBA=function(r,i,n,u){var a=e.fromData(r,null,i,n);a.enableNearestScaling(),a.enableWrapClamp();var l=new t(r,i,n);return l.enableTexture(a),l.unbind(),l},t.createFloat32=function(r,i,n,u){var a=new e.fromData(r,u,i,n);a.enableNearestScaling(),a.enableWrapClamp();var l=new t(r,i,n);return l.enableTexture(a),l.unbind(),l},module.exports=t;
},{"./GLTexture":"mmMf"}],"5dHE":[function(require,module,exports) {
var r=function(r,o,a,t){var g=e(r,r.VERTEX_SHADER,o),n=e(r,r.FRAGMENT_SHADER,a),l=r.createProgram();if(r.attachShader(l,g),r.attachShader(l,n),t)for(var S in t)r.bindAttribLocation(l,t[S],S);return r.linkProgram(l),r.getProgramParameter(l,r.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",r.getProgramParameter(l,r.VALIDATE_STATUS)),console.error("gl.getError()",r.getError()),""!==r.getProgramInfoLog(l)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(l)),r.deleteProgram(l),l=null),r.deleteShader(g),r.deleteShader(n),l},e=function(r,e,o){var a=r.createShader(e);return r.shaderSource(a,o),r.compileShader(a),r.getShaderParameter(a,r.COMPILE_STATUS)?a:(console.log(r.getShaderInfoLog(a)),null)};module.exports=r;
},{}],"sWn+":[function(require,module,exports) {
var e=function(e,v){if(!O){var _=Object.keys(T);O={};for(var L=0;L<_.length;++L){var c=_[L];O[e[c]]=T[c]}}return O[v]},O=null,T={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};module.exports=e;
},{}],"j9TQ":[function(require,module,exports) {
var e=function(e){return c[e]},c={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};module.exports=e;
},{}],"2wgy":[function(require,module,exports) {
var e=require("./mapType"),t=require("./mapSize"),r=function(r,o){for(var a={},n=r.getProgramParameter(o,r.ACTIVE_ATTRIBUTES),m=0;m<n;m++){var p=r.getActiveAttrib(o,m),A=e(r,p.type);a[p.name]={type:A,size:t(A),location:r.getAttribLocation(o,p.name),pointer:i}}return a},i=function(e,t,r,i){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,r||0,i||0)};module.exports=r;
},{"./mapType":"sWn+","./mapSize":"j9TQ"}],"3Own":[function(require,module,exports) {
var r=function(r,a){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*a);case"vec3":return new Float32Array(3*a);case"vec4":return new Float32Array(4*a);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*a);case"ivec3":return new Int32Array(3*a);case"ivec4":return new Int32Array(4*a);case"bool":return!1;case"bvec2":return e(2*a);case"bvec3":return e(3*a);case"bvec4":return e(4*a);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},e=function(r){for(var e=new Array(r),a=0;a<e.length;a++)e[a]=!1;return e};module.exports=r;
},{}],"0ZpJ":[function(require,module,exports) {
var e=require("./mapType"),r=require("./defaultValue"),a=function(a,t){for(var i={},o=a.getProgramParameter(t,a.ACTIVE_UNIFORMS),n=0;n<o;n++){var u=a.getActiveUniform(t,n),m=u.name.replace(/\[.*?\]/,""),l=e(a,u.type);i[m]={type:l,size:u.size,location:a.getUniformLocation(t,m),value:r(l,u.size)}}return i};module.exports=a;
},{"./mapType":"sWn+","./defaultValue":"3Own"}],"TmHE":[function(require,module,exports) {
var n=function(n,r){return"precision"!==n.substring(0,9)?"precision "+r+" float;\n"+n:n};module.exports=n;
},{}],"4Lul":[function(require,module,exports) {
var n=function(n,f){var o={data:{}};o.gl=n;for(var c=Object.keys(f),r=0;r<c.length;r++){var e=c[r],v=e.split("."),m=v[v.length-1],a=u(v,o),l=f[e];a.data[m]=l,a.gl=n,Object.defineProperty(a,m,{get:i(m),set:t(m,l)})}return o},i=function(n){return function(){return this.data[n].value}},f={float:function(n,i,f){n.uniform1f(i,f)},vec2:function(n,i,f){n.uniform2f(i,f[0],f[1])},vec3:function(n,i,f){n.uniform3f(i,f[0],f[1],f[2])},vec4:function(n,i,f){n.uniform4f(i,f[0],f[1],f[2],f[3])},int:function(n,i,f){n.uniform1i(i,f)},ivec2:function(n,i,f){n.uniform2i(i,f[0],f[1])},ivec3:function(n,i,f){n.uniform3i(i,f[0],f[1],f[2])},ivec4:function(n,i,f){n.uniform4i(i,f[0],f[1],f[2],f[3])},bool:function(n,i,f){n.uniform1i(i,f)},bvec2:function(n,i,f){n.uniform2i(i,f[0],f[1])},bvec3:function(n,i,f){n.uniform3i(i,f[0],f[1],f[2])},bvec4:function(n,i,f){n.uniform4i(i,f[0],f[1],f[2],f[3])},mat2:function(n,i,f){n.uniformMatrix2fv(i,!1,f)},mat3:function(n,i,f){n.uniformMatrix3fv(i,!1,f)},mat4:function(n,i,f){n.uniformMatrix4fv(i,!1,f)},sampler2D:function(n,i,f){n.uniform1i(i,f)}},o={float:function(n,i,f){n.uniform1fv(i,f)},vec2:function(n,i,f){n.uniform2fv(i,f)},vec3:function(n,i,f){n.uniform3fv(i,f)},vec4:function(n,i,f){n.uniform4fv(i,f)},int:function(n,i,f){n.uniform1iv(i,f)},ivec2:function(n,i,f){n.uniform2iv(i,f)},ivec3:function(n,i,f){n.uniform3iv(i,f)},ivec4:function(n,i,f){n.uniform4iv(i,f)},bool:function(n,i,f){n.uniform1iv(i,f)},bvec2:function(n,i,f){n.uniform2iv(i,f)},bvec3:function(n,i,f){n.uniform3iv(i,f)},bvec4:function(n,i,f){n.uniform4iv(i,f)},sampler2D:function(n,i,f){n.uniform1iv(i,f)}};function t(n,i){return function(t){this.data[n].value=t;var u=this.data[n].location;1===i.size?f[i.type](this.gl,u,t):o[i.type](this.gl,u,t)}}function u(n,i){for(var f=i,o=0;o<n.length-1;o++){var t=f[n[o]]||{data:{}};f[n[o]]=t,f=t}return f}module.exports=n;
},{}],"aizS":[function(require,module,exports) {
var r=require("./shader/compileProgram"),t=require("./shader/extractAttributes"),e=require("./shader/extractUniforms"),i=require("./shader/setPrecision"),s=require("./shader/generateUniformAccessObject"),o=function(o,a,u,h,n){this.gl=o,h&&(a=i(a,h),u=i(u,h)),this.program=r(o,a,u,n),this.attributes=t(o,this.program),this.uniformData=e(o,this.program),this.uniforms=s(o,this.uniformData)};o.prototype.bind=function(){return this.gl.useProgram(this.program),this},o.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null,this.gl.deleteProgram(this.program)},module.exports=o;
},{"./shader/compileProgram":"5dHE","./shader/extractAttributes":"2wgy","./shader/extractUniforms":"0ZpJ","./shader/setPrecision":"TmHE","./shader/generateUniformAccessObject":"4Lul"}],"C5dh":[function(require,module,exports) {
var t=require("./setVertexAttribArrays");function e(t,i){if(this.nativeVaoExtension=null,e.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=i,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var r=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(r),attribState:new Array(r)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}e.prototype.constructor=e,module.exports=e,e.FORCE_NATIVE=!1,e.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},e.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},e.prototype.activate=function(){for(var e=this.gl,i=null,r=0;r<this.attributes.length;r++){var n=this.attributes[r];i!==n.buffer&&(n.buffer.bind(),i=n.buffer),e.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||e.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return t(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},e.prototype.addAttribute=function(t,e,i,r,n,a){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:i||this.gl.FLOAT,normalized:r||!1,stride:n||0,start:a||0}),this.dirty=!0,this},e.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},e.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},e.prototype.draw=function(t,e,i){var r=this.gl;return this.indexBuffer?r.drawElements(t,e||this.indexBuffer.data.length,r.UNSIGNED_SHORT,2*(i||0)):r.drawArrays(t,i,e||this.getSize()),this},e.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},e.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)};
},{"./setVertexAttribArrays":"wbyb"}],"sFRZ":[function(require,module,exports) {
module.exports={compileProgram:require("./compileProgram"),defaultValue:require("./defaultValue"),extractAttributes:require("./extractAttributes"),extractUniforms:require("./extractUniforms"),generateUniformAccessObject:require("./generateUniformAccessObject"),setPrecision:require("./setPrecision"),mapSize:require("./mapSize"),mapType:require("./mapType")};
},{"./compileProgram":"5dHE","./defaultValue":"3Own","./extractAttributes":"2wgy","./extractUniforms":"0ZpJ","./generateUniformAccessObject":"4Lul","./setPrecision":"TmHE","./mapSize":"j9TQ","./mapType":"sWn+"}],"kSum":[function(require,module,exports) {
var e={createContext:require("./createContext"),setVertexAttribArrays:require("./setVertexAttribArrays"),GLBuffer:require("./GLBuffer"),GLFramebuffer:require("./GLFramebuffer"),GLShader:require("./GLShader"),GLTexture:require("./GLTexture"),VertexArrayObject:require("./VertexArrayObject"),shader:require("./shader")};"undefined"!=typeof module&&module.exports&&(module.exports=e),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=e);
},{"./createContext":"/y58","./setVertexAttribArrays":"wbyb","./GLBuffer":"Bujc","./GLFramebuffer":"fq5C","./GLShader":"aizS","./GLTexture":"mmMf","./VertexArrayObject":"C5dh","./shader":"sFRZ"}],"n3Mm":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var i=require("../math");function t(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var m=function(){function m(){t(this,m),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return m.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},m.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},m.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?i.Rectangle.EMPTY:((t=t||new i.Rectangle(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},m.prototype.addPoint=function(i){this.minX=Math.min(this.minX,i.x),this.maxX=Math.max(this.maxX,i.x),this.minY=Math.min(this.minY,i.y),this.maxY=Math.max(this.maxY,i.y)},m.prototype.addQuad=function(i){var t=this.minX,m=this.minY,n=this.maxX,a=this.maxY,s=i[0],h=i[1];t=s<t?s:t,m=h<m?h:m,n=s>n?s:n,a=h>a?h:a,t=(s=i[2])<t?s:t,m=(h=i[3])<m?h:m,n=s>n?s:n,a=h>a?h:a,t=(s=i[4])<t?s:t,m=(h=i[5])<m?h:m,n=s>n?s:n,a=h>a?h:a,t=(s=i[6])<t?s:t,m=(h=i[7])<m?h:m,n=s>n?s:n,a=h>a?h:a,this.minX=t,this.minY=m,this.maxX=n,this.maxY=a},m.prototype.addFrame=function(i,t,m,n,a){var s=i.worldTransform,h=s.a,x=s.b,Y=s.c,X=s.d,o=s.tx,r=s.ty,e=this.minX,d=this.minY,u=this.maxX,c=this.maxY,p=h*t+Y*m+o,f=x*t+X*m+r;e=p<e?p:e,d=f<d?f:d,u=p>u?p:u,c=f>c?f:c,e=(p=h*n+Y*m+o)<e?p:e,d=(f=x*n+X*m+r)<d?f:d,u=p>u?p:u,c=f>c?f:c,e=(p=h*t+Y*a+o)<e?p:e,d=(f=x*t+X*a+r)<d?f:d,u=p>u?p:u,c=f>c?f:c,e=(p=h*n+Y*a+o)<e?p:e,d=(f=x*n+X*a+r)<d?f:d,u=p>u?p:u,c=f>c?f:c,this.minX=e,this.minY=d,this.maxX=u,this.maxY=c},m.prototype.addVertices=function(i,t,m,n){for(var a=i.worldTransform,s=a.a,h=a.b,x=a.c,Y=a.d,X=a.tx,o=a.ty,r=this.minX,e=this.minY,d=this.maxX,u=this.maxY,c=m;c<n;c+=2){var p=t[c],f=t[c+1],y=s*p+x*f+X,l=Y*f+h*p+o;r=y<r?y:r,e=l<e?l:e,d=y>d?y:d,u=l>u?l:u}this.minX=r,this.minY=e,this.maxX=d,this.maxY=u},m.prototype.addBounds=function(i){var t=this.minX,m=this.minY,n=this.maxX,a=this.maxY;this.minX=i.minX<t?i.minX:t,this.minY=i.minY<m?i.minY:m,this.maxX=i.maxX>n?i.maxX:n,this.maxY=i.maxY>a?i.maxY:a},m.prototype.addBoundsMask=function(i,t){var m=i.minX>t.minX?i.minX:t.minX,n=i.minY>t.minY?i.minY:t.minY,a=i.maxX<t.maxX?i.maxX:t.maxX,s=i.maxY<t.maxY?i.maxY:t.maxY;if(m<=a&&n<=s){var h=this.minX,x=this.minY,Y=this.maxX,X=this.maxY;this.minX=m<h?m:h,this.minY=n<x?n:x,this.maxX=a>Y?a:Y,this.maxY=s>X?s:X}},m.prototype.addBoundsArea=function(i,t){var m=i.minX>t.x?i.minX:t.x,n=i.minY>t.y?i.minY:t.y,a=i.maxX<t.x+t.width?i.maxX:t.x+t.width,s=i.maxY<t.y+t.height?i.maxY:t.y+t.height;if(m<=a&&n<=s){var h=this.minX,x=this.minY,Y=this.maxX,X=this.maxY;this.minX=m<h?m:h,this.minY=n<x?n:x,this.maxX=a>Y?a:Y,this.maxY=s>X?s:X}},m}();exports.default=m;
},{"../math":"SQeI"}],"LqgX":[function(require,module,exports) {
"use strict";var e=Object.prototype.hasOwnProperty,t="~";function n(){}function s(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function r(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(t=!1)),r.prototype.eventNames=function(){var n,s,r=[];if(0===this._eventsCount)return r;for(s in n=this._events)e.call(n,s)&&r.push(t?s.slice(1):s);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(n)):r},r.prototype.listeners=function(e,n){var s=t?t+e:e,r=this._events[s];if(n)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var o=0,i=r.length,c=new Array(i);o<i;o++)c[o]=r[o].fn;return c},r.prototype.emit=function(e,n,s,r,o,i){var c=t?t+e:e;if(!this._events[c])return!1;var h,v,f=this._events[c],a=arguments.length;if(f.fn){switch(f.once&&this.removeListener(e,f.fn,void 0,!0),a){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,n),!0;case 3:return f.fn.call(f.context,n,s),!0;case 4:return f.fn.call(f.context,n,s,r),!0;case 5:return f.fn.call(f.context,n,s,r,o),!0;case 6:return f.fn.call(f.context,n,s,r,o,i),!0}for(v=1,h=new Array(a-1);v<a;v++)h[v-1]=arguments[v];f.fn.apply(f.context,h)}else{var u,l=f.length;for(v=0;v<l;v++)switch(f[v].once&&this.removeListener(e,f[v].fn,void 0,!0),a){case 1:f[v].fn.call(f[v].context);break;case 2:f[v].fn.call(f[v].context,n);break;case 3:f[v].fn.call(f[v].context,n,s);break;case 4:f[v].fn.call(f[v].context,n,s,r);break;default:if(!h)for(u=1,h=new Array(a-1);u<a;u++)h[u-1]=arguments[u];f[v].fn.apply(f[v].context,h)}}return!0},r.prototype.on=function(e,n,r){var o=new s(n,r||this),i=t?t+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},r.prototype.once=function(e,n,r){var o=new s(n,r||this,!0),i=t?t+e:e;return this._events[i]?this._events[i].fn?this._events[i]=[this._events[i],o]:this._events[i].push(o):(this._events[i]=o,this._eventsCount++),this},r.prototype.removeListener=function(e,s,r,o){var i=t?t+e:e;if(!this._events[i])return this;if(!s)return 0==--this._eventsCount?this._events=new n:delete this._events[i],this;var c=this._events[i];if(c.fn)c.fn!==s||o&&!c.once||r&&c.context!==r||(0==--this._eventsCount?this._events=new n:delete this._events[i]);else{for(var h=0,v=[],f=c.length;h<f;h++)(c[h].fn!==s||o&&!c[h].once||r&&c[h].context!==r)&&v.push(c[h]);v.length?this._events[i]=1===v.length?v[0]:v:0==--this._eventsCount?this._events=new n:delete this._events[i]}return this},r.prototype.removeAllListeners=function(e){var s;return e?(s=t?t+e:e,this._events[s]&&(0==--this._eventsCount?this._events=new n:delete this._events[s])):(this._events=new n,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prototype.setMaxListeners=function(){return this},r.prefixed=t,r.EventEmitter=r,"undefined"!=typeof module&&(module.exports=r);
},{}],"ydT8":[function(require,module,exports) {
var define;
var global = arguments[3];
var i,e=arguments[3];!function(e){var o=/iPhone/i,t=/iPod/i,n=/iPad/i,d=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,s=/Android/i,r=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,b=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,h=/Windows Phone/i,a=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,l=/BlackBerry/i,p=/BB10/i,u=/Opera Mini/i,c=/(CriOS|Chrome)(?=.*\bMobile\b)/i,f=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,w=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),v=function(i,e){return i.test(e)},A=function(i){var e=i||navigator.userAgent,A=e.split("[FBAN");if(void 0!==A[1]&&(e=A[0]),void 0!==(A=e.split("Twitter"))[1]&&(e=A[0]),this.apple={phone:v(o,e),ipod:v(t,e),tablet:!v(o,e)&&v(n,e),device:v(o,e)||v(t,e)||v(n,e)},this.amazon={phone:v(r,e),tablet:!v(r,e)&&v(b,e),device:v(r,e)||v(b,e)},this.android={phone:v(r,e)||v(d,e),tablet:!v(r,e)&&!v(d,e)&&(v(b,e)||v(s,e)),device:v(r,e)||v(b,e)||v(d,e)||v(s,e)},this.windows={phone:v(h,e),tablet:v(a,e),device:v(h,e)||v(a,e)},this.other={blackberry:v(l,e),blackberry10:v(p,e),opera:v(u,e),firefox:v(f,e),chrome:v(c,e),device:v(l,e)||v(p,e)||v(u,e)||v(f,e)||v(c,e)},this.seven_inch=v(w,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},F=function(){var i=new A;return i.Class=A,i};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=A:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=F():"function"==typeof i&&i.amd?i("isMobile",[],e.isMobile=F()):e.isMobile=F()}(this);
},{}],"9jvm":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=r;var e=require("ismobilejs"),t=u(e);function u(e){return e&&e.__esModule?e:{default:e}}function r(e){return t.default.tablet||t.default.phone?4:e}
},{"ismobilejs":"ydT8"}],"0qRi":[function(require,module,exports) {
"use strict";function t(){return!(!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}exports.__esModule=!0,exports.default=t;
},{}],"7eWp":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./utils/maxRecommendedTextures"),E=R(e),_=require("./utils/canUploadSameBuffer"),r=R(_);function R(e){return e&&e.__esModule?e:{default:e}}exports.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,E.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,r.default)(),MESH_CANVAS_PADDING:0};
},{"./utils/maxRecommendedTextures":"9jvm","./utils/canUploadSameBuffer":"0qRi"}],"XeYJ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../math");function r(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var o=function(){function o(){r(this,o),this.worldTransform=new t.Matrix,this.localTransform=new t.Matrix,this._worldID=0,this._parentID=0}return o.prototype.updateLocalTransform=function(){},o.prototype.updateTransform=function(t){var r=t.worldTransform,o=this.worldTransform,a=this.localTransform;o.a=a.a*r.a+a.b*r.c,o.b=a.a*r.b+a.b*r.d,o.c=a.c*r.a+a.d*r.c,o.d=a.c*r.b+a.d*r.d,o.tx=a.tx*r.a+a.ty*r.c+r.tx,o.ty=a.tx*r.b+a.ty*r.d+r.ty,this._worldID++},o}();exports.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o;
},{"../math":"SQeI"}],"JBmb":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,o){for(var e=0;e<o.length;e++){var i=o[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(o,e,i){return e&&t(o.prototype,e),i&&t(o,i),o}}(),o=require("../math"),e=require("./TransformBase"),i=s(e);function s(t){return t&&t.__esModule?t:{default:t}}function n(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function r(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}function a(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var c=function(e){function i(){n(this,i);var t=r(this,e.call(this));return t.position=new o.ObservablePoint(t.onChange,t,0,0),t.scale=new o.ObservablePoint(t.onChange,t,1,1),t.pivot=new o.ObservablePoint(t.onChange,t,0,0),t.skew=new o.ObservablePoint(t.updateSkew,t,0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t._localID=0,t._currentLocalID=0,t}return a(i,e),i.prototype.onChange=function(){this._localID++},i.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},i.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},i.prototype.updateTransform=function(t){var o=this.localTransform;if(this._localID!==this._currentLocalID&&(o.a=this._cx*this.scale._x,o.b=this._sx*this.scale._x,o.c=this._cy*this.scale._y,o.d=this._sy*this.scale._y,o.tx=this.position._x-(this.pivot._x*o.a+this.pivot._y*o.c),o.ty=this.position._y-(this.pivot._x*o.b+this.pivot._y*o.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var e=t.worldTransform,i=this.worldTransform;i.a=o.a*e.a+o.b*e.c,i.b=o.a*e.b+o.b*e.d,i.c=o.c*e.a+o.d*e.c,i.d=o.c*e.b+o.d*e.d,i.tx=o.tx*e.a+o.ty*e.c+e.tx,i.ty=o.tx*e.b+o.ty*e.d+e.ty,this._parentID=t._worldID,this._worldID++}},i.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},t(i,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),i}(i.default);exports.default=c;
},{"../math":"SQeI","./TransformBase":"XeYJ"}],"Qb1O":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var o=0;o<i.length;o++){var e=i[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(i,o,e){return o&&t(i.prototype,o),e&&t(i,e),i}}(),i=require("../math"),o=require("./TransformBase"),e=s(o);function s(t){return t&&t.__esModule?t:{default:t}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function r(t,i){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?t:i}function a(t,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);t.prototype=Object.create(i&&i.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(t,i):t.__proto__=i)}var c=function(o){function e(){n(this,e);var t=r(this,o.call(this));return t.position=new i.Point(0,0),t.scale=new i.Point(1,1),t.skew=new i.ObservablePoint(t.updateSkew,t,0,0),t.pivot=new i.Point(0,0),t._rotation=0,t._cx=1,t._sx=0,t._cy=0,t._sy=1,t}return a(e,o),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var i=this.localTransform;i.a=this._cx*this.scale.x,i.b=this._sx*this.scale.x,i.c=this._cy*this.scale.y,i.d=this._sy*this.scale.y,i.tx=this.position.x-(this.pivot.x*i.a+this.pivot.y*i.c),i.ty=this.position.y-(this.pivot.x*i.b+this.pivot.y*i.d);var o=t.worldTransform,e=this.worldTransform;e.a=i.a*o.a+i.b*o.c,e.b=i.a*o.b+i.b*o.d,e.c=i.c*o.a+i.d*o.c,e.d=i.c*o.b+i.d*o.d,e.tx=i.tx*o.a+i.ty*o.c+o.tx,e.ty=i.tx*o.b+i.ty*o.d+o.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},t(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(e.default);exports.default=c;
},{"../math":"SQeI","./TransformBase":"XeYJ"}],"4JyF":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("eventemitter3"),r=c(e),n=require("../const"),s=require("../settings"),i=c(s),o=require("./TransformStatic"),a=c(o),l=require("./Transform"),u=c(l),h=require("./Bounds"),p=c(h),f=require("../math");function c(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var _=function(e){function r(){d(this,r);var t=m(this,e.call(this)),s=i.default.TRANSFORM_MODE===n.TRANSFORM_MODE.STATIC?a.default:u.default;return t.tempDisplayObjectParent=null,t.transform=new s,t.alpha=1,t.visible=!0,t.renderable=!0,t.parent=null,t.worldAlpha=1,t.filterArea=null,t._filters=null,t._enabledFilters=null,t._bounds=new p.default,t._boundsID=0,t._lastBoundsID=-1,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._destroyed=!1,t}return y(r,e),r.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},r.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},r.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new f.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},r.prototype.getLocalBounds=function(t){var e=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new f.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=r,this.transform=e,n},r.prototype.toGlobal=function(t,e){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},r.prototype.toLocal=function(t,e,r,n){return e&&(t=e.toGlobal(t,r,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,r)},r.prototype.renderWebGL=function(t){},r.prototype.renderCanvas=function(t){},r.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},r.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=r||1,this.scale.y=n||1,this.rotation=s,this.skew.x=i,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this},r.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},t(r,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new r),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=t,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),r}(r.default);exports.default=_,_.prototype.displayObjectUpdateTransform=_.prototype.updateTransform;
},{"eventemitter3":"LqgX","../const":"LWAx","../settings":"7eWp","./TransformStatic":"JBmb","./Transform":"Qb1O","./Bounds":"n3Mm","../math":"SQeI"}],"eiM9":[function(require,module,exports) {
"use strict";function i(i){i.__plugins={},i.registerPlugin=function(n,s){i.__plugins[n]=s},i.prototype.initPlugins=function(){for(var n in this.plugins=this.plugins||{},i.__plugins)this.plugins[n]=new i.__plugins[n](this)},i.prototype.destroyPlugins=function(){for(var i in this.plugins)this.plugins[i].destroy(),this.plugins[i]=null;this.plugins=null}}exports.__esModule=!0,exports.default={mixin:function(n){i(n)}};
},{}],"3jno":[function(require,module,exports) {
"use strict";function e(e,r){if(e&&r)for(var t=Object.keys(r),n=0;n<t.length;++n){var o=t[n];Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(r,o))}}exports.__esModule=!0,exports.mixin=e,exports.delayMixin=t,exports.performMixins=n;var r=[];function t(e,t){r.push(e,t)}function n(){for(var t=0;t<r.length;t+=2)e(r[t],r[t+1]);r.length=0}
},{}],"Fo5F":[function(require,module,exports) {
"use strict";module.exports=function(t,e,r){var n,o=t.length;if(!(e>=o||0===r)){var f=o-(r=e+r>o?o-e:r);for(n=e;n<f;++n)t[n]=t[n+r];t.length=f}};
},{}],"WuEY":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=E;var D=require("../const");function E(){for(var E=[],N=[],M=0;M<32;M++)E[M]=M,N[M]=M;E[D.BLEND_MODES.NORMAL_NPM]=D.BLEND_MODES.NORMAL,E[D.BLEND_MODES.ADD_NPM]=D.BLEND_MODES.ADD,E[D.BLEND_MODES.SCREEN_NPM]=D.BLEND_MODES.SCREEN,N[D.BLEND_MODES.NORMAL]=D.BLEND_MODES.NORMAL_NPM,N[D.BLEND_MODES.ADD]=D.BLEND_MODES.ADD_NPM,N[D.BLEND_MODES.SCREEN]=D.BLEND_MODES.SCREEN_NPM;var _=[];return _.push(N),_.push(E),_}
},{"../const":"LWAx"}],"d3f1":[function(require,module,exports) {
"use strict";function e(e,t,x){x=x||2;var i,u,v,y,o,p,l,a=t&&t.length,h=a?t[0]*x:e.length,s=n(e,0,h,x,!0),c=[];if(!s)return c;if(a&&(s=f(e,t,s,x)),e.length>80*x){i=v=e[0],u=y=e[1];for(var Z=x;Z<h;Z+=x)(o=e[Z])<i&&(i=o),(p=e[Z+1])<u&&(u=p),o>v&&(v=o),p>y&&(y=p);l=0!==(l=Math.max(v-i,y-u))?1/l:0}return r(s,c,x,i,u,l),c}function n(e,n,t,r,x){var i,u;if(x===A(e,n,t,r)>0)for(i=n;i<t;i+=r)u=k(i,e[i],e[i+1],u);else for(i=t-r;i>=n;i-=r)u=k(i,e[i],e[i+1],u);return u&&g(u,u.next)&&(j(u),u=u.next),u}function t(e,n){if(!e)return e;n||(n=e);var t,r=e;do{if(t=!1,r.steiner||!g(r,r.next)&&0!==d(r.prev,r,r.next))r=r.next;else{if(j(r),(r=n=r.prev)===r.next)break;t=!0}}while(t||r!==n);return n}function r(e,n,f,y,o,p,a){if(e){!a&&p&&l(e,y,o,p);for(var h,s,c=e;e.prev!==e.next;)if(h=e.prev,s=e.next,p?i(e,y,o,p):x(e))n.push(h.i/f),n.push(e.i/f),n.push(s.i/f),j(e),e=s.next,c=s.next;else if((e=s)===c){a?1===a?r(e=u(e,n,f),n,f,y,o,p,2):2===a&&v(e,n,f,y,o,p):r(t(e),n,f,y,o,p,1);break}}}function x(e){var n=e.prev,t=e,r=e.next;if(d(n,t,r)>=0)return!1;for(var x=e.next.next;x!==e.prev;){if(c(n.x,n.y,t.x,t.y,r.x,r.y,x.x,x.y)&&d(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function i(e,n,t,r){var x=e.prev,i=e,u=e.next;if(d(x,i,u)>=0)return!1;for(var v=x.x<i.x?x.x<u.x?x.x:u.x:i.x<u.x?i.x:u.x,f=x.y<i.y?x.y<u.y?x.y:u.y:i.y<u.y?i.y:u.y,y=x.x>i.x?x.x>u.x?x.x:u.x:i.x>u.x?i.x:u.x,o=x.y>i.y?x.y>u.y?x.y:u.y:i.y>u.y?i.y:u.y,p=h(v,f,n,t,r),l=h(y,o,n,t,r),a=e.prevZ,s=e.nextZ;a&&a.z>=p&&s&&s.z<=l;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;if(a=a.prevZ,s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&d(s.prev,s,s.next)>=0)return!1;s=s.nextZ}for(;a&&a.z>=p;){if(a!==e.prev&&a!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,a.x,a.y)&&d(a.prev,a,a.next)>=0)return!1;a=a.prevZ}for(;s&&s.z<=l;){if(s!==e.prev&&s!==e.next&&c(x.x,x.y,i.x,i.y,u.x,u.y,s.x,s.y)&&d(s.prev,s,s.next)>=0)return!1;s=s.nextZ}return!0}function u(e,n,t){var r=e;do{var x=r.prev,i=r.next.next;!g(x,i)&&w(x,r,r.next,i)&&b(x,i)&&b(i,x)&&(n.push(x.i/t),n.push(r.i/t),n.push(i.i/t),j(r),j(r.next),r=e=i),r=r.next}while(r!==e);return r}function v(e,n,x,i,u,v){var f=e;do{for(var y=f.next.next;y!==f.prev;){if(f.i!==y.i&&Z(f,y)){var o=m(f,y);return f=t(f,f.next),o=t(o,o.next),r(f,n,x,i,u,v),void r(o,n,x,i,u,v)}y=y.next}f=f.next}while(f!==e)}function f(e,r,x,i){var u,v,f,p=[];for(u=0,v=r.length;u<v;u++)(f=n(e,r[u]*i,u<v-1?r[u+1]*i:e.length,i,!1))===f.next&&(f.steiner=!0),p.push(s(f));for(p.sort(y),u=0;u<p.length;u++)o(p[u],x),x=t(x,x.next);return x}function y(e,n){return e.x-n.x}function o(e,n){if(n=p(e,n)){var r=m(n,e);t(r,r.next)}}function p(e,n){var t,r=n,x=e.x,i=e.y,u=-1/0;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var v=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(v<=x&&v>u){if(u=v,v===x){if(i===r.y)return r;if(i===r.next.y)return r.next}t=r.x<r.next.x?r:r.next}}r=r.next}while(r!==n);if(!t)return null;if(x===u)return t.prev;var f,y=t,o=t.x,p=t.y,l=1/0;for(r=t.next;r!==y;)x>=r.x&&r.x>=o&&x!==r.x&&c(i<p?x:u,i,o,p,i<p?u:x,i,r.x,r.y)&&((f=Math.abs(i-r.y)/(x-r.x))<l||f===l&&r.x>t.x)&&b(r,e)&&(t=r,l=f),r=r.next;return t}function l(e,n,t,r){var x=e;do{null===x.z&&(x.z=h(x.x,x.y,n,t,r)),x.prevZ=x.prev,x.nextZ=x.next,x=x.next}while(x!==e);x.prevZ.nextZ=null,x.prevZ=null,a(x)}function a(e){var n,t,r,x,i,u,v,f,y=1;do{for(t=e,e=null,i=null,u=0;t;){for(u++,r=t,v=0,n=0;n<y&&(v++,r=r.nextZ);n++);for(f=y;v>0||f>0&&r;)0!==v&&(0===f||!r||t.z<=r.z)?(x=t,t=t.nextZ,v--):(x=r,r=r.nextZ,f--),i?i.nextZ=x:e=x,x.prevZ=i,i=x;t=r}i.nextZ=null,y*=2}while(u>1);return e}function h(e,n,t,r,x){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-t)*x)|e<<8))|e<<4))|e<<2))|e<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=32767*(n-r)*x)|n<<8))|n<<4))|n<<2))|n<<1))<<1}function s(e){var n=e,t=e;do{n.x<t.x&&(t=n),n=n.next}while(n!==e);return t}function c(e,n,t,r,x,i,u,v){return(x-u)*(n-v)-(e-u)*(i-v)>=0&&(e-u)*(r-v)-(t-u)*(n-v)>=0&&(t-u)*(i-v)-(x-u)*(r-v)>=0}function Z(e,n){return e.next.i!==n.i&&e.prev.i!==n.i&&!z(e,n)&&b(e,n)&&b(n,e)&&M(e,n)}function d(e,n,t){return(n.y-e.y)*(t.x-n.x)-(n.x-e.x)*(t.y-n.y)}function g(e,n){return e.x===n.x&&e.y===n.y}function w(e,n,t,r){return!!(g(e,n)&&g(t,r)||g(e,r)&&g(t,n))||d(e,n,t)>0!=d(e,n,r)>0&&d(t,r,e)>0!=d(t,r,n)>0}function z(e,n){var t=e;do{if(t.i!==e.i&&t.next.i!==e.i&&t.i!==n.i&&t.next.i!==n.i&&w(t,t.next,e,n))return!0;t=t.next}while(t!==e);return!1}function b(e,n){return d(e.prev,e,e.next)<0?d(e,n,e.next)>=0&&d(e,e.prev,n)>=0:d(e,n,e.prev)<0||d(e,e.next,n)<0}function M(e,n){var t=e,r=!1,x=(e.x+n.x)/2,i=(e.y+n.y)/2;do{t.y>i!=t.next.y>i&&t.next.y!==t.y&&x<(t.next.x-t.x)*(i-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next}while(t!==e);return r}function m(e,n){var t=new q(e.i,e.x,e.y),r=new q(n.i,n.x,n.y),x=e.next,i=n.prev;return e.next=n,n.prev=e,t.next=x,x.prev=t,r.next=t,t.prev=r,i.next=r,r.prev=i,r}function k(e,n,t,r){var x=new q(e,n,t);return r?(x.next=r.next,x.prev=r,r.next.prev=x,r.next=x):(x.prev=x,x.next=x),x}function j(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function q(e,n,t){this.i=e,this.x=n,this.y=t,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(e,n,t,r){for(var x=0,i=n,u=t-r;i<t;i+=r)x+=(e[u]-e[i])*(e[i+1]+e[u+1]),u=i;return x}module.exports=e,module.exports.default=e,e.deviation=function(e,n,t,r){var x=n&&n.length,i=x?n[0]*t:e.length,u=Math.abs(A(e,0,i,t));if(x)for(var v=0,f=n.length;v<f;v++){var y=n[v]*t,o=v<f-1?n[v+1]*t:e.length;u-=Math.abs(A(e,y,o,t))}var p=0;for(v=0;v<r.length;v+=3){var l=r[v]*t,a=r[v+1]*t,h=r[v+2]*t;p+=Math.abs((e[l]-e[h])*(e[a+1]-e[l+1])-(e[l]-e[a])*(e[h+1]-e[l+1]))}return 0===u&&0===p?0:Math.abs((p-u)/u)},e.flatten=function(e){for(var n=e[0][0].length,t={vertices:[],holes:[],dimensions:n},r=0,x=0;x<e.length;x++){for(var i=0;i<e[x].length;i++)for(var u=0;u<n;u++)t.vertices.push(e[x][i][u]);x>0&&(r+=e[x-1].length,t.holes.push(r))}return t};
},{}],"7Y0b":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.premultiplyBlendMode=exports.BaseTextureCache=exports.TextureCache=exports.earcut=exports.mixins=exports.pluginTarget=exports.EventEmitter=exports.removeItems=exports.isMobile=void 0,exports.uid=y,exports.hex2rgb=C,exports.hex2string=T,exports.rgb2hex=E,exports.getResolutionOfUrl=_,exports.decomposeDataUri=M,exports.getUrlFileExtension=I,exports.getSvgSize=L,exports.skipHello=S,exports.sayHello=k,exports.isWebGLSupported=R,exports.sign=q,exports.destroyTextureCache=j,exports.clearTextureCache=A,exports.correctBlendMode=P,exports.premultiplyTint=N,exports.premultiplyRgba=U,exports.premultiplyTintToRgba=G;var e=require("../const"),r=require("../settings"),t=b(r),o=require("eventemitter3"),n=b(o),i=require("./pluginTarget"),a=b(i),u=require("./mixin"),s=m(u),p=require("ismobilejs"),c=m(p),l=require("remove-array-items"),d=b(l),x=require("./mapPremultipliedBlendModes"),f=b(x),g=require("earcut"),v=b(g);function m(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function b(e){return e&&e.__esModule?e:{default:e}}var w=0,h=!1;function y(){return++w}function C(e,r){return(r=r||[])[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,r}function T(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)}function E(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)}function _(e,r){var o=t.default.RETINA_PREFIX.exec(e);return o?parseFloat(o[1]):void 0!==r?r:1}function M(r){var t=e.DATA_URI.exec(r);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]}}function I(r){var t=e.URL_FILE_EXTENSION.exec(r);if(t)return t[1].toLowerCase()}function L(r){var t=e.SVG_SIZE.exec(r),o={};return t&&(o[t[1]]=Math.round(parseFloat(t[3])),o[t[5]]=Math.round(parseFloat(t[7]))),o}function S(){h=!0}function k(r){if(!h){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=["\n %c %c %c PixiJS "+e.VERSION+" - ✰ "+r+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+e.VERSION+" - "+r+" - http://www.pixijs.com/");h=!0}}function R(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var r=document.createElement("canvas"),t=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),o=!(!t||!t.getContextAttributes().stencil);if(t){var n=t.getExtension("WEBGL_lose_context");n&&n.loseContext()}return t=null,o}catch(i){return!1}}function q(e){return 0===e?0:e<0?-1:1}exports.isMobile=c,exports.removeItems=d.default,exports.EventEmitter=n.default,exports.pluginTarget=a.default,exports.mixins=s,exports.earcut=v.default;var O=exports.TextureCache=Object.create(null),F=exports.BaseTextureCache=Object.create(null);function j(){var e=void 0;for(e in O)O[e].destroy();for(e in F)F[e].destroy()}function A(){var e=void 0;for(e in O)delete O[e];for(e in F)delete F[e]}var B=exports.premultiplyBlendMode=(0,f.default)();function P(e,r){return B[r?1:0][e]}function N(e,r){if(1===r)return(255*r<<24)+e;if(0===r)return 0;var t=e>>16&255,o=e>>8&255,n=255&e;return(255*r<<24)+((t=t*r+.5|0)<<16)+((o=o*r+.5|0)<<8)+(n=n*r+.5|0)}function U(e,r,t,o){return t=t||new Float32Array(4),o||void 0===o?(t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r):(t[0]=e[0],t[1]=e[1],t[2]=e[2]),t[3]=r,t}function G(e,r,t,o){return(t=t||new Float32Array(4))[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,(o||void 0===o)&&(t[0]*=r,t[1]*=r,t[2]*=r),t[3]=r,t}
},{"../const":"LWAx","../settings":"7eWp","eventemitter3":"LqgX","./pluginTarget":"eiM9","./mixin":"3jno","ismobilejs":"ydT8","remove-array-items":"Fo5F","./mapPremultipliedBlendModes":"WuEY","earcut":"d3f1"}],"vjaY":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../utils"),r=require("./DisplayObject"),n=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(r){function n(){s(this,n);var e=h(this,r.call(this));return e.children=[],e}return o(n,r),n.prototype.onChildrenChange=function(){},n.prototype.addChild=function(e){var t=arguments.length;if(t>1)for(var r=0;r<t;r++)this.addChild(arguments[r]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},n.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e},n.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}},n.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},n.prototype.setChildIndex=function(e,r){if(r<0||r>=this.children.length)throw new Error("The index "+r+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(e);(0,t.removeItems)(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)},n.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},n.prototype.removeChild=function(e){var r=arguments.length;if(r>1)for(var n=0;n<r;n++)this.removeChild(arguments[n]);else{var i=this.children.indexOf(e);if(-1===i)return null;e.parent=null,e.transform._parentID=-1,(0,t.removeItems)(this.children,i,1),this._boundsID++,this.onChildrenChange(i),e.emit("removed",this)}return e},n.prototype.removeChildAt=function(e){var r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,(0,t.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),r},n.prototype.removeChildren=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],r=e,n="number"==typeof t?t:this.children.length,i=n-r,s=void 0;if(i>0&&i<=n){s=this.children.splice(r,i);for(var h=0;h<s.length;++h)s[h].parent=null,s[h].transform&&(s[h].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var o=0;o<s.length;++o)s[o].emit("removed",this);return s}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},n.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},n.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID},n.prototype._calculateBounds=function(){},n.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderWebGL(e)}},n.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}r&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var i=0,s=this.children.length;i<s;i++)this.children[i].renderWebGL(e);e.flush(),r&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},n.prototype._renderWebGL=function(e){},n.prototype._renderCanvas=function(e){},n.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},n.prototype.destroy=function(e){r.prototype.destroy.call(this);var t="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(t)for(var i=0;i<n.length;++i)n[i].destroy(e)},e(n,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),n}(n.default);exports.default=l,l.prototype.containerUpdateTransform=l.prototype.updateTransform;
},{"../utils":"7Y0b","./DisplayObject":"4JyF"}],"sBBS":[function(require,module,exports) {
var global = arguments[3];
var define;
var o,e=arguments[3];!function(n){var r="object"==typeof exports&&exports&&!exports.nodeType&&exports,t="object"==typeof module&&module&&!module.nodeType&&module,u="object"==typeof e&&e;u.global!==u&&u.window!==u&&u.self!==u||(n=u);var i,f,c=2147483647,l=36,s=1,p=26,a=38,d=700,h=72,v=128,g="-",w=/^xn--/,x=/[^\x20-\x7E]/,y=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=l-s,b=Math.floor,j=String.fromCharCode;function A(o){throw new RangeError(m[o])}function I(o,e){for(var n=o.length,r=[];n--;)r[n]=e(o[n]);return r}function E(o,e){var n=o.split("@"),r="";return n.length>1&&(r=n[0]+"@",o=n[1]),r+I((o=o.replace(y,".")).split("."),e).join(".")}function F(o){for(var e,n,r=[],t=0,u=o.length;t<u;)(e=o.charCodeAt(t++))>=55296&&e<=56319&&t<u?56320==(64512&(n=o.charCodeAt(t++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),t--):r.push(e);return r}function O(o){return I(o,function(o){var e="";return o>65535&&(e+=j((o-=65536)>>>10&1023|55296),o=56320|1023&o),e+=j(o)}).join("")}function S(o,e){return o+22+75*(o<26)-((0!=e)<<5)}function T(o,e,n){var r=0;for(o=n?b(o/d):o>>1,o+=b(o/e);o>C*p>>1;r+=l)o=b(o/C);return b(r+(C+1)*o/(o+a))}function L(o){var e,n,r,t,u,i,f,a,d,w,x,y=[],m=o.length,C=0,j=v,I=h;for((n=o.lastIndexOf(g))<0&&(n=0),r=0;r<n;++r)o.charCodeAt(r)>=128&&A("not-basic"),y.push(o.charCodeAt(r));for(t=n>0?n+1:0;t<m;){for(u=C,i=1,f=l;t>=m&&A("invalid-input"),((a=(x=o.charCodeAt(t++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:l)>=l||a>b((c-C)/i))&&A("overflow"),C+=a*i,!(a<(d=f<=I?s:f>=I+p?p:f-I));f+=l)i>b(c/(w=l-d))&&A("overflow"),i*=w;I=T(C-u,e=y.length+1,0==u),b(C/e)>c-j&&A("overflow"),j+=b(C/e),C%=e,y.splice(C++,0,j)}return O(y)}function M(o){var e,n,r,t,u,i,f,a,d,w,x,y,m,C,I,E=[];for(y=(o=F(o)).length,e=v,n=0,u=h,i=0;i<y;++i)(x=o[i])<128&&E.push(j(x));for(r=t=E.length,t&&E.push(g);r<y;){for(f=c,i=0;i<y;++i)(x=o[i])>=e&&x<f&&(f=x);for(f-e>b((c-n)/(m=r+1))&&A("overflow"),n+=(f-e)*m,e=f,i=0;i<y;++i)if((x=o[i])<e&&++n>c&&A("overflow"),x==e){for(a=n,d=l;!(a<(w=d<=u?s:d>=u+p?p:d-u));d+=l)I=a-w,C=l-w,E.push(j(S(w+I%C,0))),a=b(I/C);E.push(j(S(a,0))),u=T(n,m,r==t),n=0,++r}++n,++e}return E.join("")}if(i={version:"1.4.1",ucs2:{decode:F,encode:O},decode:L,encode:M,toASCII:function(o){return E(o,function(o){return x.test(o)?"xn--"+M(o):o})},toUnicode:function(o){return E(o,function(o){return w.test(o)?L(o.slice(4).toLowerCase()):o})}},"function"==typeof o&&"object"==typeof o.amd&&o.amd)o("punycode",function(){return i});else if(r&&t)if(module.exports==r)t.exports=i;else for(f in i)i.hasOwnProperty(f)&&(r[f]=i[f]);else n.punycode=i}(this);
},{}],"3oHu":[function(require,module,exports) {
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};
},{}],"ObZ4":[function(require,module,exports) {
"use strict";function r(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(t,n,o,a){n=n||"&",o=o||"=";var s={};if("string"!=typeof t||0===t.length)return s;var p=/\+/g;t=t.split(n);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var i=0;i<c;++i){var y,l,f,v,b=t[i].replace(p,"%20"),d=b.indexOf(o);d>=0?(y=b.substr(0,d),l=b.substr(d+1)):(y=b,l=""),f=decodeURIComponent(y),v=decodeURIComponent(l),r(s,f)?e(s[f])?s[f].push(v):s[f]=[s[f],v]:s[f]=v}return s};var e=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};
},{}],"XK8a":[function(require,module,exports) {
"use strict";var n=function(n){switch(typeof n){case"string":return n;case"boolean":return n?"true":"false";case"number":return isFinite(n)?n:"";default:return""}};module.exports=function(o,u,c,a){return u=u||"&",c=c||"=",null===o&&(o=void 0),"object"==typeof o?r(t(o),function(t){var a=encodeURIComponent(n(t))+c;return e(o[t])?r(o[t],function(e){return a+encodeURIComponent(n(e))}).join(u):a+encodeURIComponent(n(o[t]))}).join(u):a?encodeURIComponent(n(a))+c+encodeURIComponent(n(o)):""};var e=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)};function r(n,e){if(n.map)return n.map(e);for(var r=[],t=0;t<n.length;t++)r.push(e(n[t],t));return r}var t=Object.keys||function(n){var e=[];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.push(r);return e};
},{}],"SF0R":[function(require,module,exports) {
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");
},{"./decode":"ObZ4","./encode":"XK8a"}],"j37I":[function(require,module,exports) {
"use strict";var t=require("punycode"),s=require("./util");function h(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=b,exports.resolve=O,exports.resolveObject=d,exports.format=q,exports.Url=h;var e=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,o=["<",">",'"',"`"," ","\r","\n","\t"],n=["{","}","|","\\","^","`"].concat(o),i=["'"].concat(n),l=["%","/","?",";","#"].concat(i),p=["/","?","#"],c=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=require("querystring");function b(t,e,a){if(t&&s.isObject(t)&&t instanceof h)return t;var r=new h;return r.parse(t,e,a),r}function q(t){return s.isString(t)&&(t=b(t)),t instanceof h?t.format():h.prototype.format.call(t)}function O(t,s){return b(t,!1,!0).resolve(s)}function d(t,s){return t?b(t,!1,!0).resolveObject(s):s}h.prototype.parse=function(h,a,o){if(!s.isString(h))throw new TypeError("Parameter 'url' must be a string, not "+typeof h);var n=h.indexOf("?"),b=-1!==n&&n<h.indexOf("#")?"?":"#",q=h.split(b);q[0]=q[0].replace(/\\/g,"/");var O=h=q.join(b);if(O=O.trim(),!o&&1===h.split("#").length){var d=r.exec(O);if(d)return this.path=O,this.href=O,this.pathname=d[1],d[2]?(this.search=d[2],this.query=a?y.parse(this.search.substr(1)):this.search.substr(1)):a&&(this.search="",this.query={}),this}var j=e.exec(O);if(j){var x=(j=j[0]).toLowerCase();this.protocol=x,O=O.substr(j.length)}if(o||j||O.match(/^\/\/[^@\/]+@[^@\/]+/)){var A="//"===O.substr(0,2);!A||j&&v[j]||(O=O.substr(2),this.slashes=!0)}if(!v[j]&&(A||j&&!g[j])){for(var C,I,w=-1,U=0;U<p.length;U++){-1!==(k=O.indexOf(p[U]))&&(-1===w||k<w)&&(w=k)}-1!==(I=-1===w?O.lastIndexOf("@"):O.lastIndexOf("@",w))&&(C=O.slice(0,I),O=O.slice(I+1),this.auth=decodeURIComponent(C)),w=-1;for(U=0;U<l.length;U++){var k;-1!==(k=O.indexOf(l[U]))&&(-1===w||k<w)&&(w=k)}-1===w&&(w=O.length),this.host=O.slice(0,w),O=O.slice(w),this.parseHost(),this.hostname=this.hostname||"";var N="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!N)for(var R=this.hostname.split(/\./),S=(U=0,R.length);U<S;U++){var $=R[U];if($&&!$.match(u)){for(var z="",H=0,L=$.length;H<L;H++)$.charCodeAt(H)>127?z+="x":z+=$[H];if(!z.match(u)){var Z=R.slice(0,U),_=R.slice(U+1),E=$.match(f);E&&(Z.push(E[1]),_.unshift(E[2])),_.length&&(O="/"+_.join(".")+O),this.hostname=Z.join(".");break}}}this.hostname.length>c?this.hostname="":this.hostname=this.hostname.toLowerCase(),N||(this.hostname=t.toASCII(this.hostname));var P=this.port?":"+this.port:"",T=this.hostname||"";this.host=T+P,this.href+=this.host,N&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==O[0]&&(O="/"+O))}if(!m[x])for(U=0,S=i.length;U<S;U++){var B=i[U];if(-1!==O.indexOf(B)){var D=encodeURIComponent(B);D===B&&(D=escape(B)),O=O.split(B).join(D)}}var F=O.indexOf("#");-1!==F&&(this.hash=O.substr(F),O=O.slice(0,F));var G=O.indexOf("?");if(-1!==G?(this.search=O.substr(G),this.query=O.substr(G+1),a&&(this.query=y.parse(this.query)),O=O.slice(0,G)):a&&(this.search="",this.query={}),O&&(this.pathname=O),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var J=this.search||"";this.path=P+J}return this.href=this.format(),this},h.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var h=this.protocol||"",e=this.pathname||"",a=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&s.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var n=this.search||o&&"?"+o||"";return h&&":"!==h.substr(-1)&&(h+=":"),this.slashes||(!h||g[h])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),a&&"#"!==a.charAt(0)&&(a="#"+a),n&&"?"!==n.charAt(0)&&(n="?"+n),h+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(n=n.replace("#","%23"))+a},h.prototype.resolve=function(t){return this.resolveObject(b(t,!1,!0)).format()},h.prototype.resolveObject=function(t){if(s.isString(t)){var e=new h;e.parse(t,!1,!0),t=e}for(var a=new h,r=Object.keys(this),o=0;o<r.length;o++){var n=r[o];a[n]=this[n]}if(a.hash=t.hash,""===t.href)return a.href=a.format(),a;if(t.slashes&&!t.protocol){for(var i=Object.keys(t),l=0;l<i.length;l++){var p=i[l];"protocol"!==p&&(a[p]=t[p])}return g[a.protocol]&&a.hostname&&!a.pathname&&(a.path=a.pathname="/"),a.href=a.format(),a}if(t.protocol&&t.protocol!==a.protocol){if(!g[t.protocol]){for(var c=Object.keys(t),u=0;u<c.length;u++){var f=c[u];a[f]=t[f]}return a.href=a.format(),a}if(a.protocol=t.protocol,t.host||v[t.protocol])a.pathname=t.pathname;else{for(var m=(t.pathname||"").split("/");m.length&&!(t.host=m.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==m[0]&&m.unshift(""),m.length<2&&m.unshift(""),a.pathname=m.join("/")}if(a.search=t.search,a.query=t.query,a.host=t.host||"",a.auth=t.auth,a.hostname=t.hostname||t.host,a.port=t.port,a.pathname||a.search){var y=a.pathname||"",b=a.search||"";a.path=y+b}return a.slashes=a.slashes||t.slashes,a.href=a.format(),a}var q=a.pathname&&"/"===a.pathname.charAt(0),O=t.host||t.pathname&&"/"===t.pathname.charAt(0),d=O||q||a.host&&t.pathname,j=d,x=a.pathname&&a.pathname.split("/")||[],A=(m=t.pathname&&t.pathname.split("/")||[],a.protocol&&!g[a.protocol]);if(A&&(a.hostname="",a.port=null,a.host&&(""===x[0]?x[0]=a.host:x.unshift(a.host)),a.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===m[0]?m[0]=t.host:m.unshift(t.host)),t.host=null),d=d&&(""===m[0]||""===x[0])),O)a.host=t.host||""===t.host?t.host:a.host,a.hostname=t.hostname||""===t.hostname?t.hostname:a.hostname,a.search=t.search,a.query=t.query,x=m;else if(m.length)x||(x=[]),x.pop(),x=x.concat(m),a.search=t.search,a.query=t.query;else if(!s.isNullOrUndefined(t.search)){if(A)a.hostname=a.host=x.shift(),(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift());return a.search=t.search,a.query=t.query,s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.href=a.format(),a}if(!x.length)return a.pathname=null,a.search?a.path="/"+a.search:a.path=null,a.href=a.format(),a;for(var C=x.slice(-1)[0],I=(a.host||t.host||x.length>1)&&("."===C||".."===C)||""===C,w=0,U=x.length;U>=0;U--)"."===(C=x[U])?x.splice(U,1):".."===C?(x.splice(U,1),w++):w&&(x.splice(U,1),w--);if(!d&&!j)for(;w--;w)x.unshift("..");!d||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),I&&"/"!==x.join("/").substr(-1)&&x.push("");var k,N=""===x[0]||x[0]&&"/"===x[0].charAt(0);A&&(a.hostname=a.host=N?"":x.length?x.shift():"",(k=!!(a.host&&a.host.indexOf("@")>0)&&a.host.split("@"))&&(a.auth=k.shift(),a.host=a.hostname=k.shift()));return(d=d||a.host&&x.length)&&!N&&x.unshift(""),x.length?a.pathname=x.join("/"):(a.pathname=null,a.path=null),s.isNull(a.pathname)&&s.isNull(a.search)||(a.path=(a.pathname?a.pathname:"")+(a.search?a.search:"")),a.auth=t.auth||a.auth,a.slashes=a.slashes||t.slashes,a.href=a.format(),a},h.prototype.parseHost=function(){var t=this.host,s=a.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};
},{"punycode":"sBBS","./util":"3oHu","querystring":"SF0R"}],"Ts+d":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=n;var o=require("url"),e=t(o);function t(o){return o&&o.__esModule?o:{default:o}}var r=void 0;function n(o){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===o.indexOf("data:"))return"";t=t||window.location,r||(r=document.createElement("a")),r.href=o;var n=!(o=e.default.parse(r.href)).port&&""===t.port||o.port===t.port;return o.hostname===t.hostname&&n&&o.protocol===t.protocol?"":"anonymous"}
},{"url":"j37I"}],"9UW0":[function(require,module,exports) {
"use strict";var r=32;function n(r){var n=32;return(r&=-r)&&n--,65535&r&&(n-=16),16711935&r&&(n-=8),252645135&r&&(n-=4),858993459&r&&(n-=2),1431655765&r&&(n-=1),n}exports.INT_BITS=r,exports.INT_MAX=2147483647,exports.INT_MIN=-1<<r-1,exports.sign=function(r){return(r>0)-(r<0)},exports.abs=function(n){var t=n>>r-1;return(n^t)-t},exports.min=function(r,n){return n^(r^n)&-(r<n)},exports.max=function(r,n){return r^(r^n)&-(r<n)},exports.isPow2=function(r){return!(r&r-1||!r)},exports.log2=function(r){var n,t;return n=(r>65535)<<4,n|=t=((r>>>=n)>255)<<3,n|=t=((r>>>=t)>15)<<2,(n|=t=((r>>>=t)>3)<<1)|(r>>>=t)>>1},exports.log10=function(r){return r>=1e9?9:r>=1e8?8:r>=1e7?7:r>=1e6?6:r>=1e5?5:r>=1e4?4:r>=1e3?3:r>=100?2:r>=10?1:0},exports.popCount=function(r){return 16843009*((r=(858993459&(r-=r>>>1&1431655765))+(r>>>2&858993459))+(r>>>4)&252645135)>>>24},exports.countTrailingZeros=n,exports.nextPow2=function(r){return r+=0===r,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)+1},exports.prevPow2=function(r){return r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,(r|=r>>>16)-(r>>>1)},exports.parity=function(r){return r^=r>>>16,r^=r>>>8,r^=r>>>4,27030>>>(r&=15)&1};var t=new Array(256);!function(r){for(var n=0;n<256;++n){var t=n,e=n,o=7;for(t>>>=1;t;t>>>=1)e<<=1,e|=1&t,--o;r[n]=e<<o&255}}(t),exports.reverse=function(r){return t[255&r]<<24|t[r>>>8&255]<<16|t[r>>>16&255]<<8|t[r>>>24&255]},exports.interleave2=function(r,n){return(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r&=65535)|r<<8))|r<<4))|r<<2))|r<<1))|(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n&=65535)|n<<8))|n<<4))|n<<2))|n<<1))<<1},exports.deinterleave2=function(r,n){return(r=65535&((r=16711935&((r=252645135&((r=858993459&((r=r>>>n&1431655765)|r>>>1))|r>>>2))|r>>>4))|r>>>16))<<16>>16},exports.interleave3=function(r,n,t){return r=1227133513&((r=3272356035&((r=251719695&((r=4278190335&((r&=1023)|r<<16))|r<<8))|r<<4))|r<<2),(r|=(n=1227133513&((n=3272356035&((n=251719695&((n=4278190335&((n&=1023)|n<<16))|n<<8))|n<<4))|n<<2))<<1)|(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<2},exports.deinterleave3=function(r,n){return(r=1023&((r=4278190335&((r=251719695&((r=3272356035&((r=r>>>n&1227133513)|r>>>2))|r>>>4))|r>>>8))|r>>>16))<<22>>22},exports.nextCombination=function(r){var t=r|r-1;return t+1|(~t&-~t)-1>>>n(r)+1};
},{}],"oIyp":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../utils"),t=require("../settings"),i=h(t),r=require("eventemitter3"),o=h(r),s=require("../utils/determineCrossOrigin"),a=h(s),n=require("bit-twiddle"),u=h(n);function h(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(t){function r(o,s,a){d(this,r);var n=l(this,t.call(this));return n.uid=(0,e.uid)(),n.touched=0,n.resolution=a||i.default.RESOLUTION,n.width=100,n.height=100,n.realWidth=100,n.realHeight=100,n.scaleMode=void 0!==s?s:i.default.SCALE_MODE,n.hasLoaded=!1,n.isLoading=!1,n.source=null,n.origSource=null,n.imageType=null,n.sourceScale=1,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=i.default.MIPMAP_TEXTURES,n.wrapMode=i.default.WRAP_MODE,n._glTextures={},n._enabled=0,n._virtalBoundId=-1,n._destroyed=!1,n.textureCacheIds=[],o&&n.loadSource(o),n}return c(r,t),r.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},r.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=u.default.isPow2(this.realWidth)&&u.default.isPow2(this.realHeight)},r.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var r=this;if(e.onload=function(){r._updateImageType(),e.onload=null,e.onerror=null,r.isLoading&&(r.isLoading=!1,r._sourceLoaded(),"svg"!==r.imageType?r.emit("loaded",r):r._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,r.isLoading&&(r.isLoading=!1,r.emit("error",r))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===r.imageType)return void r._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)}}},r.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,e.decomposeDataUri)(this.imageUrl),i=void 0;if(t&&"image"===t.mediaType){var r=t.subType.split("+")[0];if(!(i=(0,e.getUrlFileExtension)("."+r)))throw new Error("Invalid image type in data URI.")}else(i=(0,e.getUrlFileExtension)(this.imageUrl))||(i="png");this.imageType=i}},r.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,e.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},r.prototype._loadSvgSourceUsingDataUri=function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},r.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()},r.prototype._loadSvgSourceUsingString=function(t){var i=(0,e.getSvgSize)(t),o=i.width,s=i.height;if(!o||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(o*this.sourceScale),this.realHeight=Math.round(s*this.sourceScale),this._updateDimensions();var a=document.createElement("canvas");a.width=this.realWidth,a.height=this.realHeight,a._pixiId="canvas_"+(0,e.uid)(),a.getContext("2d").drawImage(this.source,0,0,o,s,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=a,r.addToCache(this,a._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},r.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},r.prototype.destroy=function(){this.imageUrl&&(delete e.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),r.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},r.prototype.dispose=function(){this.emit("dispose",this)},r.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},r.fromImage=function(t,i,o,s){var n=e.BaseTextureCache[t];if(!n){var u=new Image;void 0===i&&0!==t.indexOf("data:")?u.crossOrigin=(0,a.default)(t):i&&(u.crossOrigin="string"==typeof i?i:"anonymous"),(n=new r(u,o)).imageUrl=t,s&&(n.sourceScale=s),n.resolution=(0,e.getResolutionOfUrl)(t),u.src=t,r.addToCache(n,t)}return n},r.fromCanvas=function(t,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=o+"_"+(0,e.uid)());var s=e.BaseTextureCache[t._pixiId];return s||(s=new r(t,i),r.addToCache(s,t._pixiId)),s},r.from=function(t,i,o){if("string"==typeof t)return r.fromImage(t,void 0,i,o);if(t instanceof HTMLImageElement){var s=t.src,a=e.BaseTextureCache[s];return a||((a=new r(t,i)).imageUrl=s,o&&(a.sourceScale=o),a.resolution=(0,e.getResolutionOfUrl)(s),r.addToCache(a,s)),a}return t instanceof HTMLCanvasElement?r.fromCanvas(t,i):t},r.addToCache=function(t,i){i&&(-1===t.textureCacheIds.indexOf(i)&&t.textureCacheIds.push(i),e.BaseTextureCache[i]&&console.warn("BaseTexture added to the cache with an id ["+i+"] that already had an entry"),e.BaseTextureCache[i]=t)},r.removeFromCache=function(t){if("string"==typeof t){var i=e.BaseTextureCache[t];if(i){var r=i.textureCacheIds.indexOf(t);return r>-1&&i.textureCacheIds.splice(r,1),delete e.BaseTextureCache[t],i}}else if(t&&t.textureCacheIds){for(var o=0;o<t.textureCacheIds.length;++o)delete e.BaseTextureCache[t.textureCacheIds[o]];return t.textureCacheIds.length=0,t}return null},r}(o.default);exports.default=g;
},{"../utils":"7Y0b","../settings":"7eWp","eventemitter3":"LqgX","../utils/determineCrossOrigin":"Ts+d","bit-twiddle":"9UW0"}],"Q6wQ":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=function(){function n(i){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t(this,n),this.fn=i,this.context=e,this.priority=s,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return n.prototype.match=function(t,n){return n=n||null,this.fn===t&&this.context===n},n.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var n=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),n},n.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},n.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var n=this.next;return this.next=t?null:n,this.previous=null,n},n}();exports.default=n;
},{}],"EzNR":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),e=require("../settings"),i=a(e),s=require("../const"),n=require("./TickerListener"),r=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var d=function(){function e(){var t=this;o(this,e),this._head=new r.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/i.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new r.default(t,e,i))},e.prototype.addOnce=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.UPDATE_PRIORITY.NORMAL;return this._addListener(new r.default(t,e,i,!0))},e.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},e.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){(e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*i.default.TARGET_FPMS*this.speed;for(var s=this._head,n=s.next;n;)n=n.emit(this.deltaTime);s.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},t(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,i.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),e}();exports.default=d;
},{"../settings":"7eWp","../const":"LWAx","./TickerListener":"Q6wQ"}],"29Q2":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.Ticker=exports.shared=void 0;var e=require("./Ticker"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}var o=new r.default;o.autoStart=!0,o.destroy=function(){},exports.shared=o,exports.Ticker=r.default;
},{"./Ticker":"EzNR"}],"6DB7":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),e=require("./BaseTexture"),i=u(e),r=require("../utils"),o=require("../ticker"),a=require("../const"),n=require("../utils/determineCrossOrigin"),s=u(n);function u(t){return t&&t.__esModule?t:{default:t}}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(e){function n(t,i){if(d(this,n),!t)throw new Error("No video source element specified.");(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0);var r=h(this,e.call(this,t,i));return r.width=t.videoWidth,r.height=t.videoHeight,r._autoUpdate=!0,r._isAutoUpdating=!1,r.autoPlay=!0,r.update=r.update.bind(r),r._onCanPlay=r._onCanPlay.bind(r),t.addEventListener("play",r._onPlayStart.bind(r)),t.addEventListener("pause",r._onPlayStop.bind(r)),r.hasLoaded=!1,r.__loaded=!1,r._isSourceReady()?r._onCanPlay():(t.addEventListener("canplay",r._onCanPlay),t.addEventListener("canplaythrough",r._onCanPlay)),r}return p(n,e),n.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},n.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},n.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(o.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},n.prototype._onPlayStop=function(){this._isAutoUpdating&&(o.shared.remove(this.update,this),this._isAutoUpdating=!1)},n.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},n.prototype.destroy=function(){this._isAutoUpdating&&o.shared.remove(this.update,this),this.source&&this.source._pixiId&&(i.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),e.prototype.destroy.call(this)},n.fromVideo=function(t,e){t._pixiId||(t._pixiId="video_"+(0,r.uid)());var o=r.BaseTextureCache[t._pixiId];return o||(o=new n(t,e),i.default.addToCache(o,t._pixiId)),o},n.fromUrl=function(t,e,i){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var o=Array.isArray(t)?t[0].src||t[0]:t.src||t;if(void 0===i&&0!==o.indexOf("data:")?r.crossOrigin=(0,s.default)(o):i&&(r.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(t))for(var a=0;a<t.length;++a)r.appendChild(l(t[a].src||t[a],t[a].mime));else r.appendChild(l(o,t.mime));return r.load(),n.fromVideo(r,e)},t(n,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(o.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(o.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),n}(i.default);function l(t,e){e||(e="video/"+(t=t.split("?").shift().toLowerCase()).substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=e,i}exports.default=c,c.fromUrls=c.fromUrl;
},{"./BaseTexture":"oIyp","../utils":"7Y0b","../ticker":"29Q2","../const":"LWAx","../utils/determineCrossOrigin":"Ts+d"}],"4dJ9":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../math/GroupD8"),i=s(t);function s(t){return t&&t.__esModule?t:{default:t}}function h(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(){h(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,s,h){var u=s.width,e=s.height;if(h){var a=t.width/2/u,d=t.height/2/e,n=t.x/u+a,f=t.y/e+d;h=i.default.add(h,i.default.NW),this.x0=n+a*i.default.uX(h),this.y0=f+d*i.default.uY(h),h=i.default.add(h,2),this.x1=n+a*i.default.uX(h),this.y1=f+d*i.default.uY(h),h=i.default.add(h,2),this.x2=n+a*i.default.uX(h),this.y2=f+d*i.default.uY(h),h=i.default.add(h,2),this.x3=n+a*i.default.uX(h),this.y3=f+d*i.default.uY(h)}else this.x0=t.x/u,this.y0=t.y/e,this.x1=(t.x+t.width)/u,this.y1=t.y/e,this.x2=(t.x+t.width)/u,this.y2=(t.y+t.height)/e,this.x3=t.x/u,this.y3=(t.y+t.height)/e;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();exports.default=u;
},{"../math/GroupD8":"Ixn5"}],"QMiZ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,r,a){return r&&e(t.prototype,r),a&&e(t,a),t}}(),t=require("./BaseTexture"),r=l(t),a=require("./VideoBaseTexture"),n=l(a),i=require("./TextureUvs"),o=l(i),u=require("eventemitter3"),s=l(u),h=require("../math"),f=require("../utils"),d=require("../settings"),c=l(d);function l(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function T(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(t){function a(e,r,n,i,o,u){m(this,a);var s=x(this,t.call(this));if(s.noFrame=!1,r||(s.noFrame=!0,r=new h.Rectangle(0,0,1,1)),e instanceof a&&(e=e.baseTexture),s.baseTexture=e,s._frame=r,s.trim=i,s.valid=!1,s.requiresUpdate=!1,s._uvs=null,s.orig=n||r,s._rotate=Number(o||0),!0===o)s._rotate=2;else if(s._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return e.hasLoaded?(s.noFrame&&(r=new h.Rectangle(0,0,e.width,e.height),e.on("update",s.onBaseTextureUpdated,s)),s.frame=r):e.once("loaded",s.onBaseTextureLoaded,s),s.defaultAnchor=u?new h.Point(u.x,u.y):new h.Point(0,0),s._updateID=0,s.transform=null,s.textureCacheIds=[],s}return T(a,t),a.prototype.update=function(){this.baseTexture.update()},a.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.noFrame?this.frame=new h.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},a.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},a.prototype.destroy=function(e){this.baseTexture&&(e&&(f.TextureCache[this.baseTexture.imageUrl]&&a.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,a.removeFromCache(this),this.textureCacheIds=null},a.prototype.clone=function(){return new a(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},a.prototype._updateUvs=function(){this._uvs||(this._uvs=new o.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},a.fromImage=function(e,t,n,i){var o=f.TextureCache[e];return o||(o=new a(r.default.fromImage(e,t,n,i)),a.addToCache(o,e)),o},a.fromFrame=function(e){var t=f.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},a.fromCanvas=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new a(r.default.fromCanvas(e,t,n))},a.fromVideo=function(e,t){return"string"==typeof e?a.fromVideoUrl(e,t):new a(n.default.fromVideo(e,t))},a.fromVideoUrl=function(e,t){return new a(n.default.fromUrl(e,t))},a.from=function(e){if("string"==typeof e){var t=f.TextureCache[e];return t||(null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/)?a.fromVideoUrl(e):a.fromImage(e))}return e instanceof HTMLImageElement?new a(r.default.from(e)):e instanceof HTMLCanvasElement?a.fromCanvas(e,c.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?a.fromVideo(e):e instanceof r.default?new a(e):e},a.fromLoader=function(e,t,n){var i=new r.default(e,void 0,(0,f.getResolutionOfUrl)(t)),o=new a(i);return i.imageUrl=t,n||(n=t),r.default.addToCache(o.baseTexture,n),a.addToCache(o,n),n!==t&&(r.default.addToCache(o.baseTexture,t),a.addToCache(o,t)),o},a.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),f.TextureCache[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),f.TextureCache[t]=e)},a.removeFromCache=function(e){if("string"==typeof e){var t=f.TextureCache[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete f.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var a=0;a<e.textureCacheIds.length;++a)f.TextureCache[e.textureCacheIds[a]]===e&&delete f.TextureCache[e.textureCacheIds[a]];return e.textureCacheIds.length=0,e}return null},e(a,[{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,a=e.width,n=e.height,i=t+a>this.baseTexture.width,o=r+n>this.baseTexture.height;if(i||o){var u=i&&o?"and":"or",s="X: "+t+" + "+a+" = "+(t+a)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+s+" "+u+" "+h)}this.valid=a&&n&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),a}(s.default);function v(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new p(new r.default(e))}function w(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}exports.default=p,p.EMPTY=new p(new r.default),w(p.EMPTY),w(p.EMPTY.baseTexture),p.WHITE=v(),w(p.WHITE),w(p.WHITE.baseTexture);
},{"./BaseTexture":"oIyp","./VideoBaseTexture":"6DB7","./TextureUvs":"4dJ9","eventemitter3":"LqgX","../math":"SQeI","../utils":"7Y0b","../settings":"7eWp"}],"n6qo":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),e=require("../math"),r=require("../utils"),i=require("../const"),n=require("../textures/Texture"),s=a(n),h=require("../display/Container"),o=a(h);function a(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=new e.Point,d=function(n){function h(t){u(this,h);var r=c(this,n.call(this));return r._anchor=new e.ObservablePoint(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=i.BLEND_MODES.NORMAL,r.shader=null,r.cachedTint=16777215,r.texture=t||s.default.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.pluginName="sprite",r}return _(h,n),h.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,r.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,r.sign)(this.scale.y)*this._height/this._texture.orig.height)},h.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},h.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,r=e.a,i=e.b,n=e.c,s=e.d,h=e.tx,o=e.ty,a=this.vertexData,u=t.trim,c=t.orig,_=this._anchor,l=0,d=0,f=0,x=0;u?(l=(d=u.x-_._x*c.width)+u.width,f=(x=u.y-_._y*c.height)+u.height):(l=(d=-_._x*c.width)+c.width,f=(x=-_._y*c.height)+c.height),a[0]=r*d+n*x+h,a[1]=s*x+i*d+o,a[2]=r*l+n*x+h,a[3]=s*x+i*l+o,a[4]=r*l+n*f+h,a[5]=s*f+i*l+o,a[6]=r*d+n*f+h,a[7]=s*f+i*d+o}},h.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,r=t.orig,i=this._anchor,n=this.transform.worldTransform,s=n.a,h=n.b,o=n.c,a=n.d,u=n.tx,c=n.ty,_=-i._x*r.width,l=_+r.width,d=-i._y*r.height,f=d+r.height;e[0]=s*_+o*d+u,e[1]=a*d+h*_+c,e[2]=s*l+o*d+u,e[3]=a*d+h*l+c,e[4]=s*l+o*f+u,e[5]=a*f+h*l+c,e[6]=s*_+o*f+u,e[7]=a*f+h*_+c},h.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},h.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},h.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},h.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new e.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):n.prototype.getLocalBounds.call(this,t)},h.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,l);var e=this._texture.orig.width,r=this._texture.orig.height,i=-e*this.anchor.x,n=0;return l.x>=i&&l.x<i+e&&(n=-r*this.anchor.y,l.y>=n&&l.y<n+r)},h.prototype.destroy=function(t){if(n.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var e="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!e)}this._texture=null,this.shader=null},h.from=function(t){return new h(s.default.from(t))},h.fromFrame=function(t){var e=r.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new h(e)},h.fromImage=function(t,e,r){return new h(s.default.fromImage(t,e,r))},t(h,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,r.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,r.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t||s.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),h}(o.default);exports.default=d;
},{"../math":"SQeI","../utils":"7Y0b","../const":"LWAx","../textures/Texture":"QMiZ","../display/Container":"vjaY"}],"9RKB":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./BaseTexture"),e=o(t),i=require("../settings"),r=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,h=arguments[2],l=arguments[3];n(this,e);var a=s(this,t.call(this,null,h));return a.resolution=l||r.default.RESOLUTION,a.width=Math.ceil(i),a.height=Math.ceil(o),a.realWidth=a.width*a.resolution,a.realHeight=a.height*a.resolution,a.scaleMode=void 0!==h?h:r.default.SCALE_MODE,a.hasLoaded=!0,a._glRenderTargets={},a._canvasRenderTarget=null,a.valid=!1,a}return h(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(e.default);exports.default=l;
},{"./BaseTexture":"oIyp","../settings":"7eWp"}],"GZDt":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./BaseRenderTexture"),t=i(e),r=require("./Texture"),n=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=function(e){function r(n,i){o(this,r);var u=null;if(!(n instanceof t.default)){var s=arguments[1],c=arguments[2],l=arguments[3],f=arguments[4];console.warn("Please use RenderTexture.create("+s+", "+c+") instead of the ctor directly."),u=arguments[0],i=null,n=new t.default(s,c,l,f)}var h=a(this,e.call(this,n,i));return h.legacyRenderer=u,h.valid=!0,h._updateUvs(),h}return u(r,e),r.prototype.resize=function(e,t,r){e=Math.ceil(e),t=Math.ceil(t),this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,r||this.baseTexture.resize(e,t),this._updateUvs()},r.create=function(e,n,i,o){return new r(new t.default(e,n,i,o))},r}(n.default);exports.default=s;
},{"./BaseRenderTexture":"9RKB","./Texture":"QMiZ"}],"6xu6":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../utils"),r=require("../math"),n=require("../const"),i=require("../settings"),o=d(i),s=require("../display/Container"),u=d(s),a=require("../textures/RenderTexture"),l=d(a),h=require("eventemitter3"),c=d(h);function d(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=new r.Matrix,w=function(i){function s(e,a,l,h){f(this,s);var c=p(this,i.call(this));return(0,t.sayHello)(e),"number"==typeof a&&(a=Object.assign({width:a,height:l||o.default.RENDER_OPTIONS.height},h)),a=Object.assign({},o.default.RENDER_OPTIONS,a),c.options=a,c.type=n.RENDERER_TYPE.UNKNOWN,c.screen=new r.Rectangle(0,0,a.width,a.height),c.view=a.view||document.createElement("canvas"),c.resolution=a.resolution||o.default.RESOLUTION,c.transparent=a.transparent,c.autoResize=a.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=a.preserveDrawingBuffer,c.clearBeforeRender=a.clearBeforeRender,c.roundPixels=a.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=a.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new u.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return g(s,i),s.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},s.prototype.generateTexture=function(e,t,r,n){n=n||e.getLocalBounds();var i=l.default.create(0|n.width,0|n.height,t,r);return b.tx=-n.x,b.ty=-n.y,this.render(e,i,!1,b,!!e.parent),i},s.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=n.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},e(s,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,t.hex2string)(e),(0,t.hex2rgb)(e,this._backgroundColorRgba)}}]),s}(c.default);exports.default=w;
},{"../utils":"7Y0b","../math":"SQeI","../const":"LWAx","../settings":"7eWp","../display/Container":"vjaY","../textures/RenderTexture":"GZDt","eventemitter3":"LqgX"}],"dU+u":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../../const");function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function r(e){t(this,r),this.renderer=e}return r.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var r=e.alpha,o=e.transform.worldTransform,a=t.resolution;t.context.setTransform(o.a*a,o.b*a,o.c*a,o.d*a,o.tx*a,o.ty*a),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=r},r.prototype.renderGraphicsShape=function(t){var r=this.renderer.context,o=t.graphicsData.length;if(0!==o){r.beginPath();for(var a=0;a<o;a++){var i=t.graphicsData[a],n=i.shape;if(i.type===e.SHAPES.POLY){var s=n.points;r.moveTo(s[0],s[1]);for(var h=1;h<s.length/2;h++)r.lineTo(s[2*h],s[2*h+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&r.closePath()}else if(i.type===e.SHAPES.RECT)r.rect(n.x,n.y,n.width,n.height),r.closePath();else if(i.type===e.SHAPES.CIRC)r.arc(n.x,n.y,n.radius,0,2*Math.PI),r.closePath();else if(i.type===e.SHAPES.ELIP){var c=2*n.width,l=2*n.height,p=n.x-c/2,u=n.y-l/2,v=c/2*.5522848,d=l/2*.5522848,f=p+c,T=u+l,y=p+c/2,P=u+l/2;r.moveTo(p,P),r.bezierCurveTo(p,P-d,y-v,u,y,u),r.bezierCurveTo(y+v,u,f,P-d,f,P),r.bezierCurveTo(f,P+d,y+v,T,y,T),r.bezierCurveTo(y-v,T,p,P+d,p,P),r.closePath()}else if(i.type===e.SHAPES.RREC){var x=n.x,C=n.y,S=n.width,g=n.height,E=n.radius,m=Math.min(S,g)/2|0;E=E>m?m:E,r.moveTo(x,C+E),r.lineTo(x,C+g-E),r.quadraticCurveTo(x,C+g,x+E,C+g),r.lineTo(x+S-E,C+g),r.quadraticCurveTo(x+S,C+g,x+S,C+g-E),r.lineTo(x+S,C+E),r.quadraticCurveTo(x+S,C,x+S-E,C),r.lineTo(x+E,C),r.quadraticCurveTo(x,C,x,C+E),r.closePath()}}}},r.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},r.prototype.destroy=function(){},r}();exports.default=r;
},{"../../../const":"LWAx"}],"fd99":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("../../../settings"),n=i(e);function i(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t,i,o){s(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=o||n.default.RESOLUTION,this.resize(t,i)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},t(e,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),e}();exports.default=o;
},{"../../../settings":"7eWp"}],"wL3i":[function(require,module,exports) {
"use strict";function e(e){var t=document.createElement("canvas");t.width=6,t.height=1;var a=t.getContext("2d");return a.fillStyle=e,a.fillRect(0,0,6,1),t}function t(){if("undefined"==typeof document)return!1;var t=e("#ff00ff"),a=e("#ffff00"),r=document.createElement("canvas");r.width=6,r.height=1;var n=r.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(t,0,0),n.drawImage(a,2,0);var f=n.getImageData(2,0,1,1);if(!f)return!1;var i=f.data;return 255===i[0]&&0===i[1]&&0===i[2]}exports.__esModule=!0,exports.default=t;
},{}],"xjFg":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=L;var E=require("../../../const"),D=require("./canUseNewCanvasBlendModes"),e=O(D);function O(E){return E&&E.__esModule?E:{default:E}}function L(){var D=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,e.default)()?(D[E.BLEND_MODES.NORMAL]="source-over",D[E.BLEND_MODES.ADD]="lighter",D[E.BLEND_MODES.MULTIPLY]="multiply",D[E.BLEND_MODES.SCREEN]="screen",D[E.BLEND_MODES.OVERLAY]="overlay",D[E.BLEND_MODES.DARKEN]="darken",D[E.BLEND_MODES.LIGHTEN]="lighten",D[E.BLEND_MODES.COLOR_DODGE]="color-dodge",D[E.BLEND_MODES.COLOR_BURN]="color-burn",D[E.BLEND_MODES.HARD_LIGHT]="hard-light",D[E.BLEND_MODES.SOFT_LIGHT]="soft-light",D[E.BLEND_MODES.DIFFERENCE]="difference",D[E.BLEND_MODES.EXCLUSION]="exclusion",D[E.BLEND_MODES.HUE]="hue",D[E.BLEND_MODES.SATURATION]="saturate",D[E.BLEND_MODES.COLOR]="color",D[E.BLEND_MODES.LUMINOSITY]="luminosity"):(D[E.BLEND_MODES.NORMAL]="source-over",D[E.BLEND_MODES.ADD]="lighter",D[E.BLEND_MODES.MULTIPLY]="source-over",D[E.BLEND_MODES.SCREEN]="source-over",D[E.BLEND_MODES.OVERLAY]="source-over",D[E.BLEND_MODES.DARKEN]="source-over",D[E.BLEND_MODES.LIGHTEN]="source-over",D[E.BLEND_MODES.COLOR_DODGE]="source-over",D[E.BLEND_MODES.COLOR_BURN]="source-over",D[E.BLEND_MODES.HARD_LIGHT]="source-over",D[E.BLEND_MODES.SOFT_LIGHT]="source-over",D[E.BLEND_MODES.DIFFERENCE]="source-over",D[E.BLEND_MODES.EXCLUSION]="source-over",D[E.BLEND_MODES.HUE]="source-over",D[E.BLEND_MODES.SATURATION]="source-over",D[E.BLEND_MODES.COLOR]="source-over",D[E.BLEND_MODES.LUMINOSITY]="source-over"),D[E.BLEND_MODES.NORMAL_NPM]=D[E.BLEND_MODES.NORMAL],D[E.BLEND_MODES.ADD_NPM]=D[E.BLEND_MODES.ADD],D[E.BLEND_MODES.SCREEN_NPM]=D[E.BLEND_MODES.SCREEN],D}
},{"../../../const":"LWAx","./canUseNewCanvasBlendModes":"wL3i"}],"xIW1":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../SystemRenderer"),e=p(t),o=require("./utils/CanvasMaskManager"),n=p(o),r=require("./utils/CanvasRenderTarget"),i=p(r),s=require("./utils/mapCanvasBlendModesToPixi"),a=p(s),l=require("../../utils"),h=require("../../const"),d=require("../../settings"),c=p(d);function p(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(t){function e(o,r,i){u(this,e);var s=g(this,t.call(this,"Canvas",o,r,i));return s.type=h.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new n.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,a.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return m(e,t),e.prototype.render=function(t,e,o,n,r){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var s=this.resolution;e?((e=e.baseTexture||e)._canvasRenderTarget||(e._canvasRenderTarget=new i.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!r){var l=t.parent,d=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(d),this._tempDisplayObjectParent.transform._worldID=-1):d.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=l}a.save(),a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,this._activeBlendMode=h.BLEND_MODES.NORMAL,a.globalCompositeOperation=this.blendModes[h.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==o?o:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var c=this.context;this.context=a,t.renderCanvas(this),this.context=c,a.restore(),this.resolution=s,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,o){t.prototype.resize.call(this,e,o),this.smoothProperty&&(this.rootContext[this.smoothProperty]=c.default.SCALE_MODE===h.SCALE_MODES.LINEAR)},e.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},e}(e.default);exports.default=f,l.pluginTarget.mixin(f);
},{"../SystemRenderer":"6xu6","./utils/CanvasMaskManager":"dU+u","./utils/CanvasRenderTarget":"fd99","./utils/mapCanvasBlendModesToPixi":"xjFg","../../utils":"7Y0b","../../const":"LWAx","../../settings":"7eWp"}],"cVw2":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../utils"),e=require("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),i=a(e);function a(t){return t&&t.__esModule?t:{default:t}}var h={getTintedTexture:function(t,e){var i=t._texture,a="#"+("00000"+(0|(e=h.roundColor(e))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var r=i.tintCache[a],n=void 0;if(r){if(r.tintId===i._updateID)return i.tintCache[a];n=i.tintCache[a]}else n=h.canvas||document.createElement("canvas");if(h.tintMethod(i,e,n),n.tintId=i._updateID,h.convertTintToImage){var o=new Image;o.src=n.toDataURL(),i.tintCache[a]=o}else i.tintCache[a]=n,h.canvas=null;return n},tintWithMultiply:function(t,e,i){var a=i.getContext("2d"),h=t._frame.clone(),r=t.baseTexture.resolution;h.x*=r,h.y*=r,h.width*=r,h.height*=r,i.width=Math.ceil(h.width),i.height=Math.ceil(h.height),a.save(),a.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),a.fillRect(0,0,h.width,h.height),a.globalCompositeOperation="multiply",a.drawImage(t.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height),a.globalCompositeOperation="destination-atop",a.drawImage(t.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height),a.restore()},tintWithOverlay:function(t,e,i){var a=i.getContext("2d"),h=t._frame.clone(),r=t.baseTexture.resolution;h.x*=r,h.y*=r,h.width*=r,h.height*=r,i.width=Math.ceil(h.width),i.height=Math.ceil(h.height),a.save(),a.globalCompositeOperation="copy",a.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),a.fillRect(0,0,h.width,h.height),a.globalCompositeOperation="destination-atop",a.drawImage(t.baseTexture.source,h.x,h.y,h.width,h.height,0,0,h.width,h.height),a.restore()},tintWithPerPixel:function(e,i,a){var h=a.getContext("2d"),r=e._frame.clone(),n=e.baseTexture.resolution;r.x*=n,r.y*=n,r.width*=n,r.height*=n,a.width=Math.ceil(r.width),a.height=Math.ceil(r.height),h.save(),h.globalCompositeOperation="copy",h.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),h.restore();for(var o=(0,t.hex2rgb)(i),l=o[0],s=o[1],u=o[2],d=h.getImageData(0,0,r.width,r.height),c=d.data,g=0;g<c.length;g+=4)c[g+0]*=l,c[g+1]*=s,c[g+2]*=u;h.putImageData(d,0,0)},roundColor:function(e){var i=h.cacheStepsPerColorChannel,a=(0,t.hex2rgb)(e);return a[0]=Math.min(255,a[0]/i*i),a[1]=Math.min(255,a[1]/i*i),a[2]=Math.min(255,a[2]/i*i),(0,t.rgb2hex)(a)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,i.default)(),tintMethod:0};h.tintMethod=h.canUseMultiply?h.tintWithMultiply:h.tintWithPerPixel,exports.default=h;
},{"../../utils":"7Y0b","../../renderers/canvas/utils/canUseNewCanvasBlendModes":"wL3i"}],"lJr0":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../renderers/canvas/CanvasRenderer"),e=a(t),r=require("../../const"),o=require("../../math"),n=require("./CanvasTinter"),i=a(n);function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=new o.Matrix,d=function(){function t(e){s(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,n=this.renderer,a=e._frame.width,s=e._frame.height,d=t.transform.worldTransform,l=0,c=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(n.setBlendMode(t.blendMode),e.valid)){n.context.globalAlpha=t.worldAlpha;var h=e.baseTexture.scaleMode===r.SCALE_MODES.LINEAR;n.smoothProperty&&n.context[n.smoothProperty]!==h&&(n.context[n.smoothProperty]=h),e.trim?(l=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,c=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(l=(.5-t.anchor.x)*e.orig.width,c=(.5-t.anchor.y)*e.orig.height),e.rotate&&(d.copy(u),d=u,o.GroupD8.matrixAppendRotationInv(d,e.rotate,l,c),l=0,c=0),l-=a/2,c-=s/2,n.roundPixels?(n.context.setTransform(d.a,d.b,d.c,d.d,d.tx*n.resolution|0,d.ty*n.resolution|0),l|=0,c|=0):n.context.setTransform(d.a,d.b,d.c,d.d,d.tx*n.resolution,d.ty*n.resolution);var x=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=i.default.getTintedTexture(t,t.tint)),n.context.drawImage(t.tintedTexture,0,0,a*x,s*x,l*n.resolution,c*n.resolution,a*n.resolution,s*n.resolution)):n.context.drawImage(e.baseTexture.source,e._frame.x*x,e._frame.y*x,a*x,s*x,l*n.resolution,c*n.resolution,a*n.resolution,s*n.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();exports.default=d,e.default.registerPlugin("sprite",d);
},{"../../renderers/canvas/CanvasRenderer":"xIW1","../../const":"LWAx","../../math":"SQeI","./CanvasTinter":"cVw2"}],"WOLK":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=function(){function n(e){t(this,n),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return n.prototype.onContextChange=function(){},n.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},n}();exports.default=n;
},{}],"xJXs":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../managers/WebGLManager"),e=o(t);function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var i=function(t){function e(){return n(this,e),r(this,t.apply(this,arguments))}return u(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(e.default);exports.default=i;
},{"../managers/WebGLManager":"WOLK"}],"9wrK":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=i;var e=require("pixi-gl-core"),r=t(e);function t(e){return e&&e.__esModule?e:{default:e}}var a=r.default.shader.defaultValue;function i(e,r,t){var a=u(e,t),i=u(r,t);return Object.assign(a,i)}function u(e){for(var r=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),t={},i=void 0,u=e.replace(/\s+/g," ").split(/\s*;\s*/),l=0;l<u.length;l++){var n=u[l].trim();if(n.indexOf("uniform")>-1){var s=n.split(" "),f=s[1],o=s[2],p=1;o.indexOf("[")>-1&&(i=o.split(/\[|]/),o=i[0],p*=Number(i[1])),o.match(r)||(t[o]={value:a(f,p),name:o,type:f})}}return t}
},{"pixi-gl-core":"kSum"}],"xkFr":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(r,t,i){return t&&e(r.prototype,t),i&&e(r,i),r}}(),r=require("./extractUniformsFromSrc"),t=u(r),i=require("../../../utils"),o=require("../../../const"),n=require("../../../settings"),a=u(n);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var l={},c=function(){function r(e,n,u){for(var c in s(this,r),this.vertexSrc=e||r.defaultVertexSrc,this.fragmentSrc=n||r.defaultFragmentSrc,this._blendMode=o.BLEND_MODES.NORMAL,this.uniformData=u||(0,t.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[c]=this.uniformData[c].value,this.uniformData[c].type&&(this.uniformData[c].type=this.uniformData[c].type.toLowerCase());this.glShaders={},l[this.vertexSrc+this.fragmentSrc]||(l[this.vertexSrc+this.fragmentSrc]=(0,i.uid)()),this.glShaderKey=l[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=a.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return r.prototype.apply=function(e,r,t,i,o){e.applyFilter(this,r,t,i)},e(r,[{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),r}();exports.default=c;
},{"./extractUniformsFromSrc":"9wrK","../../../utils":"7Y0b","../../../const":"LWAx","../../../settings":"7eWp"}],"g5I+":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"sNrv":[function(require,module,exports) {
var process = require("process");
var r=require("process");function t(r,t){for(var e=0,n=r.length-1;n>=0;n--){var s=r[n];"."===s?r.splice(n,1):".."===s?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,n=function(r){return e.exec(r).slice(1)};function s(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var e="",n=!1,o=arguments.length-1;o>=-1&&!n;o--){var i=o>=0?arguments[o]:r.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(e=i+"/"+e,n="/"===i.charAt(0))}return(n?"/":"")+(e=t(s(e.split("/"),function(r){return!!r}),!n).join("/"))||"."},exports.normalize=function(r){var e=exports.isAbsolute(r),n="/"===o(r,-1);return(r=t(s(r.split("/"),function(r){return!!r}),!e).join("/"))||e||(r="."),r&&n&&(r+="/"),(e?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(s(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),s=e(t.split("/")),o=Math.min(n.length,s.length),i=o,u=0;u<o;u++)if(n[u]!==s[u]){i=u;break}var l=[];for(u=i;u<n.length;u++)l.push("..");return(l=l.concat(s.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){var t=n(r),e=t[0],s=t[1];return e||s?(s&&(s=s.substr(0,s.length-1)),e+s):"."},exports.basename=function(r,t){var e=n(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){return n(r)[3]};var o="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};
},{"process":"g5I+"}],"yz/0":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(e,r,a){return r&&t(e.prototype,r),a&&t(e,a),e}}(),e=require("../math/Matrix"),r=a(e);function a(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=new r.default,n=function(){function e(t,a){i(this,e),this._texture=t,this.mapCoord=new r.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===a?.5:a}return e.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var r=this.mapCoord,a=0;a<t.length;a+=2){var i=t[a],u=t[a+1];e[a]=i*r.a+u*r.c+r.tx,e[a+1]=i*r.b+u*r.d+r.ty}return e},e.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var r=e._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var a=e.orig,i=e.trim;i&&(u.set(a.width/i.width,0,0,a.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(u));var n=e.baseTexture,s=this.uClampFrame,h=this.clampMargin/n.resolution,o=this.clampOffset;return s[0]=(e._frame.x+h+o)/n.width,s[1]=(e._frame.y+h+o)/n.height,s[2]=(e._frame.x+e._frame.width-h+o)/n.width,s[3]=(e._frame.y+e._frame.height-h+o)/n.height,this.uClampOffset[0]=o/n.realWidth,this.uClampOffset[1]=o/n.realHeight,!0},t(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),e}();exports.default=n;
},{"../math/Matrix":"fVyN"}],"n8/D":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var r=require("../Filter"),e=i(r),t=require("../../../../math"),n=require("path"),o=require("../../../../textures/TextureMatrix"),a=i(o);function i(r){return r&&r.__esModule?r:{default:r}}function s(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function u(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function p(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var l=function(r){function e(n){s(this,e);var o=new t.Matrix,a=u(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return n.renderable=!1,a.maskSprite=n,a.maskMatrix=o,a}return p(e,r),e.prototype.apply=function(r,e,t){var n=this.maskSprite,o=this.maskSprite.texture;o.valid&&(o.transform||(o.transform=new a.default(o,0)),o.transform.update(),this.uniforms.mask=o,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,n).prepend(o.transform.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=o.transform.uClampFrame,r.applyFilter(this,e,t))},e}(e.default);exports.default=l;
},{"../Filter":"xkFr","../../../../math":"SQeI","path":"sNrv","../../../../textures/TextureMatrix":"yz/0"}],"+lAX":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./WebGLManager"),t=i(e),r=require("../filters/spriteMask/SpriteMaskFilter"),s=i(r);function i(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(e){function t(r){n(this,t);var s=a(this,e.call(this,r));return s.scissor=!1,s.scissorData=null,s.scissorRenderTarget=null,s.enableScissor=!0,s.alphaMaskPool=[],s.alphaMaskIndex=0,s}return o(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var r=t.worldTransform,s=Math.atan2(r.b,r.a);(s=Math.round(s*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new s.default(t)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,r),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var r=this.renderer._activeRenderTarget,s=t.getBounds();s.fit(r.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var i=this.renderer.resolution;this.renderer.gl.scissor(s.x*i,(r.root?r.size.height-s.y-s.height:s.y)*i,s.width*i,s.height*i),this.scissorRenderTarget=r,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(t.default);exports.default=l;
},{"./WebGLManager":"WOLK","../filters/spriteMask/SpriteMaskFilter":"n8/D"}],"86Wf":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./WebGLManager"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=function(e){function r(t){n(this,r);var i=s(this,e.call(this,t));return i.stencilMaskStack=null,i}return i(r,e),r.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},r.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,r=this.stencilMaskStack.length;0===r&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,r,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},r.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},r.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},r.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},r.prototype.destroy=function(){t.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},r}(t.default);exports.default=c;
},{"./WebGLManager":"WOLK"}],"BzBx":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../../math"),e=require("../../../const"),i=require("../../../settings"),r=a(i),s=require("pixi-gl-core");function a(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function i(a,o,h,f,u,l){n(this,i),this.gl=a,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new t.Rectangle(0,0,1,1),this.resolution=u||r.default.RESOLUTION,this.projectionMatrix=new t.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new t.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==f?f:r.default.SCALE_MODE,this.root=l,this.root?(this.frameBuffer=new s.GLFramebuffer(a,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=s.GLFramebuffer.createRGBA(a,100,100),this.scaleMode===e.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(o,h)}return i.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},i.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},i.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},i.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},i.prototype.calculateProjection=function(t,e){var i=this.projectionMatrix;e=e||t,i.identity(),this.root?(i.a=1/t.width*2,i.d=-1/t.height*2,i.tx=-1-e.x*i.a,i.ty=1-e.y*i.d):(i.a=1/t.width*2,i.d=1/t.height*2,i.tx=-1-e.x*i.a,i.ty=-1-e.y*i.d)},i.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},i.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},i}();exports.default=o;
},{"../../../math":"SQeI","../../../const":"LWAx","../../../settings":"7eWp","pixi-gl-core":"kSum"}],"1tno":[function(require,module,exports) {
"use strict";function r(r){for(var e=6*r,t=new Uint16Array(e),n=0,o=0;n<e;n+=6,o+=4)t[n+0]=o+0,t[n+1]=o+1,t[n+2]=o+2,t[n+3]=o+0,t[n+4]=o+2,t[n+5]=o+3;return t}exports.__esModule=!0,exports.default=r;
},{}],"QA+E":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("pixi-gl-core"),e=r(t),i=require("../../../utils/createIndicesForQuads"),s=r(i);function r(t){return t&&t.__esModule?t:{default:t}}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=function(){function t(i,r){h(this,t),this.gl=i,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var u=0;u<4;u++)this.interleaved[4*u]=this.vertices[2*u],this.interleaved[4*u+1]=this.vertices[2*u+1],this.interleaved[4*u+2]=this.uvs[2*u],this.interleaved[4*u+3]=this.uvs[2*u+1];this.indices=(0,s.default)(1),this.vertexBuffer=e.default.GLBuffer.createVertexBuffer(i,this.interleaved,i.STATIC_DRAW),this.indexBuffer=e.default.GLBuffer.createIndexBuffer(i,this.indices,i.STATIC_DRAW),this.vao=new e.default.VertexArrayObject(i,r)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+e.width/t.width,this.uvs[3]=s,this.uvs[4]=i+e.width/t.width,this.uvs[5]=s+e.height/t.height,this.uvs[6]=i,this.uvs[7]=s+e.height/t.height,i=e.x,s=e.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+e.width,this.vertices[3]=s,this.vertices[4]=i+e.width,this.vertices[5]=s+e.height,this.vertices[6]=i,this.vertices[7]=s+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();exports.default=u;
},{"pixi-gl-core":"kSum","../../../utils/createIndicesForQuads":"1tno"}],"HzbE":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("pixi-gl-core"),t=require("./settings"),r=n(t);function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var r=e.slice(0);return r.unshift("precision "+t+" float;"),r}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}var f=function(e){function t(n,u,f,c,a){return o(this,t),i(this,e.call(this,n,s(u,a||r.default.PRECISION_VERTEX),s(f,a||r.default.PRECISION_FRAGMENT),void 0,c))}return u(t,e),t}(e.GLShader);exports.default=f;
},{"pixi-gl-core":"kSum","./settings":"7eWp"}],"kQv6":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.calculateScreenSpaceMatrix=e,exports.calculateNormalizedScreenSpaceMatrix=r,exports.calculateSpriteMatrix=a;var t=require("../../../math");function e(t,e,r){var a=t.identity();return a.translate(e.x/r.width,e.y/r.height),a.scale(r.width,r.height),a}function r(t,e,r){var a=t.identity();a.translate(e.x/r.width,e.y/r.height);var i=r.width/e.width,h=r.height/e.height;return a.scale(i,h),a}function a(e,r,a,i){var h=i._texture.orig,n=e.set(a.width,0,0,a.height,r.x,r.y),c=i.worldTransform.copy(t.Matrix.TEMP_MATRIX);return c.invert(),n.prepend(c),n.scale(1/h.width,1/h.height),n.translate(i.anchor.x,i.anchor.y),n}
},{"../../../math":"SQeI"}],"ohI9":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./WebGLManager"),r=g(e),t=require("../utils/RenderTarget"),i=g(t),a=require("../utils/Quad"),n=g(a),s=require("../../../math"),o=require("../../../Shader"),l=g(o),h=require("../filters/filterTransforms"),d=c(h),u=require("bit-twiddle"),f=g(u);function c(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function g(e){return e&&e.__esModule?e:{default:e}}function p(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function T(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var v=function(){function e(){m(this,e),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new s.Rectangle,this.destinationFrame=new s.Rectangle,this.filters=[]}return e.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},e}(),y="screen",x=function(e){function r(t){m(this,r);var i=p(this,e.call(this,t));return i.gl=i.renderer.gl,i.quad=new n.default(i.gl,t.state.attribState),i.shaderCache={},i.pool={},i.filterData=null,i.managedFilters=[],i.renderer.on("prerender",i.onPrerender,i),i._screenWidth=t.view.width,i._screenHeight=t.view.height,i}return T(r,e),r.prototype.pushFilter=function(e,r){var t=this.renderer,i=this.filterData;if(!i){i=this.renderer._activeRenderTarget.filterStack;var a=new v;a.sourceFrame=a.destinationFrame=this.renderer._activeRenderTarget.size,a.renderTarget=t._activeRenderTarget,this.renderer._activeRenderTarget.filterData=i={index:0,stack:[a]},this.filterData=i}var n=i.stack[++i.index],s=i.stack[0].destinationFrame;n||(n=i.stack[i.index]=new v);var o=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===t.screen.width&&e.filterArea.height===t.screen.height,l=r[0].resolution,h=0|r[0].padding,d=o?t.screen:e.filterArea||e.getBounds(!0),u=n.sourceFrame,f=n.destinationFrame;u.x=(d.x*l|0)/l,u.y=(d.y*l|0)/l,u.width=(d.width*l|0)/l,u.height=(d.height*l|0)/l,o||(i.stack[0].renderTarget.transform||r[0].autoFit&&u.fit(s),u.pad(h)),f.width=u.width,f.height=u.height;var c=this.getPotRenderTarget(t.gl,u.width,u.height,l);n.target=e,n.filters=r,n.resolution=l,n.renderTarget=c,c.setFrame(f,u),t.bindRenderTarget(c),c.clear()},r.prototype.popFilter=function(){var e=this.filterData,r=e.stack[e.index-1],t=e.stack[e.index];this.quad.map(t.renderTarget.size,t.sourceFrame).upload();var i=t.filters;if(1===i.length)i[0].apply(this,t.renderTarget,r.renderTarget,!1,t),this.freePotRenderTarget(t.renderTarget);else{var a=t.renderTarget,n=this.getPotRenderTarget(this.renderer.gl,t.sourceFrame.width,t.sourceFrame.height,t.resolution);n.setFrame(t.destinationFrame,t.sourceFrame),n.clear();var s=0;for(s=0;s<i.length-1;++s){i[s].apply(this,a,n,!0,t);var o=a;a=n,n=o}i[s].apply(this,a,r.renderTarget,!1,t),this.freePotRenderTarget(a),this.freePotRenderTarget(n)}t.clear(),e.index--,0===e.index&&(this.filterData=null)},r.prototype.applyFilter=function(e,r,t,i){var a=this.renderer,n=a.gl,s=e.glShaders[a.CONTEXT_UID];s||(e.glShaderKey?(s=this.shaderCache[e.glShaderKey])||(s=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[a.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=s,this.managedFilters.push(e)):(s=e.glShaders[a.CONTEXT_UID]=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),a.bindVao(null),this.quad.initVao(s)),a.bindVao(this.quad.vao),a.bindRenderTarget(t),i&&(n.disable(n.SCISSOR_TEST),a.clear(),n.enable(n.SCISSOR_TEST)),t===a.maskManager.scissorRenderTarget&&a.maskManager.pushScissorMask(null,a.maskManager.scissorData),a.bindShader(s);var o=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=o,this.syncUniforms(s,e),a.state.setBlendMode(e.blendMode),n.activeTexture(n.TEXTURE0),n.bindTexture(n.TEXTURE_2D,r.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),n.bindTexture(n.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)},r.prototype.syncUniforms=function(e,r){var t=r.uniformData,i=r.uniforms,a=1,n=void 0;if(e.uniforms.filterArea){n=this.filterData.stack[this.filterData.index];var s=e.uniforms.filterArea;s[0]=n.renderTarget.size.width,s[1]=n.renderTarget.size.height,s[2]=n.sourceFrame.x,s[3]=n.sourceFrame.y,e.uniforms.filterArea=s}if(e.uniforms.filterClamp){n=n||this.filterData.stack[this.filterData.index];var o=e.uniforms.filterClamp;o[0]=0,o[1]=0,o[2]=(n.sourceFrame.width-1)/n.renderTarget.size.width,o[3]=(n.sourceFrame.height-1)/n.renderTarget.size.height,e.uniforms.filterClamp=o}for(var l in t){var h=t[l].type;if("sampler2d"===h&&0!==i[l]){if(i[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(i[l].baseTexture,a);else{e.uniforms[l]=a;var d=this.renderer.gl;this.renderer.boundTextures[a]=this.renderer.emptyTextures[a],d.activeTexture(d.TEXTURE0+a),i[l].texture.bind()}a++}else if("mat3"===h)void 0!==i[l].a?e.uniforms[l]=i[l].toArray(!0):e.uniforms[l]=i[l];else if("vec2"===h)if(void 0!==i[l].x){var u=e.uniforms[l]||new Float32Array(2);u[0]=i[l].x,u[1]=i[l].y,e.uniforms[l]=u}else e.uniforms[l]=i[l];else"float"===h?e.uniforms.data[l].value!==t[l]&&(e.uniforms[l]=i[l]):e.uniforms[l]=i[l]}},r.prototype.getRenderTarget=function(e,r){var t=this.filterData.stack[this.filterData.index],i=this.getPotRenderTarget(this.renderer.gl,t.sourceFrame.width,t.sourceFrame.height,r||t.resolution);return i.setFrame(t.destinationFrame,t.sourceFrame),i},r.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},r.prototype.calculateScreenSpaceMatrix=function(e){var r=this.filterData.stack[this.filterData.index];return d.calculateScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size)},r.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var r=this.filterData.stack[this.filterData.index];return d.calculateNormalizedScreenSpaceMatrix(e,r.sourceFrame,r.renderTarget.size,r.destinationFrame)},r.prototype.calculateSpriteMatrix=function(e,r){var t=this.filterData.stack[this.filterData.index];return d.calculateSpriteMatrix(e,t.sourceFrame,t.renderTarget.size,r)},r.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=this.renderer,t=this.managedFilters;r.off("prerender",this.onPrerender,this);for(var i=0;i<t.length;i++)e||t[i].glShaders[r.CONTEXT_UID].destroy(),delete t[i].glShaders[r.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},r.prototype.getPotRenderTarget=function(e,r,t,a){var n=y;t*=a,(r*=a)===this._screenWidth&&t===this._screenHeight||(n=(65535&(r=f.default.nextPow2(r)))<<16|65535&(t=f.default.nextPow2(t))),this.pool[n]||(this.pool[n]=[]);var s=this.pool[n].pop();if(!s){var o=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),s=new i.default(e,r,t,null,1),e.bindTexture(e.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)}return s.resolution=a,s.defaultFrame.width=s.size.width=r/a,s.defaultFrame.height=s.size.height=t/a,s.filterPoolKey=n,s},r.prototype.emptyPool=function(){for(var e in this.pool){var r=this.pool[e];if(r)for(var t=0;t<r.length;t++)r[t].destroy(!0)}this.pool={}},r.prototype.freePotRenderTarget=function(e){this.pool[e.filterPoolKey].push(e)},r.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool[y];if(e)for(var r=0;r<e.length;r++)e[r].destroy(!0);this.pool[y]=[]}},r}(r.default);exports.default=x;
},{"./WebGLManager":"WOLK","../utils/RenderTarget":"BzBx","../utils/Quad":"QA+E","../../../math":"SQeI","../../../Shader":"HzbE","../filters/filterTransforms":"kQv6","bit-twiddle":"9UW0"}],"8Usa":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("pixi-gl-core"),t=require("../../const"),r=require("./utils/RenderTarget"),s=a(r),i=require("../../utils");function a(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var u=function(){function r(e){n(this,r),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return r.prototype.bindTexture=function(){},r.prototype.getTexture=function(){},r.prototype.updateTexture=function(r,i){var a=this.gl,n=!!r._glRenderTargets;if(!r.hasLoaded)return null;var u=this.renderer.boundTextures;if(void 0===i){i=0;for(var o=0;o<u.length;++o)if(u[o]===r){i=o;break}}u[i]=r,a.activeTexture(a.TEXTURE0+i);var d=r._glTextures[this.renderer.CONTEXT_UID];if(d)n?r._glRenderTargets[this.renderer.CONTEXT_UID].resize(r.width,r.height):d.upload(r.source);else{if(n){var l=new s.default(this.gl,r.width,r.height,r.scaleMode,r.resolution);l.resize(r.width,r.height),r._glRenderTargets[this.renderer.CONTEXT_UID]=l,d=l.texture}else(d=new e.GLTexture(this.gl,null,null,null,null)).bind(i),d.premultiplyAlpha=!0,d.upload(r.source);r._glTextures[this.renderer.CONTEXT_UID]=d,r.on("update",this.updateTexture,this),r.on("dispose",this.destroyTexture,this),this._managedTextures.push(r),r.isPowerOfTwo?(r.mipmap&&d.enableMipmap(),r.wrapMode===t.WRAP_MODES.CLAMP?d.enableWrapClamp():r.wrapMode===t.WRAP_MODES.REPEAT?d.enableWrapRepeat():d.enableWrapMirrorRepeat()):d.enableWrapClamp(),r.scaleMode===t.SCALE_MODES.NEAREST?d.enableNearestScaling():d.enableLinearScaling()}return d},r.prototype.destroyTexture=function(e,t){if((e=e.baseTexture||e).hasLoaded){var r=this.renderer.CONTEXT_UID,s=e._glTextures,a=e._glRenderTargets;if(s[r]&&(this.renderer.unbindTexture(e),s[r].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete s[r],!t)){var n=this._managedTextures.indexOf(e);-1!==n&&(0,i.removeItems)(this._managedTextures,n,1)}a&&a[r]&&(a[r].destroy(),delete a[r])}},r.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}},r.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null},r}();exports.default=u;
},{"pixi-gl-core":"kSum","../../const":"LWAx","./utils/RenderTarget":"BzBx","../../utils":"7Y0b"}],"0KI+":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../const"),e=require("../../settings"),r=n(e);function n(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(t){u(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=r.default.GC_MAX_IDLE,this.checkCountMax=r.default.GC_MAX_CHECK_COUNT,this.mode=r.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==t.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,r=!1,n=0;n<e.length;n++){var u=e[n];!u._glRenderTargets&&this.count-u.touched>this.maxIdle&&(t.destroyTexture(u,!0),e[n]=null,r=!0)}if(r){for(var o=0,s=0;s<e.length;s++)null!==e[s]&&(e[o++]=e[s]);e.length=o}},e.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}();exports.default=o;
},{"../../const":"LWAx","../../settings":"7eWp"}],"j7wc":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=N;var _=require("../../../const");function N(N){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return E[_.BLEND_MODES.NORMAL]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.ADD]=[N.ONE,N.DST_ALPHA],E[_.BLEND_MODES.MULTIPLY]=[N.DST_COLOR,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.SCREEN]=[N.ONE,N.ONE_MINUS_SRC_COLOR],E[_.BLEND_MODES.OVERLAY]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.DARKEN]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.LIGHTEN]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.COLOR_DODGE]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.COLOR_BURN]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.HARD_LIGHT]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.SOFT_LIGHT]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.DIFFERENCE]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.EXCLUSION]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.HUE]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.SATURATION]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.COLOR]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.LUMINOSITY]=[N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.NORMAL_NPM]=[N.SRC_ALPHA,N.ONE_MINUS_SRC_ALPHA,N.ONE,N.ONE_MINUS_SRC_ALPHA],E[_.BLEND_MODES.ADD_NPM]=[N.SRC_ALPHA,N.DST_ALPHA,N.ONE,N.DST_ALPHA],E[_.BLEND_MODES.SCREEN_NPM]=[N.SRC_ALPHA,N.ONE_MINUS_SRC_COLOR,N.ONE,N.ONE_MINUS_SRC_COLOR],E}
},{"../../../const":"LWAx"}],"8z8O":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./utils/mapWebGLBlendModesToPixi"),e=i(t);function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var s=0,r=1,n=2,h=3,o=4,l=function(){function t(i){a(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=i,this.maxAttribs=i.getParameter(i.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,e.default)(i),this.nativeVaoExtension=i.getExtension("OES_vertex_array_object")||i.getExtension("MOZ_OES_vertex_array_object")||i.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[s]),this.setDepthTest(t[r]),this.setFrontFace(t[n]),this.setCullFace(t[h]),this.setBlendMode(t[o])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[o]){this.activeState[o]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[r]!==t&&(this.activeState[r]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[h]!==t&&(this.activeState[h]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[n]!==t&&(this.activeState[n]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();exports.default=l;
},{"./utils/mapWebGLBlendModesToPixi":"j7wc"}],"YCzo":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=I;var E=require("../../../const");function I(I){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return R[E.DRAW_MODES.POINTS]=I.POINTS,R[E.DRAW_MODES.LINES]=I.LINES,R[E.DRAW_MODES.LINE_LOOP]=I.LINE_LOOP,R[E.DRAW_MODES.LINE_STRIP]=I.LINE_STRIP,R[E.DRAW_MODES.TRIANGLES]=I.TRIANGLES,R[E.DRAW_MODES.TRIANGLE_STRIP]=I.TRIANGLE_STRIP,R[E.DRAW_MODES.TRIANGLE_FAN]=I.TRIANGLE_FAN,R}
},{"../../../const":"LWAx"}],"12OX":[function(require,module,exports) {
"use strict";function e(e){e.getContextAttributes().stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}exports.__esModule=!0,exports.default=e;
},{}],"Lipc":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../SystemRenderer"),t=L(e),r=require("./managers/MaskManager"),n=L(r),i=require("./managers/StencilManager"),s=L(i),o=require("./managers/FilterManager"),a=L(o),u=require("./utils/RenderTarget"),h=L(u),l=require("./utils/ObjectRenderer"),d=L(l),c=require("./TextureManager"),x=L(c),p=require("../../textures/BaseTexture"),T=L(p),g=require("./TextureGarbageCollector"),f=L(g),_=require("./WebGLState"),b=L(_),v=require("./utils/mapWebGLDrawModesToPixi"),R=L(v),y=require("./utils/validateContext"),m=L(y),E=require("../../utils"),M=require("pixi-gl-core"),C=L(M),w=require("../../const");function L(e){return e&&e.__esModule?e:{default:e}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function D(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var j=0,q=function(e){function r(t,i,o){O(this,r);var a=S(this,e.call(this,"WebGL",t,i,o));return a.legacy=a.options.legacy,a.legacy&&(C.default.VertexArrayObject.FORCE_NATIVE=!0),a.type=w.RENDERER_TYPE.WEBGL,a.handleContextLost=a.handleContextLost.bind(a),a.handleContextRestored=a.handleContextRestored.bind(a),a.view.addEventListener("webglcontextlost",a.handleContextLost,!1),a.view.addEventListener("webglcontextrestored",a.handleContextRestored,!1),a._contextOptions={alpha:a.transparent,antialias:a.options.antialias,premultipliedAlpha:a.transparent&&"notMultiplied"!==a.transparent,stencil:!0,preserveDrawingBuffer:a.options.preserveDrawingBuffer,powerPreference:a.options.powerPreference},a._backgroundColorRgba[3]=a.transparent?0:1,a.maskManager=new n.default(a),a.stencilManager=new s.default(a),a.emptyRenderer=new d.default(a),a.currentRenderer=a.emptyRenderer,a.textureManager=null,a.filterManager=null,a.initPlugins(),a.options.context&&(0,m.default)(a.options.context),a.gl=a.options.context||C.default.createContext(a.view,a._contextOptions),a.CONTEXT_UID=j++,a.state=new b.default(a.gl),a.renderingToScreen=!0,a.boundTextures=null,a._activeShader=null,a._activeVao=null,a._activeRenderTarget=null,a._initContext(),a.drawModes=(0,R.default)(a.gl),a._nextTextureLocation=0,a.setBlendMode(0),a}return D(r,e),r.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this.textureManager=new x.default(this),this.filterManager=new a.default(this),this.textureGC=new f.default(this),this.state.resetToDefault(),this.rootRenderTarget=new h.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var r=new C.default.GLTexture.fromData(e,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var i=0;i<t;i++){var s=new T.default;s._glTextures[this.CONTEXT_UID]=r,this.boundTextures[i]=n,this.emptyTextures[i]=s,this.bindTexture(null,i)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)},r.prototype.render=function(e,t,r,n,i){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!i){var s=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},r.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},r.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},r.prototype.resize=function(e,r){t.default.prototype.resize.call(this,e,r),this.rootRenderTarget.resize(e,r),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},r.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},r.prototype.clear=function(e){this._activeRenderTarget.clear(e)},r.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},r.prototype.clearRenderTexture=function(e,t){var r=e.baseTexture._glRenderTargets[this.CONTEXT_UID];return r&&r.clear(t),this},r.prototype.bindRenderTexture=function(e,t){var r=void 0;if(e){var n=e.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(r=n._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else r=this.rootRenderTarget;return r.transform=t,this.bindRenderTarget(r),this},r.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},r.prototype.bindShader=function(e,t){return this._activeShader!==e&&(this._activeShader=e,e.bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},r.prototype.bindTexture=function(e,t,r){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,r)t=t||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===e)return n;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var i=this.gl,s=e._glTextures[this.CONTEXT_UID];return s?(this.boundTextures[t]=e,i.activeTexture(i.TEXTURE0+t),i.bindTexture(i.TEXTURE_2D,s.texture)):this.textureManager.updateTexture(e,t),t},r.prototype.unbindTexture=function(e){var t=this.gl;e=e.baseTexture||e;for(var r=0;r<this.boundTextures.length;r++)this.boundTextures[r]===e&&(this.boundTextures[r]=this.emptyTextures[r],t.activeTexture(t.TEXTURE0+r),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[r]._glTextures[this.CONTEXT_UID].texture));return this},r.prototype.createVao=function(){return new C.default.VertexArrayObject(this.gl,this.state.attribState)},r.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},r.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},r.prototype.handleContextLost=function(e){e.preventDefault()},r.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},r.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},r}(t.default);exports.default=q,E.pluginTarget.mixin(q);
},{"../SystemRenderer":"6xu6","./managers/MaskManager":"+lAX","./managers/StencilManager":"86Wf","./managers/FilterManager":"ohI9","./utils/RenderTarget":"BzBx","./utils/ObjectRenderer":"xJXs","./TextureManager":"8Usa","../../textures/BaseTexture":"oIyp","./TextureGarbageCollector":"0KI+","./WebGLState":"8z8O","./utils/mapWebGLDrawModesToPixi":"YCzo","./utils/validateContext":"12OX","../../utils":"7Y0b","pixi-gl-core":"kSum","../../const":"LWAx"}],"SKfS":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=a;var r=require("../../Shader"),e=t(r),o=require("path");function t(r){return r&&r.__esModule?r:{default:r}}var n=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n");function a(r,o){var t=n;t=(t=t.replace(/%count%/gi,o)).replace(/%forloop%/gi,i(o));for(var a=new e.default(r,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",t),u=[],v=0;v<o;v++)u[v]=v;return a.bind(),a.uniforms.uSamplers=u,a}function i(r){var e="";e+="\n",e+="\n";for(var o=0;o<r;o++)o>0&&(e+="\nelse "),o<r-1&&(e+="if(textureId == "+o+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+o+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}
},{"../../Shader":"HzbE","path":"sNrv"}],"b+Ix":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=a;var e=require("pixi-gl-core"),t=r(e);function r(e){return e&&e.__esModule?e:{default:e}}var o=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function a(e,r){var a=!r;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(a){var i=document.createElement("canvas");i.width=1,i.height=1,r=t.default.createContext(i)}for(var l=r.createShader(r.FRAGMENT_SHADER);;){var s=o.replace(/%forloop%/gi,n(e));if(r.shaderSource(l,s),r.compileShader(l),r.getShaderParameter(l,r.COMPILE_STATUS))break;e=e/2|0}return a&&r.getExtension("WEBGL_lose_context")&&r.getExtension("WEBGL_lose_context").loseContext(),e}function n(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}
},{"pixi-gl-core":"kSum"}],"n3k4":[function(require,module,exports) {

"use strict";function t(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var i=function(){function i(s){t(this,i),this.vertices=new ArrayBuffer(s),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return i.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},i}();exports.default=i;
},{}],"7Xp9":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../renderers/webgl/utils/ObjectRenderer"),t=T(e),r=require("../../renderers/webgl/WebGLRenderer"),i=T(r),s=require("../../utils/createIndicesForQuads"),n=T(s),u=require("./generateMultiTextureShader"),d=T(u),o=require("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),a=T(o),h=require("./BatchBuffer"),l=T(h),f=require("../../settings"),v=T(f),x=require("../../utils"),p=require("pixi-gl-core"),c=T(p),_=require("bit-twiddle"),b=T(_);function T(e){return e&&e.__esModule?e:{default:e}}function B(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var A=0,E=0,I=function(e){function t(r){B(this,t);var i=S(this,e.call(this,r));i.vertSize=5,i.vertByteSize=4*i.vertSize,i.size=v.default.SPRITE_BATCH_SIZE,i.buffers=[];for(var s=1;s<=b.default.nextPow2(i.size);s*=2)i.buffers.push(new l.default(4*s*i.vertByteSize));i.indices=(0,n.default)(i.size),i.shader=null,i.currentIndex=0,i.groups=[];for(var u=0;u<i.size;u++)i.groups[u]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return i.sprites=[],i.vertexBuffers=[],i.vaos=[],i.vaoMax=2,i.vertexCount=0,i.renderer.on("prerender",i.onPrerender,i),i}return y(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),v.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,a.default)(this.MAX_TEXTURES,e)),this.shader=(0,d.default)(e,this.MAX_TEXTURES),this.indexBuffer=c.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,r=0;r<this.vaoMax;r++){var i=this.vertexBuffers[r]=c.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),s=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(i,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(i,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(i,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&s.addAttribute(i,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[r]=s}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,t=this.MAX_TEXTURES,r=b.default.nextPow2(this.currentIndex),i=b.default.log2(r),s=this.buffers[i],n=this.sprites,u=this.groups,d=s.float32View,o=s.uint32View,a=this.boundTextures,h=this.renderer.boundTextures,l=this.renderer.textureGC.count,f=0,p=void 0,_=void 0,T=1,B=0,S=u[0],y=void 0,I=void 0,M=x.premultiplyBlendMode[n[0]._texture.baseTexture.premultipliedAlpha?1:0][n[0].blendMode];S.textureCount=0,S.start=0,S.blend=M,A++;var C=void 0;for(C=0;C<t;++C){var R=h[C];R._enabled!==A?(a[C]=R,R._virtalBoundId=C,R._enabled=A):a[C]=this.renderer.emptyTextures[C]}for(A++,C=0;C<this.currentIndex;++C){var z=n[C];n[C]=null,p=z._texture.baseTexture;var U=x.premultiplyBlendMode[Number(p.premultipliedAlpha)][z.blendMode];if(M!==U&&(M=U,_=null,B=t,A++),_!==p&&(_=p,p._enabled!==A)){if(B===t&&(A++,S.size=C-S.start,B=0,(S=u[T++]).blend=M,S.textureCount=0,S.start=C),p.touched=l,-1===p._virtalBoundId)for(var g=0;g<t;++g){var w=(g+E)%t,X=a[w];if(X._enabled!==A){E++,X._virtalBoundId=-1,p._virtalBoundId=w,a[w]=p;break}}p._enabled=A,S.textureCount++,S.ids[B]=p._virtalBoundId,S.textures[B++]=p}if(y=z.vertexData,I=z._texture._uvs.uvsUint32,this.renderer.roundPixels){var P=this.renderer.resolution;d[f]=(y[0]*P|0)/P,d[f+1]=(y[1]*P|0)/P,d[f+5]=(y[2]*P|0)/P,d[f+6]=(y[3]*P|0)/P,d[f+10]=(y[4]*P|0)/P,d[f+11]=(y[5]*P|0)/P,d[f+15]=(y[6]*P|0)/P,d[f+16]=(y[7]*P|0)/P}else d[f]=y[0],d[f+1]=y[1],d[f+5]=y[2],d[f+6]=y[3],d[f+10]=y[4],d[f+11]=y[5],d[f+15]=y[6],d[f+16]=y[7];o[f+2]=I[0],o[f+7]=I[1],o[f+12]=I[2],o[f+17]=I[3];var m=Math.min(z.worldAlpha,1),N=m<1&&p.premultipliedAlpha?(0,x.premultiplyTint)(z._tintRGB,m):z._tintRGB+(255*m<<24);o[f+3]=o[f+8]=o[f+13]=o[f+18]=N,d[f+4]=d[f+9]=d[f+14]=d[f+19]=p._virtalBoundId,f+=20}if(S.size=C-S.start,v.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var O=this.shader.attributes,G=this.vertexBuffers[this.vertexCount]=c.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),D=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(G,O.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(G,O.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(G,O.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);O.aTextureId&&D.addAttribute(G,O.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=D}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(s.vertices,0,!1),this.vertexCount++}for(C=0;C<t;++C)h[C]._virtalBoundId=-1;for(C=0;C<T;++C){for(var L=u[C],V=L.textureCount,q=0;q<V;q++)_=L.textures[q],h[L.ids[q]]!==_&&this.renderer.bindTexture(_,L.ids[q],!0),_._virtalBoundId=-1;this.renderer.state.setBlendMode(L.blend),e.drawElements(e.TRIANGLES,6*L.size,e.UNSIGNED_SHORT,6*L.start*2)}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),v.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var r=0;r<this.buffers.length;++r)this.buffers[r].destroy()},t}(t.default);exports.default=I,i.default.registerPlugin("sprite",I);
},{"../../renderers/webgl/utils/ObjectRenderer":"xJXs","../../renderers/webgl/WebGLRenderer":"Lipc","../../utils/createIndicesForQuads":"1tno","./generateMultiTextureShader":"SKfS","../../renderers/webgl/utils/checkMaxIfStatmentsInShader":"b+Ix","./BatchBuffer":"n3k4","../../settings":"7eWp","../../utils":"7Y0b","pixi-gl-core":"kSum","bit-twiddle":"9UW0"}],"wXu+":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),i=require("../const"),e=require("../utils");function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var r={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:i.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],o=function(){function i(t){n(this,i),this.styleID=0,this.reset(),f(this,t,t)}return i.prototype.clone=function(){var t={};return f(t,this,r),new i(t)},i.prototype.reset=function(){f(this,r,r)},i.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,i=this.fontFamily;Array.isArray(this.fontFamily)||(i=this.fontFamily.split(","));for(var e=i.length-1;e>=0;e--){var n=i[e].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&s.indexOf(n)<0&&(n='"'+n+'"'),i[e]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+i.join(",")},t(i,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var i=a(t);this._dropShadowColor!==i&&(this._dropShadowColor=i,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var i=a(t);this._fill!==i&&(this._fill=i,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){l(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var i=a(t);this._stroke!==i&&(this._stroke=i,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),i}();function h(t){return"number"==typeof t?(0,e.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function a(t){if(Array.isArray(t)){for(var i=0;i<t.length;++i)t[i]=h(t[i]);return t}return h(t)}function l(t,i){if(!Array.isArray(t)||!Array.isArray(i))return!1;if(t.length!==i.length)return!1;for(var e=0;e<t.length;++e)if(t[e]!==i[e])return!1;return!0}function f(t,i,e){for(var n in e)Array.isArray(i[n])?t[n]=i[n].slice():t[n]=i[n]}exports.default=o;
},{"../const":"LWAx","../utils":"7Y0b"}],"QNUI":[function(require,module,exports) {
"use strict";function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var t=function(){function t(n,r,a,i,o,s,l,c,h){e(this,t),this.text=n,this.style=r,this.width=a,this.height=i,this.lines=o,this.lineWidths=s,this.lineHeight=l,this.maxLineWidth=c,this.fontProperties=h}return t.measureText=function(e,n,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;r=null==r?n.wordWrap:r;var i=n.toFontString(),o=t.measureFont(i),s=a.getContext("2d");s.font=i;for(var l=(r?t.wordWrap(e,n,a):e).split(/(?:\r\n|\r|\n)/),c=new Array(l.length),h=0,f=0;f<l.length;f++){var d=s.measureText(l[f]).width+(l[f].length-1)*n.letterSpacing;c[f]=d,h=Math.max(h,d)}var g=h+n.strokeThickness;n.dropShadow&&(g+=n.dropShadowDistance);var u=n.lineHeight||o.fontSize+n.strokeThickness,v=Math.max(u,o.fontSize+n.strokeThickness)+(l.length-1)*(u+n.leading);return n.dropShadow&&(v+=n.dropShadowDistance),new t(e,n,g,v,l,c,u+n.leading,h,o)},t.wordWrap=function(e,n){for(var r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas).getContext("2d"),a=0,i="",o="",s={},l=n.letterSpacing,c=n.whiteSpace,h=t.collapseSpaces(c),f=t.collapseNewlines(c),d=!h,g=n.wordWrapWidth+l,u=t.tokenize(e),v=0;v<u.length;v++){var p=u[v];if(t.isNewline(p)){if(!f){o+=t.addLine(i),d=!h,i="",a=0;continue}p=" "}if(h){var S=t.isBreakingSpace(p),k=t.isBreakingSpace(i[i.length-1]);if(S&&k)continue}var w=t.getFromCache(p,l,s,r);if(w>g)if(""!==i&&(o+=t.addLine(i),i="",a=0),t.canBreakWords(p,n.breakWords))for(var _=p.split(""),L=0;L<_.length;L++){for(var m=_[L],x=1;_[L+x];){var B=_[L+x],E=m[m.length-1];if(t.canBreakChars(E,B,p,L,n.breakWords))break;m+=B,x++}L+=m.length-1;var T=t.getFromCache(m,l,s,r);T+a>g&&(o+=t.addLine(i),d=!1,i="",a=0),i+=m,a+=T}else{i.length>0&&(o+=t.addLine(i),i="",a=0);var I=v===u.length-1;o+=t.addLine(p,!I),d=!1,i="",a=0}else w+a>g&&(d=!1,o+=t.addLine(i),i="",a=0),(i.length>0||!t.isBreakingSpace(p)||d)&&(i+=p,a+=w)}return o+=t.addLine(i,!1)},t.addLine=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(e,t,n,r){var a=n[e];if(void 0===a){var i=e.length*t;a=r.measureText(e).width+i,n[e]=a}return a},t.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},t.collapseNewlines=function(e){return"normal"===e},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var a=0;a<e.length;a++){var i=e[a];t.isBreakingSpace(i)||t.isNewline(i)?(""!==r&&(n.push(r),r=""),n.push(i)):r+=i}return""!==r&&n.push(r),n},t.canBreakWords=function(e,t){return t},t.canBreakChars=function(e,t,n,r,a){return!0},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={},r=t._canvas,a=t._context;a.font=e;var i=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(a.measureText(i).width),s=Math.ceil(a.measureText(t.BASELINE_SYMBOL).width),l=2*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=o,r.height=l,a.fillStyle="#f00",a.fillRect(0,0,o,l),a.font=e,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(i,0,s);var c=a.getImageData(0,0,o,l).data,h=c.length,f=4*o,d=0,g=0,u=!1;for(d=0;d<s;++d){for(var v=0;v<f;v+=4)if(255!==c[g+v]){u=!0;break}if(u)break;g+=f}for(n.ascent=s-d,g=h-f,u=!1,d=l;d>s;--d){for(var p=0;p<f;p+=4)if(255!==c[g+p]){u=!0;break}if(u)break;g-=f}return n.descent=d-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e?delete t._fonts[e]:t._fonts={}},t}();exports.default=t;var n=document.createElement("canvas");n.width=n.height=10,t._canvas=n,t._context=n.getContext("2d"),t._fonts={},t.METRICS_STRING="|Éq",t.BASELINE_SYMBOL="M",t.BASELINE_MULTIPLIER=1.4,t._newlines=[10,13],t._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];
},{}],"MQXu":[function(require,module,exports) {
"use strict";function t(t){var l=t.width,o=t.height,e=t.getContext("2d"),i=e.getImageData(0,0,l,o).data,n=i.length,u={top:null,left:null,right:null,bottom:null},g=null,h=void 0,r=void 0,a=void 0;for(h=0;h<n;h+=4)0!==i[h+3]&&(r=h/4%l,a=~~(h/4/l),null===u.top&&(u.top=a),null===u.left?u.left=r:r<u.left&&(u.left=r),null===u.right?u.right=r+1:u.right<r&&(u.right=r+1),null===u.bottom?u.bottom=a:u.bottom<a&&(u.bottom=a));return null!==u.top&&(l=u.right-u.left,o=u.bottom-u.top+1,g=e.getImageData(u.left,u.top,l,o)),{height:o,width:l,data:g}}exports.__esModule=!0,exports.default=t;
},{}],"FiJk":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),e=require("../sprites/Sprite"),i=y(e),r=require("../textures/Texture"),s=y(r),n=require("../math"),o=require("../utils"),a=require("../const"),h=require("../settings"),l=y(h),u=require("./TextStyle"),d=y(u),c=require("./TextMetrics"),p=y(c),f=require("../utils/trimCanvas"),g=y(f);function y(t){return t&&t.__esModule?t:{default:t}}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function w(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var v={texture:!0,children:!1,baseTexture:!0},S=function(e){function i(t,r,o){x(this,i),(o=o||document.createElement("canvas")).width=3,o.height=3;var a=s.default.fromCanvas(o,l.default.SCALE_MODE,"text");a.orig=new n.Rectangle,a.trim=new n.Rectangle;var h=_(this,e.call(this,a));return s.default.addToCache(h._texture,h._texture.baseTexture.textureCacheIds[0]),h.canvas=o,h.context=h.canvas.getContext("2d"),h.resolution=l.default.RESOLUTION,h._text=null,h._style=null,h._styleListener=null,h._font="",h.text=t,h.style=r,h.localStyleID=-1,h}return w(i,e),i.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i=this.context,r=p.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),s=r.width,n=r.height,o=r.lines,a=r.lineHeight,h=r.lineWidths,l=r.maxLineWidth,u=r.fontProperties;this.canvas.width=Math.ceil((Math.max(1,s)+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,n)+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var d=void 0,c=void 0;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(i.shadowColor=e.dropShadowColor);for(var f=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,g=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<o.length;y++)d=e.strokeThickness/2,c=e.strokeThickness/2+y*a+u.ascent,"right"===e.align?d+=l-h[y]:"center"===e.align&&(d+=(l-h[y])/2),e.fill&&(this.drawLetterSpacing(o[y],d+f+e.padding,c+g+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(o[y],d+f+e.padding,c+g+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,o);for(var x=0;x<o.length;x++)d=e.strokeThickness/2,c=e.strokeThickness/2+x*a+u.ascent,"right"===e.align?d+=l-h[x]:"center"===e.align&&(d+=(l-h[x])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[x],d+e.padding,c+e.padding,!0),e.fill&&this.drawLetterSpacing(o[x],d+e.padding,c+e.padding);this.updateTexture()}},i.prototype.drawLetterSpacing=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=this._style.letterSpacing;if(0!==s)for(var n=String.prototype.split.call(t,""),o=e,a=0,h="";a<t.length;)h=n[a++],r?this.context.strokeText(h,o,i):this.context.fillText(h,o,i),o+=this.context.measureText(h).width+s;else r?this.context.strokeText(t,e,i):this.context.fillText(t,e,i)},i.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,g.default)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var i=this._texture,r=this._style,s=r.trim?0:r.padding,n=i.baseTexture;n.hasLoaded=!0,n.resolution=this.resolution,n.realWidth=t.width,n.realHeight=t.height,n.width=t.width/this.resolution,n.height=t.height/this.resolution,i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-s,i.trim.y=-s,i.orig.width=i._frame.width-2*s,i.orig.height=i._frame.height-2*s,this._onTextureUpdate(),n.emit("update",n),this.dirty=!1},i.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},i.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},i.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},i.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},i.prototype._onStyleChange=function(){this.dirty=!0},i.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i=void 0,r=void 0,s=void 0,n=void 0,o=this.canvas.width/this.resolution,h=this.canvas.height/this.resolution,l=t.fill.slice(),u=t.fillGradientStops.slice();if(!u.length)for(var d=l.length+1,c=1;c<d;++c)u.push(c/d);if(l.unshift(t.fill[0]),u.unshift(0),l.push(t.fill[t.fill.length-1]),u.push(1),t.fillGradientType===a.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(o/2,0,o/2,h),r=(l.length+1)*e.length,s=0;for(var p=0;p<e.length;p++){s+=1;for(var f=0;f<l.length;f++)n="number"==typeof u[f]?u[f]/e.length+p/e.length:s/r,i.addColorStop(n,l[f]),s++}}else{i=this.context.createLinearGradient(0,h/2,o,h/2),r=l.length+1,s=1;for(var g=0;g<l.length;g++)n="number"==typeof u[g]?u[g]:s/r,i.addColorStop(n,l[g]),s++}return i},i.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},v,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},t(i,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,o.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){(t=t||{})instanceof d.default?this._style=t:this._style=new d.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null==t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),i}(i.default);exports.default=S;
},{"../sprites/Sprite":"n6qo","../textures/Texture":"QMiZ","../math":"SQeI","../utils":"7Y0b","../const":"LWAx","../settings":"7eWp","./TextStyle":"wXu+","./TextMetrics":"QNUI","../utils/trimCanvas":"MQXu"}],"xob1":[function(require,module,exports) {
"use strict";function i(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var t=function(){function t(l,s,n,e,h,o,r,a,p){i(this,t),this.lineWidth=l,this.lineAlignment=p,this.nativeLines=r,this.lineColor=s,this.lineAlpha=n,this._lineTint=s,this.fillColor=e,this.fillAlpha=h,this._fillTint=e,this.fill=o,this.holes=[],this.shape=a,this.type=a.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(i){this.holes.push(i)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();exports.default=t;
},{}],"7fMH":[function(require,module,exports) {
"use strict";function e(e,r,t,s,u,o,n,p,a){var d=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[],f=0,h=0,i=0,l=0,v=0;d.push(e,r);for(var c=1,x=0;c<=a;++c)i=(h=(f=1-(x=c/a))*f)*f,v=(l=x*x)*x,d.push(i*e+3*h*x*t+3*f*l*u+v*n,i*r+3*h*x*s+3*f*l*o+v*p);return d}exports.__esModule=!0,exports.default=e;
},{}],"IDJ2":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../display/Container"),e=_(t),i=require("../textures/RenderTexture"),r=_(i),n=require("../textures/Texture"),s=_(n),h=require("./GraphicsData"),a=_(h),o=require("../sprites/Sprite"),l=_(o),p=require("../math"),u=require("../utils"),c=require("../const"),d=require("../display/Bounds"),f=_(d),g=require("./utils/bezierCurveTo"),y=_(g),v=require("../renderers/canvas/CanvasRenderer"),P=_(v);function _(t){return t&&t.__esModule?t:{default:t}}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function b(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var R=void 0,C=new p.Matrix,S=new p.Point,D=new Float32Array(4),M=new Float32Array(4),A=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,e);var r=w(this,t.call(this));return r.fillAlpha=1,r.lineWidth=0,r.nativeLines=i,r.lineColor=0,r.lineAlignment=.5,r.graphicsData=[],r.tint=16777215,r._prevTint=16777215,r.blendMode=c.BLEND_MODES.NORMAL,r.currentPath=null,r._webGL={},r.isMask=!1,r.boundsPadding=0,r._localBounds=new f.default,r.dirty=0,r.fastRectDirty=-1,r.clearDirty=0,r.boundsDirty=-1,r.cachedSpriteDirty=!1,r._spriteRect=null,r._fastRect=!1,r._prevRectTint=null,r._prevRectFillColor=null,r}return b(e,t),e.prototype.clone=function(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.lineAlignment=this.lineAlignment,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i)t.graphicsData.push(this.graphicsData[i].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype._quadraticCurveLength=function(t,e,i,r,n,s){var h=t-(2*i+n),a=e-(2*r+s),o=(i-2)*t*2,l=(r-2)*e*2,p=4*(h*h+a*a),u=4*(h*o+a*l),c=o*o+l*l,d=2*Math.sqrt(p+u+c),f=Math.sqrt(p),g=2*p*f,y=2*Math.sqrt(c),v=u/f;return(g*d+f*u*(d-y)+(4*c*p-u*u)*Math.log((2*f+v+d)/(v+y)))/(4*g)},e.prototype._bezierCurveLength=function(t,e,i,r,n,s,h,a){for(var o=0,l=0,p=0,u=0,c=0,d=0,f=0,g=0,y=0,v=0,P=0,_=t,m=e,w=1;w<=10;++w)v=_-(g=(f=(d=(c=1-(l=w/10))*c)*c)*t+3*d*l*i+3*c*(p=l*l)*n+(u=p*l)*h),P=m-(y=f*e+3*d*l*r+3*c*p*s+u*a),_=g,m=y,o+=Math.sqrt(v*v+P*P);return o},e.prototype._segmentsCount=function(t){var i=Math.ceil(t/e.CURVES.maxLength);return i<e.CURVES.minSegments?i=e.CURVES.minSegments:i>e.CURVES.maxSegments&&(i=e.CURVES.maxSegments),i},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.lineAlignment=r,this.currentPath)if(this.currentPath.shape.points.length){var n=new p.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},e.prototype.moveTo=function(t,e){var i=new p.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},e.prototype.lineTo=function(t,e){var i=this.currentPath.shape.points,r=i[i.length-2],n=i[i.length-1];return r===t&&n===e||(i.push(t,e),this.dirty++),this},e.prototype.quadraticCurveTo=function(t,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var s=this.currentPath.shape.points,h=0,a=0;0===s.length&&this.moveTo(0,0);for(var o=s[s.length-2],l=s[s.length-1],p=e.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(o,l,t,i,r,n)):20,u=1;u<=p;++u){var c=u/p;h=o+(t-o)*c,a=l+(i-l)*c,s.push(h+(t+(r-t)*c-h)*c,a+(i+(n-i)*c-a)*c)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,i,r,n,s,h){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,o=a[a.length-2],l=a[a.length-1];a.length-=2;var p=e.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(o,l,t,i,r,n,s,h)):20;return(0,y.default)(o,l,t,i,r,n,s,h,p,a),this.dirty++,this},e.prototype.arcTo=function(t,e,i,r,n){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var s=this.currentPath.shape.points,h=s[s.length-2],a=s[s.length-1]-e,o=h-t,l=r-e,p=i-t,u=Math.abs(a*p-o*l);if(u<1e-8||0===n)s[s.length-2]===t&&s[s.length-1]===e||s.push(t,e);else{var c=a*a+o*o,d=l*l+p*p,f=a*l+o*p,g=n*Math.sqrt(c)/u,y=n*Math.sqrt(d)/u,v=g*f/c,P=y*f/d,_=g*p+y*o,m=g*l+y*a,w=o*(y+v),b=a*(y+v),R=p*(g+P),C=l*(g+P),S=Math.atan2(b-m,w-_),D=Math.atan2(C-m,R-_);this.arc(_+t,m+e,n,S,D,o*l>p*a)}return this.dirty++,this},e.prototype.arc=function(t,i,r,n,s){var h=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===s)return this;!h&&s<=n?s+=c.PI_2:h&&n<=s&&(n+=c.PI_2);var a=s-n,o=e.CURVES.adaptive?this._segmentsCount(Math.abs(a)*r):40*Math.ceil(Math.abs(a)/c.PI_2);if(0===a)return this;var l=t+Math.cos(n)*r,p=i+Math.sin(n)*r,u=this.currentPath?this.currentPath.shape.points:null;if(u){var d=Math.abs(u[u.length-2]-l),f=Math.abs(u[u.length-1]-p);d<.001&&f<.001||u.push(l,p)}else this.moveTo(l,p),u=this.currentPath.shape.points;for(var g=a/(2*o),y=2*g,v=Math.cos(g),P=Math.sin(g),_=o-1,m=_%1/_,w=0;w<=_;++w){var b=g+n+y*(w+m*w),R=Math.cos(b),C=-Math.sin(b);u.push((v*R+P*C)*r+t,(v*-C+P*R)*r+i)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,i,r){return this.drawShape(new p.Rectangle(t,e,i,r)),this},e.prototype.drawRoundedRect=function(t,e,i,r,n){return this.drawShape(new p.RoundedRectangle(t,e,i,r,n)),this},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new p.Circle(t,e,i)),this},e.prototype.drawEllipse=function(t,e,i,r){return this.drawShape(new p.Ellipse(t,e,i,r)),this},e.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof p.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var r=0;r<e.length;++r)e[r]=arguments[r]}var n=new p.Polygon(e);return n.closed=i,this.drawShape(n),this},e.prototype.drawStar=function(t,e,i,r,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;n=n||r/2;for(var h=-1*Math.PI/2+s,a=2*i,o=c.PI_2/a,l=[],p=0;p<a;p++){var u=p%2?n:r,d=p*o+h;l.push(t+u*Math.cos(d),e+u*Math.sin(d))}return this.drawPolygon(l)},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===c.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new l.default(new s.default(s.default.WHITE)));var i=this._spriteRect,r=this.graphicsData[0].fillColor;if(16777215===this.tint)i.tint=r;else if(this.tint!==this._prevRectTint||r!==this._prevRectFillColor){var n=D,h=M;(0,u.hex2rgb)(r,n),(0,u.hex2rgb)(this.tint,h),n[0]*=h[0],n[1]*=h[1],n[2]*=h[2],i.tint=(0,u.rgb2hex)(n),this._prevRectTint=this.tint,this._prevRectFillColor=r}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._renderWebGL(t)},e.prototype._renderCanvas=function(t){!0!==this.isMask&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,S);for(var e=this.graphicsData,i=0;i<e.length;++i){var r=e[i];if(r.fill&&(r.shape&&r.shape.contains(S.x,S.y))){if(r.holes)for(var n=0;n<r.holes.length;n++){if(r.holes[n].contains(S.x,S.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-1/0,i=1/0,r=-1/0;if(this.graphicsData.length)for(var n=0,s=0,h=0,a=0,o=0,l=0;l<this.graphicsData.length;l++){var p=this.graphicsData[l],u=p.type,d=p.lineWidth;if(n=p.shape,u===c.SHAPES.RECT||u===c.SHAPES.RREC)s=n.x-d/2,h=n.y-d/2,t=s<t?s:t,e=s+(a=n.width+d)>e?s+a:e,i=h<i?h:i,r=h+(o=n.height+d)>r?h+o:r;else if(u===c.SHAPES.CIRC)s=n.x,h=n.y,t=s-(a=n.radius+d/2)<t?s-a:t,e=s+a>e?s+a:e,i=h-(o=n.radius+d/2)<i?h-o:i,r=h+o>r?h+o:r;else if(u===c.SHAPES.ELIP)s=n.x,h=n.y,t=s-(a=n.width+d/2)<t?s-a:t,e=s+a>e?s+a:e,i=h-(o=n.height+d/2)<i?h-o:i,r=h+o>r?h+o:r;else for(var f=n.points,g=0,y=0,v=0,P=0,_=0,m=0,w=0,b=0,R=0;R+2<f.length;R+=2)s=f[R],h=f[R+1],g=f[R+2],y=f[R+3],v=Math.abs(g-s),P=Math.abs(y-h),o=d,(a=Math.sqrt(v*v+P*P))<1e-9||(t=(w=(g+s)/2)-(_=(o/a*P+v)/2)<t?w-_:t,e=w+_>e?w+_:e,i=(b=(y+h)/2)-(m=(o/a*v+P)/2)<i?b-m:i,r=b+m>r?b+m:r)}else t=0,e=0,i=0,r=0;var C=this.boundsPadding;this._localBounds.minX=t-C,this._localBounds.maxX=e+C,this._localBounds.minY=i-C,this._localBounds.maxY=r+C},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new a.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t,this.lineAlignment);return this.graphicsData.push(e),e.type===c.SHAPES.POLY&&(e.shape.closed=e.shape.closed,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),n=r.default.create(i.width,i.height,t,e);R||(R=new P.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(C),C.invert(),C.tx-=i.x,C.ty-=i.y,R.render(this,n,!0,C);var h=s.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return h.baseTexture.resolution=e,h.baseTexture.update(),h},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();for(var r in this._webGL)for(var n=0;n<this._webGL[r].data.length;++n)this._webGL[r].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},e}(e.default);exports.default=A,A._SPRITE_TEXTURE=null,A.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048};
},{"../display/Container":"vjaY","../textures/RenderTexture":"GZDt","../textures/Texture":"QMiZ","./GraphicsData":"xob1","../sprites/Sprite":"n6qo","../math":"SQeI","../utils":"7Y0b","../const":"LWAx","../display/Bounds":"n3Mm","./utils/bezierCurveTo":"7fMH","../renderers/canvas/CanvasRenderer":"xIW1"}],"osvA":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("pixi-gl-core"),i=e(t);function e(t){return t&&t.__esModule?t:{default:t}}function s(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(e,n,r){s(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=i.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new i.default.VertexArrayObject(e,r).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();exports.default=n;
},{"pixi-gl-core":"kSum"}],"7obX":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../../Shader"),o=e(t);function e(t){return t&&t.__esModule?t:{default:t}}function r(t,o){if(!(t instanceof o))throw new TypeError("Cannot call a class as a function")}function n(t,o){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?t:o}function i(t,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);t.prototype=Object.create(o&&o.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(t,o):t.__proto__=o)}var a=function(t){function o(e){return r(this,o),n(this,t.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return i(o,t),o}(o.default);exports.default=a;
},{"../../../Shader":"HzbE"}],"ujeT":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=function(h,s,n){h.nativeLines?e(h,n):t(h,s)};var h=require("../../../math"),s=require("../../../utils");function t(t,e){var n=t.points;if(0!==n.length){var p=new h.Point(n[0],n[1]),u=new h.Point(n[n.length-2],n[n.length-1]);if(p.x===u.x&&p.y===u.y){(n=n.slice()).pop(),n.pop();var i=(u=new h.Point(n[n.length-2],n[n.length-1])).x+.5*(p.x-u.x),r=u.y+.5*(p.y-u.y);n.unshift(i,r),n.push(i,r)}var l=e.points,a=e.indices,o=n.length/2,v=n.length,g=l.length/6,f=t.lineWidth/2,x=(0,s.hex2rgb)(t.lineColor),q=t.lineAlpha,M=x[0]*q,c=x[1]*q,y=x[2]*q,d=n[0],b=n[1],w=n[2],A=n[3],P=0,m=0,C=-(b-A),_=d-w,L=0,W=0,j=0,k=0,z=Math.sqrt(C*C+_*_);C/=z,_/=z,C*=f,_*=f;var B=t.lineAlignment,D=2*(1-B),E=2*B;l.push(d-C*D,b-_*D,M,c,y,q),l.push(d+C*E,b+_*E,M,c,y,q);for(var F=1;F<o-1;++F){d=n[2*(F-1)],b=n[2*(F-1)+1],w=n[2*F],A=n[2*F+1],P=n[2*(F+1)],m=n[2*(F+1)+1],C=-(b-A),_=d-w,C/=z=Math.sqrt(C*C+_*_),_/=z,C*=f,_*=f,L=-(A-m),W=w-P,L/=z=Math.sqrt(L*L+W*W),W/=z;var G=-_+b-(-_+A),H=-C+w-(-C+d),I=(-C+d)*(-_+A)-(-C+w)*(-_+b),J=-(W*=f)+m-(-W+A),K=-(L*=f)+w-(-L+P),N=(-L+P)*(-W+A)-(-L+w)*(-W+m),O=G*K-J*H;if(Math.abs(O)<.1)O+=10.1,l.push(w-C*D,A-_*D,M,c,y,q),l.push(w+C*E,A+_*E,M,c,y,q);else{var Q=(H*N-K*I)/O,R=(J*I-G*N)/O;(Q-w)*(Q-w)+(R-A)*(R-A)>196*f*f?(j=C-L,k=_-W,j/=z=Math.sqrt(j*j+k*k),k/=z,j*=f,k*=f,l.push(w-j*D,A-k*D),l.push(M,c,y,q),l.push(w+j*E,A+k*E),l.push(M,c,y,q),l.push(w-j*E*D,A-k*D),l.push(M,c,y,q),v++):(l.push(w+(Q-w)*D,A+(R-A)*D),l.push(M,c,y,q),l.push(w-(Q-w)*E,A-(R-A)*E),l.push(M,c,y,q))}}d=n[2*(o-2)],b=n[2*(o-2)+1],w=n[2*(o-1)],C=-(b-(A=n[2*(o-1)+1])),_=d-w,C/=z=Math.sqrt(C*C+_*_),_/=z,C*=f,_*=f,l.push(w-C*D,A-_*D),l.push(M,c,y,q),l.push(w+C*E,A+_*E),l.push(M,c,y,q),a.push(g);for(var S=0;S<v;++S)a.push(g++);a.push(g-1)}}function e(h,t){var e=0,n=h.points;if(0!==n.length){var p=t.points,u=n.length/2,i=(0,s.hex2rgb)(h.lineColor),r=h.lineAlpha,l=i[0]*r,a=i[1]*r,o=i[2]*r;for(e=1;e<u;e++){var v=n[2*(e-1)],g=n[2*(e-1)+1],f=n[2*e],x=n[2*e+1];p.push(v,g),p.push(l,a,o,r),p.push(f,x),p.push(l,a,o,r)}}}
},{"../../../math":"SQeI","../../../utils":"7Y0b"}],"T/6c":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=s;var e=require("./buildLine"),t=u(e),r=require("../../../utils"),l=require("earcut"),i=u(l);function u(e){return e&&e.__esModule?e:{default:e}}function s(e,l,u){e.points=e.shape.points.slice();var s=e.points;if(e.fill&&s.length>=6){for(var n=[],h=e.holes,o=0;o<h.length;o++){var p=h[o];n.push(s.length/2),s=s.concat(p.points)}var a=l.points,f=l.indices,d=s.length/2,c=(0,r.hex2rgb)(e.fillColor),g=e.fillAlpha,v=c[0]*g,_=c[1]*g,q=c[2]*g,x=(0,i.default)(s,n,2);if(!x)return;for(var b=a.length/6,M=0;M<x.length;M+=3)f.push(x[M]+b),f.push(x[M]+b),f.push(x[M+1]+b),f.push(x[M+2]+b),f.push(x[M+2]+b);for(var A=0;A<d;A++)a.push(s[2*A],s[2*A+1],v,_,q,g)}e.lineWidth>0&&(0,t.default)(e,l,u)}
},{"./buildLine":"ujeT","../../../utils":"7Y0b","earcut":"d3f1"}],"CCbO":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=t;var i=require("./buildLine"),e=u(i),s=require("../../../utils");function u(i){return i&&i.__esModule?i:{default:i}}function t(i,u,t){var h=i.shape,l=h.x,p=h.y,r=h.width,n=h.height;if(i.fill){var o=(0,s.hex2rgb)(i.fillColor),f=i.fillAlpha,a=o[0]*f,d=o[1]*f,c=o[2]*f,v=u.points,x=u.indices,_=v.length/6;v.push(l,p),v.push(a,d,c,f),v.push(l+r,p),v.push(a,d,c,f),v.push(l,p+n),v.push(a,d,c,f),v.push(l+r,p+n),v.push(a,d,c,f),x.push(_,_,_+1,_+2,_+3,_+3)}if(i.lineWidth){var g=i.points;i.points=[l,p,l+r,p,l+r,p+n,l,p+n,l,p],(0,e.default)(i,u,t),i.points=g}}
},{"./buildLine":"ujeT","../../../utils":"7Y0b"}],"YVGt":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=n;var e=require("earcut"),u=l(e),i=require("./buildLine"),r=l(i),t=require("../../../utils");function l(e){return e&&e.__esModule?e:{default:e}}function n(e,i,l){var n=e.shape,s=n.x,o=n.y,f=n.width,p=n.height,a=n.radius,d=[];if(d.push(s,o+a),h(s,o+p-a,s,o+p,s+a,o+p,d),h(s+f-a,o+p,s+f,o+p,s+f,o+p-a,d),h(s+f,o+a,s+f,o,s+f-a,o,d),h(s+a,o,s,o,s,o+a+1e-10,d),e.fill){for(var c=(0,t.hex2rgb)(e.fillColor),v=e.fillAlpha,g=c[0]*v,x=c[1]*v,_=c[2]*v,q=i.points,b=i.indices,M=q.length/6,w=(0,u.default)(d,null,2),y=0,A=w.length;y<A;y+=3)b.push(w[y]+M),b.push(w[y]+M),b.push(w[y+1]+M),b.push(w[y+2]+M),b.push(w[y+2]+M);for(var C=0,L=d.length;C<L;C++)q.push(d[C],d[++C],g,x,_,v)}if(e.lineWidth){var W=e.points;e.points=d,(0,r.default)(e,i,l),e.points=W}}function s(e,u,i){return e+(u-e)*i}function h(e,u,i,r,t,l){for(var n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],h=0,o=0,f=0,p=0,a=0,d=0,c=0,v=0;c<=20;++c)h=s(e,i,v=c/20),o=s(u,r,v),f=s(i,t,v),p=s(r,l,v),a=s(h,f,v),d=s(o,p,v),n.push(a,d);return n}
},{"earcut":"d3f1","./buildLine":"ujeT","../../../utils":"7Y0b"}],"KDJR":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=o;var i=require("./buildLine"),t=h(i),s=require("../../../const"),r=require("../../../utils");function h(i){return i&&i.__esModule?i:{default:i}}function o(i,h,o){var e=i.shape,a=e.x,u=e.y,n=void 0,p=void 0;if(i.type===s.SHAPES.CIRC?(n=e.radius,p=e.radius):(n=e.width,p=e.height),0!==n&&0!==p){var l=Math.floor(30*Math.sqrt(e.radius))||Math.floor(15*Math.sqrt(e.width+e.height)),d=2*Math.PI/l;if(i.fill){var f=(0,r.hex2rgb)(i.fillColor),M=i.fillAlpha,v=f[0]*M,c=f[1]*M,q=f[2]*M,g=h.points,x=h.indices,_=g.length/6;x.push(_);for(var C=0;C<l+1;C++)g.push(a,u,v,c,q,M),g.push(a+Math.sin(d*C)*n,u+Math.cos(d*C)*p,v,c,q,M),x.push(_++,_++);x.push(_-1)}if(i.lineWidth){var b=i.points;i.points=[];for(var w=0;w<l;w++)i.points.push(a+Math.sin(d*-w)*n,u+Math.cos(d*-w)*p);i.points.push(i.points[0],i.points[1]),(0,t.default)(i,h,o),i.points=b}}}
},{"./buildLine":"ujeT","../../../const":"LWAx","../../../utils":"7Y0b"}],"zGPr":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../utils"),t=require("../../const"),r=require("../../renderers/webgl/utils/ObjectRenderer"),a=v(r),i=require("../../renderers/webgl/WebGLRenderer"),n=v(i),o=require("./WebGLGraphicsData"),s=v(o),l=require("./shaders/PrimitiveShader"),d=v(l),u=require("./utils/buildPoly"),h=v(u),p=require("./utils/buildRectangle"),c=v(p),f=require("./utils/buildRoundedRectangle"),g=v(f),y=require("./utils/buildCircle"),b=v(y);function v(e){return e&&e.__esModule?e:{default:e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var T=function(r){function i(e){D(this,i);var t=S(this,r.call(this,e));return t.graphicsDataPool=[],t.primitiveShader=null,t.gl=e.gl,t.CONTEXT_UID=0,t}return E(i,r),i.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new d.default(this.gl)},i.prototype.destroy=function(){a.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},i.prototype.render=function(t){var r=this.renderer,a=r.gl,i=void 0,n=t._webGL[this.CONTEXT_UID];n&&t.dirty===n.dirty||(this.updateGraphics(t),n=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;r.bindShader(o),r.state.setBlendMode(t.blendMode);for(var s=0,l=n.data.length;s<l;s++){var d=(i=n.data[s]).shader;r.bindShader(d),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.tint=(0,e.hex2rgb)(t.tint),d.uniforms.alpha=t.worldAlpha,r.bindVao(i.vao),i.nativeLines?a.drawArrays(a.LINES,0,i.points.length/6):i.vao.draw(a.TRIANGLE_STRIP,i.indices.length)}},i.prototype.updateGraphics=function(e){var r=this.renderer.gl,a=e._webGL[this.CONTEXT_UID];if(a||(a=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:r,clearDirty:-1,dirty:-1}),a.dirty=e.dirty,e.clearDirty!==a.clearDirty){a.clearDirty=e.clearDirty;for(var i=0;i<a.data.length;i++)this.graphicsDataPool.push(a.data[i]);a.data.length=0,a.lastIndex=0}for(var n=void 0,o=void 0,s=a.lastIndex;s<e.graphicsData.length;s++){var l=e.graphicsData[s];n=this.getWebGLData(a,0),l.nativeLines&&l.lineWidth&&(o=this.getWebGLData(a,0,!0),a.lastIndex++),l.type===t.SHAPES.POLY&&(0,h.default)(l,n,o),l.type===t.SHAPES.RECT?(0,c.default)(l,n,o):l.type===t.SHAPES.CIRC||l.type===t.SHAPES.ELIP?(0,b.default)(l,n,o):l.type===t.SHAPES.RREC&&(0,g.default)(l,n,o),a.lastIndex++}this.renderer.bindVao(null);for(var d=0;d<a.data.length;d++)(n=a.data[d]).dirty&&n.upload()},i.prototype.getWebGLData=function(e,t,r){var a=e.data[e.data.length-1];return(!a||a.nativeLines!==r||a.points.length>32e4)&&((a=this.graphicsDataPool.pop()||new s.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=r,a.reset(t),e.data.push(a)),a.dirty=!0,a},i}(a.default);exports.default=T,n.default.registerPlugin("graphics",T);
},{"../../utils":"7Y0b","../../const":"LWAx","../../renderers/webgl/utils/ObjectRenderer":"xJXs","../../renderers/webgl/WebGLRenderer":"Lipc","./WebGLGraphicsData":"osvA","./shaders/PrimitiveShader":"7obX","./utils/buildPoly":"T/6c","./utils/buildRectangle":"CCbO","./utils/buildRoundedRectangle":"YVGt","./utils/buildCircle":"KDJR"}],"62q4":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../../renderers/canvas/CanvasRenderer"),l=i(t),e=require("../../const");function i(t){return t&&t.__esModule?t:{default:t}}function r(t,l){if(!(t instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(l){r(this,t),this.renderer=l}return t.prototype.render=function(t){var l=this.renderer,i=l.context,r=t.worldAlpha,o=t.transform.worldTransform,n=l.resolution;i.setTransform(o.a*n,o.b*n,o.c*n,o.d*n,o.tx*n,o.ty*n),t.canvasTintDirty===t.dirty&&t._prevTint===t.tint||this.updateGraphicsTint(t),l.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var s=t.graphicsData[a],h=s.shape,f=s._fillTint,p=s._lineTint;if(i.lineWidth=s.lineWidth,s.type===e.SHAPES.POLY){i.beginPath(),this.renderPolygon(h.points,h.closed,i);for(var u=0;u<s.holes.length;u++)this.renderPolygon(s.holes[u].points,!0,i);s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}else if(s.type===e.SHAPES.RECT)(s.fillColor||0===s.fillColor)&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),i.fillRect(h.x,h.y,h.width,h.height)),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.strokeRect(h.x,h.y,h.width,h.height));else if(s.type===e.SHAPES.CIRC)i.beginPath(),i.arc(h.x,h.y,h.radius,0,2*Math.PI),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke());else if(s.type===e.SHAPES.ELIP){var d=2*h.width,g=2*h.height,c=h.x-d/2,y=h.y-g/2;i.beginPath();var b=d/2*.5522848,S=g/2*.5522848,T=c+d,v=y+g,A=c+d/2,C=y+g/2;i.moveTo(c,C),i.bezierCurveTo(c,C-S,A-b,y,A,y),i.bezierCurveTo(A+b,y,T,C-S,T,C),i.bezierCurveTo(T,C+S,A+b,v,A,v),i.bezierCurveTo(A-b,v,c,C+S,c,C),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}else if(s.type===e.SHAPES.RREC){var P=h.x,k=h.y,_=h.width,x=h.height,E=h.radius,w=Math.min(_,x)/2|0;E=E>w?w:E,i.beginPath(),i.moveTo(P,k+E),i.lineTo(P,k+x-E),i.quadraticCurveTo(P,k+x,P+E,k+x),i.lineTo(P+_-E,k+x),i.quadraticCurveTo(P+_,k+x,P+_,k+x-E),i.lineTo(P+_,k+E),i.quadraticCurveTo(P+_,k,P+_-E,k),i.lineTo(P+E,k),i.quadraticCurveTo(P,k,P,k+E),i.closePath(),(s.fillColor||0===s.fillColor)&&(i.globalAlpha=s.fillAlpha*r,i.fillStyle="#"+("00000"+(0|f).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*r,i.strokeStyle="#"+("00000"+(0|p).toString(16)).substr(-6),i.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint,t.canvasTintDirty=t.dirty;for(var l=(t.tint>>16&255)/255,e=(t.tint>>8&255)/255,i=(255&t.tint)/255,r=0;r<t.graphicsData.length;++r){var o=t.graphicsData[r],n=0|o.fillColor,a=0|o.lineColor;o._fillTint=((n>>16&255)/255*l*255<<16)+((n>>8&255)/255*e*255<<8)+(255&n)/255*i*255,o._lineTint=((a>>16&255)/255*l*255<<16)+((a>>8&255)/255*e*255<<8)+(255&a)/255*i*255}},t.prototype.renderPolygon=function(t,l,e){e.moveTo(t[0],t[1]);for(var i=1;i<t.length/2;++i)e.lineTo(t[2*i],t[2*i+1]);l&&e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();exports.default=o,l.default.registerPlugin("graphics",o);
},{"../../renderers/canvas/CanvasRenderer":"xIW1","../../const":"LWAx"}],"vcH7":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var s=0;s<e.length;s++){var r=e[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,s,r){return s&&t(e.prototype,s),r&&t(e,r),e}}(),e=require("../"),s=require("../utils");function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function o(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;r(this,o),this.baseTexture=t,this.textures={},this.animations={},this.data=e,this.resolution=this._updateResolution(s||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t(o,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),o.prototype._updateResolution=function(t){var e=this.data.meta.scale,r=(0,s.getResolutionOfUrl)(t,null);return null===r&&(r=void 0!==e?parseFloat(e):1),1!==r&&(this.baseTexture.resolution=r,this.baseTexture.update()),r},o.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=o.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},o.prototype._processFrames=function(t){for(var s=t,r=o.BATCH_SIZE,i=this.baseTexture.sourceScale;s-t<r&&s<this._frameKeys.length;){var a=this._frameKeys[s],n=this._frames[a],h=n.frame;if(h){var l=null,u=null,c=!1!==n.trimmed&&n.sourceSize?n.sourceSize:n.frame,f=new e.Rectangle(0,0,Math.floor(c.w*i)/this.resolution,Math.floor(c.h*i)/this.resolution);l=n.rotated?new e.Rectangle(Math.floor(h.x*i)/this.resolution,Math.floor(h.y*i)/this.resolution,Math.floor(h.h*i)/this.resolution,Math.floor(h.w*i)/this.resolution):new e.Rectangle(Math.floor(h.x*i)/this.resolution,Math.floor(h.y*i)/this.resolution,Math.floor(h.w*i)/this.resolution,Math.floor(h.h*i)/this.resolution),!1!==n.trimmed&&n.spriteSourceSize&&(u=new e.Rectangle(Math.floor(n.spriteSourceSize.x*i)/this.resolution,Math.floor(n.spriteSourceSize.y*i)/this.resolution,Math.floor(h.w*i)/this.resolution,Math.floor(h.h*i)/this.resolution)),this.textures[a]=new e.Texture(this.baseTexture,l,f,u,n.rotated?2:0,n.anchor),e.Texture.addToCache(this.textures[a],a)}s++}},o.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];var s=t[e],r=Array.isArray(s),o=0;for(s=r?s:s[Symbol.iterator]();;){var i;if(r){if(o>=s.length)break;i=s[o++]}else{if((o=s.next()).done)break;i=o.value}var a=i;this.animations[e].push(this.textures[a])}}},o.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},o.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*o.BATCH_SIZE),this._batchIndex++,setTimeout(function(){t._batchIndex*o.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())},0)},o.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},o}();exports.default=o;
},{"../":"PQuZ","../utils":"7Y0b"}],"Ngyl":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.autoDetectRenderer=d;var e=require("./utils"),r=s(e),t=require("./renderers/canvas/CanvasRenderer"),n=o(t),u=require("./renderers/webgl/WebGLRenderer"),a=o(u);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function d(e,t,u,o){var s=e&&e.forceCanvas;return void 0!==o&&(s=o),!s&&r.isWebGLSupported()?new a.default(e,t,u):new n.default(e,t,u)}
},{"./utils":"7Y0b","./renderers/canvas/CanvasRenderer":"xIW1","./renderers/webgl/WebGLRenderer":"Lipc"}],"uERE":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),t=require("./autoDetectRenderer"),r=require("./display/Container"),i=u(r),n=require("./ticker"),s=require("./settings"),o=u(s),a=require("./const");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var h=function(){function r(e,s,a,u,h){c(this,r),"number"==typeof e&&(e=Object.assign({width:e,height:s||o.default.RENDER_OPTIONS.height,forceCanvas:!!u,sharedTicker:!!h},a)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,t.autoDetectRenderer)(e),this.stage=new i.default,this._ticker=null,this.ticker=e.sharedTicker?n.shared:new n.Ticker,e.autoStart&&this.start()}return r.prototype.render=function(){this.renderer.render(this.stage)},r.prototype.stop=function(){this._ticker.stop()},r.prototype.start=function(){this._ticker.start()},r.prototype.destroy=function(e,t){if(this._ticker){var r=this._ticker;this.ticker=null,r.destroy()}this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},e(r,[{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,a.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),r}();exports.default=h;
},{"./autoDetectRenderer":"Ngyl","./display/Container":"vjaY","./ticker":"29Q2","./settings":"7eWp","./const":"LWAx"}],"PQuZ":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.autoDetectRenderer=exports.Application=exports.Filter=exports.SpriteMaskFilter=exports.Quad=exports.RenderTarget=exports.ObjectRenderer=exports.WebGLManager=exports.Shader=exports.CanvasRenderTarget=exports.TextureUvs=exports.VideoBaseTexture=exports.BaseRenderTexture=exports.RenderTexture=exports.BaseTexture=exports.TextureMatrix=exports.Texture=exports.Spritesheet=exports.CanvasGraphicsRenderer=exports.GraphicsRenderer=exports.GraphicsData=exports.Graphics=exports.TextMetrics=exports.TextStyle=exports.Text=exports.SpriteRenderer=exports.CanvasTinter=exports.CanvasSpriteRenderer=exports.Sprite=exports.TransformBase=exports.TransformStatic=exports.Transform=exports.Container=exports.DisplayObject=exports.Bounds=exports.glCore=exports.WebGLRenderer=exports.CanvasRenderer=exports.ticker=exports.utils=exports.settings=void 0;var e=require("./const");Object.keys(e).forEach(function(r){"default"!==r&&"__esModule"!==r&&Object.defineProperty(exports,r,{enumerable:!0,get:function(){return e[r]}})});var r=require("./math");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("pixi-gl-core");Object.defineProperty(exports,"glCore",{enumerable:!0,get:function(){return N(t).default}});var n=require("./display/Bounds");Object.defineProperty(exports,"Bounds",{enumerable:!0,get:function(){return N(n).default}});var u=require("./display/DisplayObject");Object.defineProperty(exports,"DisplayObject",{enumerable:!0,get:function(){return N(u).default}});var a=require("./display/Container");Object.defineProperty(exports,"Container",{enumerable:!0,get:function(){return N(a).default}});var i=require("./display/Transform");Object.defineProperty(exports,"Transform",{enumerable:!0,get:function(){return N(i).default}});var s=require("./display/TransformStatic");Object.defineProperty(exports,"TransformStatic",{enumerable:!0,get:function(){return N(s).default}});var o=require("./display/TransformBase");Object.defineProperty(exports,"TransformBase",{enumerable:!0,get:function(){return N(o).default}});var p=require("./sprites/Sprite");Object.defineProperty(exports,"Sprite",{enumerable:!0,get:function(){return N(p).default}});var d=require("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(exports,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return N(d).default}});var f=require("./sprites/canvas/CanvasTinter");Object.defineProperty(exports,"CanvasTinter",{enumerable:!0,get:function(){return N(f).default}});var c=require("./sprites/webgl/SpriteRenderer");Object.defineProperty(exports,"SpriteRenderer",{enumerable:!0,get:function(){return N(c).default}});var l=require("./text/Text");Object.defineProperty(exports,"Text",{enumerable:!0,get:function(){return N(l).default}});var x=require("./text/TextStyle");Object.defineProperty(exports,"TextStyle",{enumerable:!0,get:function(){return N(x).default}});var b=require("./text/TextMetrics");Object.defineProperty(exports,"TextMetrics",{enumerable:!0,get:function(){return N(b).default}});var g=require("./graphics/Graphics");Object.defineProperty(exports,"Graphics",{enumerable:!0,get:function(){return N(g).default}});var v=require("./graphics/GraphicsData");Object.defineProperty(exports,"GraphicsData",{enumerable:!0,get:function(){return N(v).default}});var y=require("./graphics/webgl/GraphicsRenderer");Object.defineProperty(exports,"GraphicsRenderer",{enumerable:!0,get:function(){return N(y).default}});var m=require("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(exports,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return N(m).default}});var O=require("./textures/Spritesheet");Object.defineProperty(exports,"Spritesheet",{enumerable:!0,get:function(){return N(O).default}});var T=require("./textures/Texture");Object.defineProperty(exports,"Texture",{enumerable:!0,get:function(){return N(T).default}});var j=require("./textures/TextureMatrix");Object.defineProperty(exports,"TextureMatrix",{enumerable:!0,get:function(){return N(j).default}});var q=require("./textures/BaseTexture");Object.defineProperty(exports,"BaseTexture",{enumerable:!0,get:function(){return N(q).default}});var P=require("./textures/RenderTexture");Object.defineProperty(exports,"RenderTexture",{enumerable:!0,get:function(){return N(P).default}});var R=require("./textures/BaseRenderTexture");Object.defineProperty(exports,"BaseRenderTexture",{enumerable:!0,get:function(){return N(R).default}});var h=require("./textures/VideoBaseTexture");Object.defineProperty(exports,"VideoBaseTexture",{enumerable:!0,get:function(){return N(h).default}});var S=require("./textures/TextureUvs");Object.defineProperty(exports,"TextureUvs",{enumerable:!0,get:function(){return N(S).default}});var C=require("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(exports,"CanvasRenderTarget",{enumerable:!0,get:function(){return N(C).default}});var G=require("./Shader");Object.defineProperty(exports,"Shader",{enumerable:!0,get:function(){return N(G).default}});var M=require("./renderers/webgl/managers/WebGLManager");Object.defineProperty(exports,"WebGLManager",{enumerable:!0,get:function(){return N(M).default}});var B=require("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(exports,"ObjectRenderer",{enumerable:!0,get:function(){return N(B).default}});var w=require("./renderers/webgl/utils/RenderTarget");Object.defineProperty(exports,"RenderTarget",{enumerable:!0,get:function(){return N(w).default}});var D=require("./renderers/webgl/utils/Quad");Object.defineProperty(exports,"Quad",{enumerable:!0,get:function(){return N(D).default}});var _=require("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(exports,"SpriteMaskFilter",{enumerable:!0,get:function(){return N(_).default}});var k=require("./renderers/webgl/filters/Filter");Object.defineProperty(exports,"Filter",{enumerable:!0,get:function(){return N(k).default}});var F=require("./Application");Object.defineProperty(exports,"Application",{enumerable:!0,get:function(){return N(F).default}});var L=require("./autoDetectRenderer");Object.defineProperty(exports,"autoDetectRenderer",{enumerable:!0,get:function(){return L.autoDetectRenderer}});var W=require("./utils"),A=K(W),Q=require("./ticker"),U=K(Q),V=require("./settings"),E=N(V),z=require("./renderers/canvas/CanvasRenderer"),H=N(z),I=require("./renderers/webgl/WebGLRenderer"),J=N(I);function K(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function N(e){return e&&e.__esModule?e:{default:e}}exports.settings=E.default,exports.utils=A,exports.ticker=U,exports.CanvasRenderer=H.default,exports.WebGLRenderer=J.default;
},{"./const":"LWAx","./math":"SQeI","pixi-gl-core":"kSum","./display/Bounds":"n3Mm","./display/DisplayObject":"4JyF","./display/Container":"vjaY","./display/Transform":"Qb1O","./display/TransformStatic":"JBmb","./display/TransformBase":"XeYJ","./sprites/Sprite":"n6qo","./sprites/canvas/CanvasSpriteRenderer":"lJr0","./sprites/canvas/CanvasTinter":"cVw2","./sprites/webgl/SpriteRenderer":"7Xp9","./text/Text":"FiJk","./text/TextStyle":"wXu+","./text/TextMetrics":"QNUI","./graphics/Graphics":"IDJ2","./graphics/GraphicsData":"xob1","./graphics/webgl/GraphicsRenderer":"zGPr","./graphics/canvas/CanvasGraphicsRenderer":"62q4","./textures/Spritesheet":"vcH7","./textures/Texture":"QMiZ","./textures/TextureMatrix":"yz/0","./textures/BaseTexture":"oIyp","./textures/RenderTexture":"GZDt","./textures/BaseRenderTexture":"9RKB","./textures/VideoBaseTexture":"6DB7","./textures/TextureUvs":"4dJ9","./renderers/canvas/utils/CanvasRenderTarget":"fd99","./Shader":"HzbE","./renderers/webgl/managers/WebGLManager":"WOLK","./renderers/webgl/utils/ObjectRenderer":"xJXs","./renderers/webgl/utils/RenderTarget":"BzBx","./renderers/webgl/utils/Quad":"QA+E","./renderers/webgl/filters/spriteMask/SpriteMaskFilter":"n8/D","./renderers/webgl/filters/Filter":"xkFr","./Application":"uERE","./autoDetectRenderer":"Ngyl","./utils":"7Y0b","./ticker":"29Q2","./settings":"7eWp","./renderers/canvas/CanvasRenderer":"xIW1","./renderers/webgl/WebGLRenderer":"Lipc"}],"mczs":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=r;var e={};function t(t){if(!e[t]){var r=(new Error).stack;void 0===r?console.warn("Deprecation Warning: ",t):(r=r.split("\n").splice(3).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cDeprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t),console.warn(r),console.groupEnd()):(console.warn("Deprecation Warning: ",t),console.warn(r))),e[t]=!0}}function r(e){var r=e.mesh,n=e.particles,s=e.extras,a=e.filters,o=e.prepare,i=e.loaders,u=e.interaction;Object.defineProperties(e,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return t("You do not need to use a PIXI Stage any more, you can simply render any container."),e.Container}},DisplayObjectContainer:{get:function(){return t("DisplayObjectContainer has been shortened to Container, please use Container from now on."),e.Container}},Strip:{get:function(){return t("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),r.Mesh}},Rope:{get:function(){return t("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),r.Rope}},ParticleContainer:{get:function(){return t("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return t("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),s.AnimatedSprite}},TilingSprite:{get:function(){return t("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),s.TilingSprite}},BitmapText:{get:function(){return t("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),s.BitmapText}},blendModes:{get:function(){return t("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),e.BLEND_MODES}},scaleModes:{get:function(){return t("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),e.SCALE_MODES}},BaseTextureCache:{get:function(){return t("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),e.utils.BaseTextureCache}},TextureCache:{get:function(){return t("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),e.utils.TextureCache}},math:{get:function(){return t("The math namespace is deprecated, please access members already accessible on PIXI."),e}},AbstractFilter:{get:function(){return t("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.Filter}},TransformManual:{get:function(){return t("TransformManual has been renamed to TransformBase, please update your pixi-spine"),e.TransformBase}},TARGET_FPMS:{get:function(){return t("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS},set:function(r){t("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),e.settings.TARGET_FPMS=r}},FILTER_RESOLUTION:{get:function(){return t("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION},set:function(r){t("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),e.settings.FILTER_RESOLUTION=r}},RESOLUTION:{get:function(){return t("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION},set:function(r){t("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),e.settings.RESOLUTION=r}},MIPMAP_TEXTURES:{get:function(){return t("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES},set:function(r){t("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),e.settings.MIPMAP_TEXTURES=r}},SPRITE_BATCH_SIZE:{get:function(){return t("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE},set:function(r){t("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),e.settings.SPRITE_BATCH_SIZE=r}},SPRITE_MAX_TEXTURES:{get:function(){return t("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES},set:function(r){t("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),e.settings.SPRITE_MAX_TEXTURES=r}},RETINA_PREFIX:{get:function(){return t("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX},set:function(r){t("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),e.settings.RETINA_PREFIX=r}},DEFAULT_RENDER_OPTIONS:{get:function(){return t("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),e.settings.RENDER_OPTIONS}}});for(var p=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],c=function(r){var n=p[r];Object.defineProperty(e[n.parent],"DEFAULT",{get:function(){return t("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),e.settings[n.target]},set:function(r){t("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),e.settings[n.target]=r}})},l=0;l<p.length;l++)c(l);Object.defineProperties(e.settings,{PRECISION:{get:function(){return t("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT},set:function(r){t("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),e.settings.PRECISION_FRAGMENT=r}}}),s.AnimatedSprite&&Object.defineProperties(s,{MovieClip:{get:function(){return t("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),s.AnimatedSprite}}}),s&&Object.defineProperties(s,{TextureTransform:{get:function(){return t("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),e.TextureMatrix}}}),e.DisplayObject.prototype.generateTexture=function(e,r,n){return t("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,r,n)},e.Graphics.prototype.generateTexture=function(e,r){return t("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,r)},e.GroupD8.isSwapWidthHeight=function(r){return t("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),e.GroupD8.isVertical(r)},e.RenderTexture.prototype.render=function(e,r,n,s){this.legacyRenderer.render(e,this,n,r,!s),t("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},e.RenderTexture.prototype.getImage=function(e){return t("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},e.RenderTexture.prototype.getBase64=function(e){return t("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},e.RenderTexture.prototype.getCanvas=function(e){return t("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},e.RenderTexture.prototype.getPixels=function(e){return t("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},e.Sprite.prototype.setTexture=function(e){this.texture=e,t("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},s.BitmapText&&(s.BitmapText.prototype.setText=function(e){this.text=e,t("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),e.Text.prototype.setText=function(e){this.text=e,t("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},e.Text.calculateFontProperties=function(r){return t("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),e.TextMetrics.measureFont(r)},Object.defineProperties(e.Text,{fontPropertiesCache:{get:function(){return t("Text.fontPropertiesCache is deprecated"),e.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return t("Text.fontPropertiesCanvas is deprecated"),e.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return t("Text.fontPropertiesContext is deprecated"),e.TextMetrics._context}}}),e.Text.prototype.setStyle=function(e){this.style=e,t("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},e.Text.prototype.determineFontProperties=function(r){return t("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),e.TextMetrics.measureFont(r)},e.Text.getFontStyle=function(r){return t("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(r=r||{})instanceof e.TextStyle||(r=new e.TextStyle(r)),r.toFontString()},Object.defineProperties(e.TextStyle.prototype,{font:{get:function(){t("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){t("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var r=e.split(" "),n=-1;this._fontSize=26;for(var s=0;s<r.length;++s)if(r[s].match(/(px|pt|em|%)/)){n=s,this._fontSize=r[s];break}this._fontWeight="normal";for(var a=0;a<n;++a)if(r[a].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=r[a];break}if(n>-1&&n<r.length-1){this._fontFamily="";for(var o=n+1;o<r.length;++o)this._fontFamily+=r[o]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),e.Texture.prototype.setFrame=function(e){this.frame=e,t("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},e.Texture.addTextureToCache=function(r,n){e.Texture.addToCache(r,n),t("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},e.Texture.removeTextureFromCache=function(r){return t("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),e.BaseTexture.removeFromCache(r),e.Texture.removeFromCache(r)},Object.defineProperties(a,{AbstractFilter:{get:function(){return t("AstractFilter has been renamed to Filter, please use PIXI.Filter"),e.AbstractFilter}},SpriteMaskFilter:{get:function(){return t("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),e.SpriteMaskFilter}},VoidFilter:{get:function(){return t("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),a.AlphaFilter}}}),e.utils.uuid=function(){return t("utils.uuid() is deprecated, please use utils.uid() from now on."),e.utils.uid()},e.utils.canUseNewCanvasBlendModes=function(){return t("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),e.CanvasTinter.canUseMultiply};var d=!0;if(Object.defineProperty(e.utils,"_saidHello",{set:function(e){e&&(t("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=e},get:function(){return d}}),o.BasePrepare&&(o.BasePrepare.prototype.register=function(e,r){return t("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),r&&this.registerUploadHook(r),this}),o.canvas&&Object.defineProperty(o.canvas,"UPLOADS_PER_FRAME",{set:function(){t("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return t("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),o.webgl&&Object.defineProperty(o.webgl,"UPLOADS_PER_FRAME",{set:function(){t("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return t("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),i.Loader){var T=i.Resource,f=i.Loader;Object.defineProperties(T.prototype,{isJson:{get:function(){return t("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===T.TYPE.JSON}},isXml:{get:function(){return t("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===T.TYPE.XML}},isImage:{get:function(){return t("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===T.TYPE.IMAGE}},isAudio:{get:function(){return t("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===T.TYPE.AUDIO}},isVideo:{get:function(){return t("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===T.TYPE.VIDEO}}}),Object.defineProperties(f.prototype,{before:{get:function(){return t("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return t("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(e){t("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function(){return t("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(e){t("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function(){return t("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(e){t("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function(){return t("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}
},{}],"Cc2D":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1};
},{}],"tVfO":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../core"),t=l(e),i=require("ismobilejs"),s=o(i),n=require("./accessibleTarget"),r=o(n);function o(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.utils.mixins.delayMixin(t.DisplayObject.prototype,r.default);var d=9,c=100,h=0,u=0,p=2,v=1,b=-1e3,y=-1e3,f=2,g=function(){function e(t){a(this,e),!s.default.tablet&&!s.default.phone||navigator.isCocoonJS||this.createTouchHook();var i=document.createElement("div");i.style.width=c+"px",i.style.height=c+"px",i.style.position="absolute",i.style.top=h+"px",i.style.left=u+"px",i.style.zIndex=p,this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=v+"px",t.style.height=v+"px",t.style.position="absolute",t.style.top=b+"px",t.style.left=y+"px",t.style.zIndex=f,t.style.backgroundColor="#FF0000",t.title="HOOK DIV",t.addEventListener("focus",function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),i=e.width/this.renderer.width,s=e.height/this.renderer.height,n=this.div;n.style.left=e.left+"px",n.style.top=e.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var o=this.children[r];if(o.renderId!==this.renderId)o._accessibleActive=!1,t.utils.removeItems(this.children,r,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var l=o.hitArea,a=o.worldTransform;o.hitArea?(n.style.left=(a.tx+l.x*a.a)*i+"px",n.style.top=(a.ty+l.y*a.d)*s+"px",n.style.width=l.width*a.a*i+"px",n.style.height=l.height*a.d*s+"px"):(l=o.getBounds(),this.capHitArea(l),n.style.left=l.x*i+"px",n.style.top=l.y*s+"px",n.style.width=l.width*i+"px",n.style.height=l.height*s+"px",n.title!==o.accessibleTitle&&null!==o.accessibleTitle&&(n.title=o.accessibleTitle),n.getAttribute("aria-label")!==o.accessibleHint&&null!==o.accessibleHint&&n.setAttribute("aria-label",o.accessibleHint))}}this.renderId++}},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=c+"px",t.style.height=c+"px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=p,t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){e.keyCode===d&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();exports.default=g,t.WebGLRenderer.registerPlugin("accessibility",g),t.CanvasRenderer.registerPlugin("accessibility",g);
},{"../core":"PQuZ","ismobilejs":"ydT8","./accessibleTarget":"Cc2D"}],"1cvE":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./accessibleTarget");Object.defineProperty(exports,"accessibleTarget",{enumerable:!0,get:function(){return t(e).default}});var r=require("./AccessibilityManager");function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"AccessibilityManager",{enumerable:!0,get:function(){return t(r).default}});
},{"./accessibleTarget":"Cc2D","./AccessibilityManager":"tVfO"}],"rpHu":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),r=t(e);function t(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function n(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var i=new r.Rectangle,a=4,o=function(){function e(r){n(this,e),this.renderer=r,r.extract=this}return e.prototype.image=function(e){var r=new Image;return r.src=this.base64(e),r},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var t=this.renderer,n=void 0,o=void 0,s=void 0,d=!1,u=void 0,h=!1;e&&(e instanceof r.RenderTexture?u=e:(u=this.renderer.generateTexture(e),h=!0)),u?(o=(n=u.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=u.frame,d=!1):(o=(n=this.renderer.rootRenderTarget).resolution,d=!0,(s=i).width=n.size.width,s.height=n.size.height);var c=s.width*o,l=s.height*o,g=new r.CanvasRenderTarget(c,l,1);if(n){t.bindRenderTarget(n);var v=new Uint8Array(a*c*l),f=t.gl;f.readPixels(s.x*o,s.y*o,c,l,f.RGBA,f.UNSIGNED_BYTE,v);var x=g.context.getImageData(0,0,c,l);x.data.set(v),g.context.putImageData(x,0,0),d&&(g.context.scale(1,-1),g.context.drawImage(g.canvas,0,-l))}return h&&u.destroy(!0),g.canvas},e.prototype.pixels=function(e){var t=this.renderer,n=void 0,o=void 0,s=void 0,d=void 0,u=!1;e&&(e instanceof r.RenderTexture?d=e:(d=this.renderer.generateTexture(e),u=!0)),d?(o=(n=d.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID]).resolution,s=d.frame):(o=(n=this.renderer.rootRenderTarget).resolution,(s=i).width=n.size.width,s.height=n.size.height);var h=s.width*o,c=s.height*o,l=new Uint8Array(a*h*c);if(n){t.bindRenderTarget(n);var g=t.gl;g.readPixels(s.x*o,s.y*o,h,c,g.RGBA,g.UNSIGNED_BYTE,l)}return u&&d.destroy(!0),l},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();exports.default=o,r.WebGLRenderer.registerPlugin("extract",o);
},{"../../core":"PQuZ"}],"IcmQ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),t=r(e);function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=new t.Rectangle,o=function(){function e(t){n(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var r=this.renderer,n=void 0,o=void 0,i=void 0,s=void 0;e&&(s=e instanceof t.RenderTexture?e:r.generateTexture(e)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(n=r.rootContext,(i=a).width=this.renderer.width,i.height=this.renderer.height);var u=i.width*o,d=i.height*o,c=new t.CanvasRenderTarget(u,d,1),h=n.getImageData(i.x*o,i.y*o,u,d);return c.context.putImageData(h,0,0),c.canvas},e.prototype.pixels=function(e){var r=this.renderer,n=void 0,o=void 0,i=void 0,s=void 0;return e&&(s=e instanceof t.RenderTexture?e:r.generateTexture(e)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(n=r.rootContext,(i=a).width=r.width,i.height=r.height),n.getImageData(0,0,i.width*o,i.height*o).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();exports.default=o,t.CanvasRenderer.registerPlugin("extract",o);
},{"../../core":"PQuZ"}],"AWac":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./webgl/WebGLExtract");Object.defineProperty(exports,"webgl",{enumerable:!0,get:function(){return t(e).default}});var r=require("./canvas/CanvasExtract");function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"canvas",{enumerable:!0,get:function(){return t(r).default}});
},{"./webgl/WebGLExtract":"rpHu","./canvas/CanvasExtract":"IcmQ"}],"YBvM":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("../core"),r=n(e);function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=function(e){function n(t,s){i(this,n);var u=o(this,e.call(this,t[0]instanceof r.Texture?t[0]:t[0].texture));return u._textures=null,u._durations=null,u.textures=t,u._autoUpdate=!1!==s,u.animationSpeed=1,u.loop=!0,u.onComplete=null,u.onFrameChange=null,u.onLoop=null,u._currentTime=0,u.playing=!1,u}return s(n,e),n.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&r.ticker.shared.remove(this.update,this))},n.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&r.ticker.shared.add(this.update,this,r.UPDATE_PRIORITY.HIGH))},n.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},n.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},n.prototype.update=function(t){var e=this.animationSpeed*t,r=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r?this.onLoop():this.animationSpeed<0&&this.currentFrame>r&&this.onLoop()),this.updateTexture())},n.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.onFrameChange&&this.onFrameChange(this.currentFrame)},n.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t)},n.fromFrames=function(t){for(var e=[],i=0;i<t.length;++i)e.push(r.Texture.fromFrame(t[i]));return new n(e)},n.fromImages=function(t){for(var e=[],i=0;i<t.length;++i)e.push(r.Texture.fromImage(t[i]));return new n(e)},t(n,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof r.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),n}(r.Sprite);exports.default=u;
},{"../core":"PQuZ"}],"kJRt":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,i,r){return i&&t(e.prototype,i),r&&t(e,r),e}}(),e=require("../core"),i=o(e),r=require("../core/sprites/canvas/CanvasTinter"),n=s(r);function s(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=new i.Point,l=function(e){function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;a(this,r);var o=h(this,e.call(this,t));return o.tileTransform=new i.TransformStatic,o._width=n,o._height=s,o._canvasPattern=null,o.uvTransform=t.transform||new i.TextureMatrix(t),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return u(r,e),r.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},r.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},r.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var r=t.context,s=this.worldTransform,o=t.resolution,a=e.baseTexture,h=a.resolution,u=this.tilePosition.x/this.tileScale.x%e._frame.width*h,c=this.tilePosition.y/this.tileScale.y%e._frame.height*h;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var l=new i.CanvasRenderTarget(e._frame.width,e._frame.height,h);16777215!==this.tint?(this.tintedTexture=n.default.getTintedTexture(this,this.tint),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(a.source,-e._frame.x*h,-e._frame.y*h),this.cachedTint=this.tint,this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}r.globalAlpha=this.worldAlpha,r.setTransform(s.a*o,s.b*o,s.c*o,s.d*o,s.tx*o,s.ty*o),t.setBlendMode(this.blendMode),r.fillStyle=this._canvasPattern,r.scale(this.tileScale.x/h,this.tileScale.y/h);var f=this.anchor.x*-this._width,_=this.anchor.y*-this._height;this.uvRespectAnchor?(r.translate(u,c),r.fillRect(-u+f,-c+_,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h)):(r.translate(u+f,c+_),r.fillRect(-u,-c,this._width/this.tileScale.x*h,this._height/this.tileScale.y*h))}},r.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,r)},r.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},r.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,c);var e=this._width,i=this._height,r=-e*this.anchor._x;if(c.x>=r&&c.x<r+e){var n=-i*this.anchor._y;if(c.y>=n&&c.y<n+i)return!0}return!1},r.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvTransform=null},r.from=function(t,e,n){return new r(i.Texture.from(t),e,n)},r.fromFrame=function(t,e,n){var s=i.utils.TextureCache[t];if(!s)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new r(s,e,n)},r.fromImage=function(t,e,n,s,o){return new r(i.Texture.fromImage(t,s,o),e,n)},t(r,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),r}(i.Sprite);exports.default=l;
},{"../core":"PQuZ","../core/sprites/canvas/CanvasTinter":"cVw2"}],"SG+s":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var r=require("../../core"),e=t(r),o=require("../../core/const"),n=require("path");function t(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e.default=r,e}function a(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function i(r,e){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?r:e}function u(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e)}var l=new e.Matrix,s=function(r){function n(e){a(this,n);var o=i(this,r.call(this,e));return o.shader=null,o.simpleShader=null,o.quad=null,o}return u(n,r),n.prototype.onContextChange=function(){var r=this.renderer.gl;this.shader=new e.Shader(r,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new e.Shader(r,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new e.Quad(r,this.renderer.state.attribState),this.quad.initVao(this.shader)},n.prototype.render=function(r){var n=this.renderer,t=this.quad;n.bindVao(t.vao);var a=t.vertices;a[0]=a[6]=r._width*-r.anchor.x,a[1]=a[3]=r._height*-r.anchor.y,a[2]=a[4]=r._width*(1-r.anchor.x),a[5]=a[7]=r._height*(1-r.anchor.y),r.uvRespectAnchor&&((a=t.uvs)[0]=a[6]=-r.anchor.x,a[1]=a[3]=-r.anchor.y,a[2]=a[4]=1-r.anchor.x,a[5]=a[7]=1-r.anchor.y),t.upload();var i=r._texture,u=i.baseTexture,s=r.tileTransform.localTransform,d=r.uvTransform,c=u.isPowerOfTwo&&i.frame.width===u.width&&i.frame.height===u.height;c&&(u._glTextures[n.CONTEXT_UID]?c=u.wrapMode!==o.WRAP_MODES.CLAMP:u.wrapMode===o.WRAP_MODES.CLAMP&&(u.wrapMode=o.WRAP_MODES.REPEAT));var m=c?this.simpleShader:this.shader;n.bindShader(m);var p=i.width,f=i.height,h=r._width,v=r._height;l.set(s.a*p/h,s.b*p/v,s.c*f/h,s.d*f/v,s.tx/h,s.ty/v),l.invert(),c?l.prepend(d.mapCoord):(m.uniforms.uMapCoord=d.mapCoord.toArray(!0),m.uniforms.uClampFrame=d.uClampFrame,m.uniforms.uClampOffset=d.uClampOffset),m.uniforms.uTransform=l.toArray(!0),m.uniforms.uColor=e.utils.premultiplyTintToRgba(r.tint,r.worldAlpha,m.uniforms.uColor,u.premultipliedAlpha),m.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),m.uniforms.uSampler=n.bindTexture(i),n.setBlendMode(e.utils.correctBlendMode(r.blendMode,u.premultipliedAlpha)),t.vao.draw(this.renderer.gl.TRIANGLES,6,0)},n}(e.ObjectRenderer);exports.default=s,e.WebGLRenderer.registerPlugin("tilingSprite",s);
},{"../../core":"PQuZ","../../core/const":"LWAx","path":"sNrv"}],"MGfE":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),e=require("../core"),n=u(e),i=require("../core/math/ObservablePoint"),r=h(i),s=require("../core/utils"),a=require("../core/settings"),o=h(a);function h(t){return t&&t.__esModule?t:{default:t}}function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function g(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var c=function(e){function i(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,i);var s=l(this,e.call(this));return s._textWidth=0,s._textHeight=0,s._glyphs=[],s._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},s.font=n.font,s._text=t,s._maxWidth=0,s._maxLineHeight=0,s._letterSpacing=0,s._anchor=new r.default(function(){s.dirty=!0},s,0,0),s.dirty=!1,s.updateText(),s}return g(i,e),i.prototype.updateText=function(){for(var t=i.fonts[this._font.name],e=this._font.size/t.size,r=new n.Point,s=[],a=[],o=this.text.replace(/(?:\r\n|\r)/g,"\n"),h=o.length,u=this._maxWidth*t.size/this._font.size,f=null,l=0,g=0,c=0,p=-1,y=0,x=0,_=0,d=0;d<h;d++){var m=o.charCodeAt(d),v=o.charAt(d);if(/(?:\s)/.test(v)&&(p=d,y=l),"\r"!==v&&"\n"!==v){var b=t.chars[m];b&&(f&&b.kerning[f]&&(r.x+=b.kerning[f]),s.push({texture:b.texture,line:c,charCode:m,position:new n.Point(r.x+b.xOffset+this._letterSpacing/2,r.y+b.yOffset)}),r.x+=b.xAdvance+this._letterSpacing,l=r.x,_=Math.max(_,b.yOffset+b.texture.height),f=m,-1!==p&&u>0&&r.x>u&&(++x,n.utils.removeItems(s,1+p-x,1+d-p),d=p,p=-1,a.push(y),g=Math.max(g,y),c++,r.x=0,r.y+=t.lineHeight,f=null))}else a.push(l),g=Math.max(g,l),++c,++x,r.x=0,r.y+=t.lineHeight,f=null}var A=o.charAt(o.length-1);"\r"!==A&&"\n"!==A&&(/(?:\s)/.test(A)&&(l=y),a.push(l),g=Math.max(g,l));for(var I=[],O=0;O<=c;O++){var k=0;"right"===this._font.align?k=g-a[O]:"center"===this._font.align&&(k=(g-a[O])/2),I.push(k)}for(var w=s.length,T=this.tint,H=0;H<w;H++){var z=this._glyphs[H];z?z.texture=s[H].texture:(z=new n.Sprite(s[H].texture),this._glyphs.push(z)),z.position.x=(s[H].position.x+I[s[H].line])*e,z.position.y=s[H].position.y*e,z.scale.x=z.scale.y=e,z.tint=T,z.parent||this.addChild(z)}for(var S=w;S<this._glyphs.length;++S)this.removeChild(this._glyphs[S]);if(this._textWidth=g*e,this._textHeight=(r.y+t.lineHeight)*e,0!==this.anchor.x||0!==this.anchor.y)for(var W=0;W<w;W++)this._glyphs[W].x-=this._textWidth*this.anchor.x,this._glyphs[W].y-=this._textHeight*this.anchor.y;this._maxLineHeight=_*e},i.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},i.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},i.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},i.registerFont=function(t,e){var r={},a=t.getElementsByTagName("info")[0],h=t.getElementsByTagName("common")[0],u=t.getElementsByTagName("page"),f=(0,s.getResolutionOfUrl)(u[0].getAttribute("file"),o.default.RESOLUTION),l={};r.font=a.getAttribute("face"),r.size=parseInt(a.getAttribute("size"),10),r.lineHeight=parseInt(h.getAttribute("lineHeight"),10)/f,r.chars={},e instanceof n.Texture&&(e=[e]);for(var g=0;g<u.length;g++){var c=u[g].getAttribute("id"),p=u[g].getAttribute("file");l[c]=e instanceof Array?e[g]:e[p]}for(var y=t.getElementsByTagName("char"),x=0;x<y.length;x++){var _=y[x],d=parseInt(_.getAttribute("id"),10),m=_.getAttribute("page")||0,v=new n.Rectangle(parseInt(_.getAttribute("x"),10)/f+l[m].frame.x/f,parseInt(_.getAttribute("y"),10)/f+l[m].frame.y/f,parseInt(_.getAttribute("width"),10)/f,parseInt(_.getAttribute("height"),10)/f);r.chars[d]={xOffset:parseInt(_.getAttribute("xoffset"),10)/f,yOffset:parseInt(_.getAttribute("yoffset"),10)/f,xAdvance:parseInt(_.getAttribute("xadvance"),10)/f,kerning:{},texture:new n.Texture(l[m].baseTexture,v),page:m}}for(var b=t.getElementsByTagName("kerning"),A=0;A<b.length;A++){var I=b[A],O=parseInt(I.getAttribute("first"),10)/f,k=parseInt(I.getAttribute("second"),10)/f,w=parseInt(I.getAttribute("amount"),10)/f;r.chars[k]&&(r.chars[k].kerning[O]=w)}return i.fonts[r.font]=r,r},t(i,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):i.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),i}(n.Container);exports.default=c,c.fonts={};
},{"../core":"PQuZ","../core/math/ObservablePoint":"n52E","../core/utils":"7Y0b","../core/settings":"7eWp"}],"oB0Y":[function(require,module,exports) {
"use strict";var t=require("../core"),a=o(t),e=require("../core/textures/Texture"),i=h(e),r=require("../core/textures/BaseTexture"),s=h(r),n=require("../core/utils");function h(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var a={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(a[e]=t[e]);return a.default=t,a}function c(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var l=a.DisplayObject,d=new a.Matrix;l.prototype._cacheAsBitmap=!1,l.prototype._cacheData=!1;var u=function t(){c(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(l.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var a=void 0;t?(this._cacheData||(this._cacheData=new u),(a=this._cacheData).originalRenderWebGL=this.renderWebGL,a.originalRenderCanvas=this.renderCanvas,a.originalUpdateTransform=this.updateTransform,a.originalCalculateBounds=this._calculateBounds,a.originalGetLocalBounds=this.getLocalBounds,a.originalDestroy=this.destroy,a.originalContainsPoint=this.containsPoint,a.originalMask=this._mask,a.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((a=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=a.originalRenderWebGL,this.renderCanvas=a.originalRenderCanvas,this._calculateBounds=a.originalCalculateBounds,this.getLocalBounds=a.originalGetLocalBounds,this.destroy=a.originalDestroy,this.updateTransform=a.originalUpdateTransform,this.containsPoint=a.originalContainsPoint,this._mask=a.originalMask,this.filterArea=a.originalFilterArea)}}}}),l.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},l.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var r=this.getLocalBounds().clone();if(this._filters){var h=this._filters[0].padding;r.pad(h)}var o=t._activeRenderTarget,c=t.filterManager.filterStack,l=a.RenderTexture.create(0|r.width,0|r.height),u="cacheAsBitmap_"+(0,n.uid)();this._cacheData.textureCacheId=u,s.default.addToCache(l.baseTexture,u),i.default.addToCache(l,u);var p=d;p.tx=-r.x,p.ty=-r.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,l,!0,p,!0),t.bindRenderTarget(o),t.filterManager.filterStack=c,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var _=new a.Sprite(l);_.transform.worldTransform=this.transform.worldTransform,_.anchor.x=-r.x/r.width,_.anchor.y=-r.y/r.height,_.alpha=e,_._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=_,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=_.containsPoint.bind(_)}},l.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},l.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),r=this.alpha;this.alpha=1;var h=t.context,o=a.RenderTexture.create(0|e.width,0|e.height),c="cacheAsBitmap_"+(0,n.uid)();this._cacheData.textureCacheId=c,s.default.addToCache(o.baseTexture,c),i.default.addToCache(o,c);var l=d;this.transform.localTransform.copy(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,o,!0,l,!1),t.context=h,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var u=new a.Sprite(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u._bounds=this._bounds,u.alpha=r,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=u,this.containsPoint=u.containsPoint.bind(u)}},l.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},l.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},l.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,s.default.removeFromCache(this._cacheData.textureCacheId),i.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},l.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};
},{"../core":"PQuZ","../core/textures/Texture":"QMiZ","../core/textures/BaseTexture":"oIyp","../core/utils":"7Y0b"}],"kkLq":[function(require,module,exports) {
"use strict";var r=require("../core"),e=t(r);function t(r){if(r&&r.__esModule)return r;var e={};if(null!=r)for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e.default=r,e}e.DisplayObject.prototype.name=null,e.Container.prototype.getChildByName=function(r){for(var e=0;e<this.children.length;e++)if(this.children[e].name===r)return this.children[e];return null};
},{"../core":"PQuZ"}],"i1oS":[function(require,module,exports) {
"use strict";var t=require("../core"),i=o(t);function o(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o]);return i.default=t,i}i.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new i.Point,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,o):(t.x=this.position.x,t.y=this.position.y),t};
},{"../core":"PQuZ"}],"V9xq":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.BitmapText=exports.TilingSpriteRenderer=exports.TilingSprite=exports.AnimatedSprite=void 0;var e=require("./AnimatedSprite");Object.defineProperty(exports,"AnimatedSprite",{enumerable:!0,get:function(){return n(e).default}});var r=require("./TilingSprite");Object.defineProperty(exports,"TilingSprite",{enumerable:!0,get:function(){return n(r).default}});var t=require("./webgl/TilingSpriteRenderer");Object.defineProperty(exports,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(t).default}});var i=require("./BitmapText");function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"BitmapText",{enumerable:!0,get:function(){return n(i).default}}),require("./cacheAsBitmap"),require("./getChildByName"),require("./getGlobalPosition");
},{"./AnimatedSprite":"YBvM","./TilingSprite":"kJRt","./webgl/TilingSpriteRenderer":"SG+s","./BitmapText":"MGfE","./cacheAsBitmap":"oB0Y","./getChildByName":"kkLq","./getGlobalPosition":"i1oS"}],"YW7U":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),n=o(e),r=require("path");function o(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n.default=e,n}function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function i(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function a(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var v=function(e){function n(){return t(this,n),i(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return a(n,e),n}(n.Filter);exports.default=v;
},{"../../core":"PQuZ","path":"sNrv"}],"2zK8":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,n){for(var o=0;o<n.length;o++){var r=n[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(n,o,r){return o&&e(n.prototype,o),r&&e(n,r),n}}(),n=require("../../core"),o=t(n),r=require("path");function t(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n.default=e,n}function i(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function a(e,n){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?e:n}function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}var l=function(n){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();i(this,o);var t=a(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return t.noise=e,t.seed=r,t}return u(o,n),e(o,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),o}(o.Filter);exports.default=l;
},{"../../core":"PQuZ","path":"sNrv"}],"LnsX":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),r=require("../../core"),t=o(r),n=require("path");function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function u(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var l=function(r){function n(e,o){i(this,n);var u=new t.Matrix;e.renderable=!1;var l=a(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return l.maskSprite=e,l.maskMatrix=u,l.uniforms.mapSampler=e._texture,l.uniforms.filterMatrix=u,l.uniforms.scale={x:1,y:1},null==o&&(o=20),l.scale=new t.Point(o,o),l}return u(n,r),n.prototype.apply=function(e,r,t){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,r,t)},e(n,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),n}(t.Filter);exports.default=l;
},{"../../core":"PQuZ","path":"sNrv"}],"ckyi":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=r;var e=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n");function r(r,o){var t=Math.ceil(r/2),i=e,a="",n=void 0;n=o?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<r;s++){var x=n.replace("%index%",s);a+=x=x.replace("%sampleIndex%",s-(t-1)+".0"),a+="\n"}return i=(i=i.replace("%blur%",a)).replace("%size%",r)}
},{}],"18q/":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=l;var e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},r=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");function l(l){for(var o=e[l],a=o.length,u=r,i="",v=void 0,n=0;n<l;n++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",n);v=n,n>=a&&(v=l-n-1),i+=s=s.replace("%value%",o[v]),i+="\n"}return u=(u=u.replace("%blur%",i)).replace("%size%",l)}
},{}],"aWZ/":[function(require,module,exports) {
"use strict";function e(e){for(var r=e.getParameter(e.MAX_VARYING_VECTORS),t=15;t>r;)t-=2;return t}exports.__esModule=!0,exports.default=e;
},{}],"JAM0":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("../../core"),r=f(e),n=require("./generateBlurVertSource"),i=l(n),s=require("./generateBlurFragSource"),u=l(s),o=require("./getMaxBlurKernelSize"),a=l(o);function l(t){return t&&t.__esModule?t:{default:t}}function f(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y=function(e){function n(t,s,o,a){c(this,n),a=a||5;var l=(0,i.default)(a,!0),f=(0,u.default)(a),p=h(this,e.call(this,l,f));return p.resolution=o||r.settings.RESOLUTION,p._quality=0,p.quality=s||4,p.strength=t||8,p.firstRun=!0,p}return p(n,e),n.prototype.apply=function(t,e,r,n){if(this.firstRun){var s=t.renderer.gl,o=(0,a.default)(s);this.vertexSrc=(0,i.default)(o,!0),this.fragmentSrc=(0,u.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.width*(r.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,r,n);else{for(var l=t.getRenderTarget(!0),f=e,c=l,h=0;h<this.passes-1;h++){t.applyFilter(this,f,c,!0);var p=c;c=f,f=p}t.applyFilter(this,f,r,n),t.returnRenderTarget(l)}},t(n,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),n}(r.Filter);exports.default=y;
},{"../../core":"PQuZ","./generateBlurVertSource":"ckyi","./generateBlurFragSource":"18q/","./getMaxBlurKernelSize":"aWZ/"}],"7iGf":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../../core"),r=f(t),n=require("./generateBlurVertSource"),i=l(n),s=require("./generateBlurFragSource"),u=l(s),o=require("./getMaxBlurKernelSize"),a=l(o);function l(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=function(t){function n(e,s,o,a){h(this,n),a=a||5;var l=(0,i.default)(a,!1),f=(0,u.default)(a),p=c(this,t.call(this,l,f));return p.resolution=o||r.settings.RESOLUTION,p._quality=0,p.quality=s||4,p.strength=e||8,p.firstRun=!0,p}return p(n,t),n.prototype.apply=function(e,t,r,n){if(this.firstRun){var s=e.renderer.gl,o=(0,a.default)(s);this.vertexSrc=(0,i.default)(o,!1),this.fragmentSrc=(0,u.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/r.size.height*(r.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,n);else{for(var l=e.getRenderTarget(!0),f=t,h=l,c=0;c<this.passes-1;c++){e.applyFilter(this,f,h,!0);var p=h;h=f,f=p}e.applyFilter(this,f,r,n),e.returnRenderTarget(l)}},e(n,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),n}(r.Filter);exports.default=y;
},{"../../core":"PQuZ","./generateBlurVertSource":"ckyi","./generateBlurFragSource":"18q/","./getMaxBlurKernelSize":"aWZ/"}],"wf9Z":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("../../core"),r=a(e),n=require("./BlurXFilter"),i=o(n),l=require("./BlurYFilter"),u=o(l);function o(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function h(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var f=function(e){function n(t,l,o,a){s(this,n);var h=b(this,e.call(this));return h.blurXFilter=new i.default(t,l,o,a),h.blurYFilter=new u.default(t,l,o,a),h.padding=0,h.resolution=o||r.settings.RESOLUTION,h.quality=l||4,h.blur=t||8,h}return h(n,e),n.prototype.apply=function(t,e,r){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,r,!1),t.returnRenderTarget(n)},t(n,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(t){this.blurYFilter._blendMode=t}}]),n}(r.Filter);exports.default=f;
},{"../../core":"PQuZ","./BlurXFilter":"JAM0","./BlurYFilter":"7iGf"}],"jrs4":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,r){for(var n=0;n<r.length;n++){var o=r[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(r,n,o){return n&&t(r.prototype,n),o&&t(r,o),r}}(),r=require("../../core"),n=e(r),o=require("path");function e(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r.default=t,r}function i(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function a(t,r){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?t:r}function u(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(t,r):t.__proto__=r)}var l=function(r){function n(){i(this,n);var t=a(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return t.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],t.alpha=1,t}return u(n,r),n.prototype._loadMatrix=function(t){var r=t;arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(this._multiply(r,this.uniforms.m,t),r=this._colorMatrix(r)),this.uniforms.m=r},n.prototype._multiply=function(t,r,n){return t[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],t[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],t[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],t[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],t[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],t[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],t[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],t[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],t[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],t[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],t[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],t[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],t[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],t[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],t[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],t[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],t[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],t[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],t[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],t[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],t},n.prototype._colorMatrix=function(t){var r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r},n.prototype.brightness=function(t,r){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)},n.prototype.greyscale=function(t,r){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)},n.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},n.prototype.hue=function(t,r){t=(t||0)/180*Math.PI;var n=Math.cos(t),o=Math.sin(t),e=1/3,i=(0,Math.sqrt)(e),a=[n+(1-n)*e,e*(1-n)-i*o,e*(1-n)+i*o,0,0,e*(1-n)+i*o,n+e*(1-n),e*(1-n)-i*o,0,0,e*(1-n)-i*o,e*(1-n)+i*o,n+e*(1-n),0,0,0,0,0,1,0];this._loadMatrix(a,r)},n.prototype.contrast=function(t,r){var n=(t||0)+1,o=-.5*(n-1),e=[n,0,0,0,o,0,n,0,0,o,0,0,n,0,o,0,0,0,1,0];this._loadMatrix(e,r)},n.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments[1],n=2*t/3+1,o=-.5*(n-1),e=[n,o,o,0,0,o,n,o,0,0,o,o,n,0,0,0,0,0,1,0];this._loadMatrix(e,r)},n.prototype.desaturate=function(){this.saturate(-1)},n.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},n.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},n.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},n.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},n.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},n.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},n.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},n.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},n.prototype.colorTone=function(t,r,n,o,e){var i=((n=n||16770432)>>16&255)/255,a=(n>>8&255)/255,u=(255&n)/255,l=((o=o||3375104)>>16&255)/255,c=(o>>8&255)/255,s=(255&o)/255,p=[.3,.59,.11,0,0,i,a,u,t=t||.2,0,l,c,s,r=r||.15,0,i-l,a-c,u-s,0,0];this._loadMatrix(p,e)},n.prototype.night=function(t,r){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,r)},n.prototype.predator=function(t,r){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,r)},n.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},n.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},t(n,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),n}(n.Filter);exports.default=l,l.prototype.grayscale=l.prototype.greyscale;
},{"../../core":"PQuZ","path":"sNrv"}],"fVjG":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),t=require("../../core"),r=o(t),n=require("path");function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;i(this,r);var n=a(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return n.alpha=e,n.glShaderKey="alpha",n}return u(r,t),e(r,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),r}(r.Filter);exports.default=l;
},{"../../core":"PQuZ","path":"sNrv"}],"3PAF":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./fxaa/FXAAFilter");Object.defineProperty(exports,"FXAAFilter",{enumerable:!0,get:function(){return o(e).default}});var r=require("./noise/NoiseFilter");Object.defineProperty(exports,"NoiseFilter",{enumerable:!0,get:function(){return o(r).default}});var t=require("./displacement/DisplacementFilter");Object.defineProperty(exports,"DisplacementFilter",{enumerable:!0,get:function(){return o(t).default}});var u=require("./blur/BlurFilter");Object.defineProperty(exports,"BlurFilter",{enumerable:!0,get:function(){return o(u).default}});var l=require("./blur/BlurXFilter");Object.defineProperty(exports,"BlurXFilter",{enumerable:!0,get:function(){return o(l).default}});var i=require("./blur/BlurYFilter");Object.defineProperty(exports,"BlurYFilter",{enumerable:!0,get:function(){return o(i).default}});var n=require("./colormatrix/ColorMatrixFilter");Object.defineProperty(exports,"ColorMatrixFilter",{enumerable:!0,get:function(){return o(n).default}});var a=require("./alpha/AlphaFilter");function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"AlphaFilter",{enumerable:!0,get:function(){return o(a).default}});
},{"./fxaa/FXAAFilter":"YW7U","./noise/NoiseFilter":"2zK8","./displacement/DisplacementFilter":"LnsX","./blur/BlurFilter":"wf9Z","./blur/BlurXFilter":"JAM0","./blur/BlurYFilter":"7iGf","./colormatrix/ColorMatrixFilter":"jrs4","./alpha/AlphaFilter":"fVjG"}],"7GFU":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,i){for(var e=0;e<i.length;e++){var n=i[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(i,e,n){return e&&t(i.prototype,e),n&&t(i,n),i}}(),i=require("../core"),e=n(i);function n(t){if(t&&t.__esModule)return t;var i={};if(null!=t)for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e]);return i.default=t,i}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var s=function(){function i(){r(this,i),this.global=new e.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return i.prototype.getLocalPosition=function(t,i,e){return t.worldTransform.applyInverse(e||this.global,i)},i.prototype.copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=Number.isInteger(t.buttons)?t.buttons:t.which,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},i.prototype.reset=function(){this.isPrimary=!1},t(i,[{key:"pointerId",get:function(){return this.identifier}}]),i}();exports.default=s;
},{"../core":"PQuZ"}],"8SVg":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=function(){function n(){t(this,n),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return n.prototype.stopPropagation=function(){this.stopped=!0},n.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},n}();exports.default=n;
},{}],"2OL8":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}();function n(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(t){n(this,e),this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(t,n){this._flags=n?this._flags|t:this._flags&~t},t(e,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),e}();exports.default=e,e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4});
},{}],"J+tS":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};
},{}],"9wZm":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=require("../core"),n=d(e),i=require("./InteractionData"),o=v(i),r=require("./InteractionEvent"),s=v(r),a=require("./InteractionTrackingData"),c=v(a),h=require("eventemitter3"),p=v(h),u=require("./interactiveTarget"),l=v(u);function v(t){return t&&t.__esModule?t:{default:t}}function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function E(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}n.utils.mixins.delayMixin(n.DisplayObject.prototype,l.default);var f=1,y={target:null,data:{global:null}},D=function(e){function i(t,r){m(this,i);var a=P(this,e.call(this));return r=r||{},a.renderer=t,a.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,a.interactionFrequency=r.interactionFrequency||10,a.mouse=new o.default,a.mouse.identifier=f,a.mouse.global.set(-999999),a.activeInteractionData={},a.activeInteractionData[f]=a.mouse,a.interactionDataPool=[],a.eventData=new s.default,a.interactionDOMElement=null,a.moveWhenInside=!1,a.eventsAdded=!1,a.mouseOverRenderer=!1,a.supportsTouchEvents="ontouchstart"in window,a.supportsPointerEvents=!!window.PointerEvent,a.onPointerUp=a.onPointerUp.bind(a),a.processPointerUp=a.processPointerUp.bind(a),a.onPointerCancel=a.onPointerCancel.bind(a),a.processPointerCancel=a.processPointerCancel.bind(a),a.onPointerDown=a.onPointerDown.bind(a),a.processPointerDown=a.processPointerDown.bind(a),a.onPointerMove=a.onPointerMove.bind(a),a.processPointerMove=a.processPointerMove.bind(a),a.onPointerOut=a.onPointerOut.bind(a),a.processPointerOverOut=a.processPointerOverOut.bind(a),a.onPointerOver=a.onPointerOver.bind(a),a.cursorStyles={default:"inherit",pointer:"pointer"},a.currentCursorMode=null,a.cursor=null,a._tempPoint=new n.Point,a.resolution=1,a.setTargetElement(a.renderer.view,a.renderer.resolution),a}return E(i,e),i.prototype.hitTest=function(t,e){return y.target=null,y.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(y,e,null,!0),y.target},i.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},i.prototype.addEvents=function(){this.interactionDOMElement&&(n.ticker.shared.add(this.update,this,n.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},i.prototype.removeEvents=function(){this.interactionDOMElement&&(n.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},i.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var n=this.activeInteractionData[e];if(n.originalEvent&&"touch"!==n.pointerType){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},i.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var n=this.cursorStyles[e];if(n)switch(void 0===n?"undefined":t(n)){case"string":this.interactionDOMElement.style.cursor=n;break;case"function":n(e);break;case"object":Object.assign(this.interactionDOMElement.style,n)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},i.prototype.dispatchEvent=function(t,e,n){n.stopped||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},i.prototype.mapPositionToPoint=function(t,e,n){var i=void 0;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var o=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-i.left)*(this.interactionDOMElement.width/i.width)*o,t.y=(n-i.top)*(this.interactionDOMElement.height/i.height)*o},i.prototype.processInteractive=function(t,e,n,i,o){if(!e||!e.visible)return!1;var r=t.data.global,s=!1,a=o=e.interactive||o,c=!0;if(e.hitArea?(i&&(e.worldTransform.applyInverse(r,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?s=!0:(i=!1,c=!1)),a=!1):e._mask&&i&&(e._mask.containsPoint(r)||(i=!1,c=!1)),c&&e.interactiveChildren&&e.children)for(var h=e.children,p=h.length-1;p>=0;p--){var u=h[p],l=this.processInteractive(t,u,n,i,a);if(l){if(!u.parent)continue;a=!1,l&&(t.target&&(i=!1),s=!0)}}return o&&(i&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(r)&&(s=!0),e.interactive&&(s&&!t.target&&(t.target=e),n&&n(t,e,!!s))),s},i.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var n=e.length,i=0;i<n;i++){var o=e[i],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);if(s.data.originalEvent=t,this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",s),"touch"===o.pointerType)this.emit("touchstart",s);else if("mouse"===o.pointerType||"pen"===o.pointerType){var a=2===o.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},i.prototype.processPointerDown=function(t,e,n){var i=t.data,o=t.data.identifier;if(n)if(e.trackedPointers[o]||(e.trackedPointers[o]=new c.default(o)),this.dispatchEvent(e,"pointerdown",t),"touch"===i.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===i.pointerType||"pen"===i.pointerType){var r=2===i.button;r?e.trackedPointers[o].rightDown=!0:e.trackedPointers[o].leftDown=!0,this.dispatchEvent(e,r?"rightdown":"mousedown",t)}},i.prototype.onPointerComplete=function(t,e,n){for(var i=this.normalizeToPointerData(t),o=i.length,r=t.target!==this.interactionDOMElement?"outside":"",s=0;s<o;s++){var a=i[s],c=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,c);if(h.data.originalEvent=t,this.processInteractive(h,this.renderer._lastObjectRendered,n,e||!r),this.emit(e?"pointercancel":"pointerup"+r,h),"mouse"===a.pointerType||"pen"===a.pointerType){var p=2===a.button;this.emit(p?"rightup"+r:"mouseup"+r,h)}else"touch"===a.pointerType&&(this.emit(e?"touchcancel":"touchend"+r,h),this.releaseInteractionDataForPointerId(a.pointerId,c))}},i.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},i.prototype.processPointerCancel=function(t,e){var n=t.data,i=t.data.identifier;void 0!==e.trackedPointers[i]&&(delete e.trackedPointers[i],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},i.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},i.prototype.processPointerUp=function(t,e,n){var i=t.data,o=t.data.identifier,r=e.trackedPointers[o],s="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,h=!1;if(a){var p=2===i.button,u=c.default.FLAGS,l=p?u.RIGHT_DOWN:u.LEFT_DOWN,v=void 0!==r&&r.flags&l;n?(this.dispatchEvent(e,p?"rightup":"mouseup",t),v&&(this.dispatchEvent(e,p?"rightclick":"click",t),h=!0)):v&&this.dispatchEvent(e,p?"rightupoutside":"mouseupoutside",t),r&&(p?r.rightDown=!1:r.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),s&&this.dispatchEvent(e,"touchend",t),r&&(a&&!h||this.dispatchEvent(e,"pointertap",t),s&&(this.dispatchEvent(e,"tap",t),r.over=!1))):r&&(this.dispatchEvent(e,"pointerupoutside",t),s&&this.dispatchEvent(e,"touchendoutside",t)),r&&r.none&&delete e.trackedPointers[o]},i.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this.didMove=!0,this.cursor=null);for(var n=e.length,i=0;i<n;i++){var o=e[i],r=this.getInteractionDataForPointerId(o),s=this.configureInteractionEventForDOMEvent(this.eventData,o,r);s.data.originalEvent=t;var a="touch"!==o.pointerType||this.moveWhenInside;this.processInteractive(s,this.renderer._lastObjectRendered,this.processPointerMove,a),this.emit("pointermove",s),"touch"===o.pointerType&&this.emit("touchmove",s),"mouse"!==o.pointerType&&"pen"!==o.pointerType||this.emit("mousemove",s)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},i.prototype.processPointerMove=function(t,e,n){var i=t.data,o="touch"===i.pointerType,r="mouse"===i.pointerType||"pen"===i.pointerType;r&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),o&&this.dispatchEvent(e,"touchmove",t),r&&this.dispatchEvent(e,"mousemove",t))},i.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,n);i.data.originalEvent=e,this.processInteractive(i,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(n.identifier)}},i.prototype.processPointerOverOut=function(t,e,n){var i=t.data,o=t.data.identifier,r="mouse"===i.pointerType||"pen"===i.pointerType,s=e.trackedPointers[o];n&&!s&&(s=e.trackedPointers[o]=new c.default(o)),void 0!==s&&(n&&this.mouseOverRenderer?(s.over||(s.over=!0,this.dispatchEvent(e,"pointerover",t),r&&this.dispatchEvent(e,"mouseover",t)),r&&null===this.cursor&&(this.cursor=e.cursor)):s.over&&(s.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),r&&this.dispatchEvent(e,"mouseout",t),s.none&&delete e.trackedPointers[o]))},i.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),i=this.configureInteractionEventForDOMEvent(this.eventData,e,n);i.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",i)},i.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,n=void 0;return e===f||"mouse"===t.pointerType?n=this.mouse:this.activeInteractionData[e]?n=this.activeInteractionData[e]:((n=this.interactionDataPool.pop()||new o.default).identifier=e,this.activeInteractionData[e]=n),n.copyEvent(t),n},i.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},i.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(n.global.x=n.global.x/this.resolution,n.global.y=n.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},i.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,i=t.changedTouches.length;n<i;n++){var o=t.changedTouches[n];void 0===o.button&&(o.button=t.touches.length?1:0),void 0===o.buttons&&(o.buttons=t.touches.length?1:0),void 0===o.isPrimary&&(o.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===o.width&&(o.width=o.radiusX||1),void 0===o.height&&(o.height=o.radiusY||1),void 0===o.tiltX&&(o.tiltX=0),void 0===o.tiltY&&(o.tiltY=0),void 0===o.pointerType&&(o.pointerType="touch"),void 0===o.pointerId&&(o.pointerId=o.identifier||0),void 0===o.pressure&&(o.pressure=o.force||.5),o.twist=0,o.tangentialPressure=0,void 0===o.layerX&&(o.layerX=o.offsetX=o.clientX),void 0===o.layerY&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,e.push(o)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):(void 0===t.isPrimary&&(t.isPrimary=!0),void 0===t.width&&(t.width=1),void 0===t.height&&(t.height=1),void 0===t.tiltX&&(t.tiltX=0),void 0===t.tiltY&&(t.tiltY=0),void 0===t.pointerType&&(t.pointerType="mouse"),void 0===t.pointerId&&(t.pointerId=f),void 0===t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},i.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},i}(p.default);exports.default=D,n.WebGLRenderer.registerPlugin("interaction",D),n.CanvasRenderer.registerPlugin("interaction",D);
},{"../core":"PQuZ","./InteractionData":"7GFU","./InteractionEvent":"8SVg","./InteractionTrackingData":"2OL8","eventemitter3":"LqgX","./interactiveTarget":"J+tS"}],"DZKx":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./InteractionData");Object.defineProperty(exports,"InteractionData",{enumerable:!0,get:function(){return i(e).default}});var t=require("./InteractionManager");Object.defineProperty(exports,"InteractionManager",{enumerable:!0,get:function(){return i(t).default}});var r=require("./interactiveTarget");Object.defineProperty(exports,"interactiveTarget",{enumerable:!0,get:function(){return i(r).default}});var n=require("./InteractionTrackingData");Object.defineProperty(exports,"InteractionTrackingData",{enumerable:!0,get:function(){return i(n).default}});var a=require("./InteractionEvent");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"InteractionEvent",{enumerable:!0,get:function(){return i(a).default}});
},{"./InteractionData":"7GFU","./InteractionManager":"9wZm","./interactiveTarget":"J+tS","./InteractionTrackingData":"2OL8","./InteractionEvent":"8SVg"}],"46+2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=function(){function n(n,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}return function(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}}();function t(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function e(n,i,r){void 0===i&&(i=!1),t(this,e),this._fn=n,this._once=i,this._thisArg=r,this._next=this._prev=this._owner=null}return n(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}();function i(n,t){return n._head?(n._tail._next=t,t._prev=n._tail,n._tail=t):(n._head=t,n._tail=t),t._owner=n,t}var r=function(){function r(){t(this,r),this._head=this._tail=void 0}return n(r,[{key:"handlers",value:function(){var n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(n)return!!t;for(var e=[];t;)e.push(t),t=t._next;return e}},{key:"has",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return n._owner===this}},{key:"dispatch",value:function(){var n=this._head;if(!n)return!1;for(;n;)n._once&&this.detach(n),n._fn.apply(n._thisArg,arguments),n=n._next;return!0}},{key:"add",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new e(n,!1,t))}},{key:"once",value:function(n){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof n)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new e(n,!0,t))}},{key:"detach",value:function(n){if(!(n instanceof e))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return n._owner!==this?this:(n._prev&&(n._prev._next=n._next),n._next&&(n._next._prev=n._prev),n===this._head?(this._head=n._next,null===n._next&&(this._tail=null)):n===this._tail&&(this._tail=n._prev,this._tail._next=null),n._owner=null,this)}},{key:"detachAll",value:function(){var n=this._head;if(!n)return this;for(this._head=this._tail=null;n;)n._owner=null,n=n._next;return this}}]),r}();r.MiniSignalBinding=e,exports.default=r,module.exports=exports.default;
},{}],"YnZR":[function(require,module,exports) {
"use strict";module.exports=function(e,r){r=r||{};for(var o={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=o.parser[r.strictMode?"strict":"loose"].exec(e),s={},a=14;a--;)s[o.key[a]]=t[a]||"";return s[o.q.name]={},s[o.key[12]].replace(o.q.parser,function(e,r,t){r&&(s[o.q.name][r]=t)}),s};
},{}],"Qva2":[function(require,module,exports) {
"use strict";function n(){}function t(n,t,e,r){var u=0,s=n.length;!function a(c){c||u===s?e&&e(c):r?setTimeout(function(){t(n[u++],a)},1):t(n[u++],a)}()}function e(n){return function(){if(null===n)throw new Error("Callback was already called.");var t=n;n=null,t.apply(this,arguments)}}function r(t,r){if(null==r)r=1;else if(0===r)throw new Error("Concurrency must not be zero");var u=0,s={_tasks:[],concurrency:r,saturated:n,unsaturated:n,buffer:r/4,empty:n,drain:n,error:n,started:!1,paused:!1,push:function(n,t){a(n,!1,t)},kill:function(){u=0,s.drain=n,s.started=!1,s._tasks=[]},unshift:function(n,t){a(n,!0,t)},process:function(){for(;!s.paused&&u<s.concurrency&&s._tasks.length;){var n=s._tasks.shift();0===s._tasks.length&&s.empty(),(u+=1)===s.concurrency&&s.saturated(),t(n.data,e(c(n)))}},length:function(){return s._tasks.length},running:function(){return u},idle:function(){return s._tasks.length+u===0},pause:function(){!0!==s.paused&&(s.paused=!0)},resume:function(){if(!1!==s.paused){s.paused=!1;for(var n=1;n<=s.concurrency;n++)s.process()}}};function a(t,e,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())setTimeout(function(){return s.drain()},1);else{var u={data:t,callback:"function"==typeof r?r:n};e?s._tasks.unshift(u):s._tasks.push(u),setTimeout(function(){return s.process()},1)}}function c(n){return function(){u-=1,n.callback.apply(n,arguments),null!=arguments[0]&&s.error(arguments[0],n.data),u<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}return s}exports.__esModule=!0,exports.eachSeries=t,exports.queue=r;
},{}],"gTEI":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),e=require("parse-uri"),r=o(e),i=require("mini-signals"),s=o(i);function o(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),h=null,E=0,d=200,u=204,_=1223,l=2;function p(){}var T=function(){function e(t,r,i){if(n(this,e),"string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=p,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}return e.setExtensionLoadType=function(t,r){O(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){O(e._xhrTypeMap,t,r)},e.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},e.prototype.load=function(t){var r=this;if(!this.isLoading)if(this.isComplete)t&&setTimeout(function(){return t(r)},1);else switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:a&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(t){return!!(this._flags&t)},e.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},e.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(t,this.url[r],Array.isArray(e)?e[r]:e));else{var i=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(i)?i[0]:i))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()}else this.abort("Unsupported element: "+t)},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},e.prototype._createSource=function(t,e,r){r||(r=t+"/"+this._getExtension(e));var i=document.createElement("source");return i.src=e,i.type=r,i},e.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e.prototype._xhrOnError=function(){var t=this.xhr;this.abort(c(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e.prototype._xhrOnAbort=function(){this.abort(c(this.xhr)+" Request was aborted by the user.")},e.prototype._xdrOnTimeout=function(){this.abort(c(this.xhr)+" Request timed out.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",i=void 0===t.status?d:t.status;if(""!==t.responseType&&"text"!==t.responseType&&void 0!==t.responseType||(r=t.responseText),i===E&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=d:i===_&&(i=u),(i/100|0)===l){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(n){return void this.abort("Error trying to parse loaded json: "+n)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=e.TYPE.XML}catch(n){return void this.abort("Error trying to parse loaded xml: "+n)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,h||(h=document.createElement("a")),h.href=t;var i=!(t=(0,r.default)(h.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,s=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&s===e.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var r=t.indexOf("/");e=t.substring(r+1,t.indexOf(";",r))}else{var i=t.indexOf("?"),s=t.indexOf("#"),o=Math.min(i>-1?i:t.length,s>-1?s:t.length);e=(t=t.substring(0,o)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();function O(t,e,r){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=r)}function c(t){return t.toString().replace("object ","")}exports.default=T,T.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},T.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},T.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},T.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},T._loadTypeMap={gif:T.LOAD_TYPE.IMAGE,png:T.LOAD_TYPE.IMAGE,bmp:T.LOAD_TYPE.IMAGE,jpg:T.LOAD_TYPE.IMAGE,jpeg:T.LOAD_TYPE.IMAGE,tif:T.LOAD_TYPE.IMAGE,tiff:T.LOAD_TYPE.IMAGE,webp:T.LOAD_TYPE.IMAGE,tga:T.LOAD_TYPE.IMAGE,svg:T.LOAD_TYPE.IMAGE,"svg+xml":T.LOAD_TYPE.IMAGE,mp3:T.LOAD_TYPE.AUDIO,ogg:T.LOAD_TYPE.AUDIO,wav:T.LOAD_TYPE.AUDIO,mp4:T.LOAD_TYPE.VIDEO,webm:T.LOAD_TYPE.VIDEO},T._xhrTypeMap={xhtml:T.XHR_RESPONSE_TYPE.DOCUMENT,html:T.XHR_RESPONSE_TYPE.DOCUMENT,htm:T.XHR_RESPONSE_TYPE.DOCUMENT,xml:T.XHR_RESPONSE_TYPE.DOCUMENT,tmx:T.XHR_RESPONSE_TYPE.DOCUMENT,svg:T.XHR_RESPONSE_TYPE.DOCUMENT,tsx:T.XHR_RESPONSE_TYPE.DOCUMENT,gif:T.XHR_RESPONSE_TYPE.BLOB,png:T.XHR_RESPONSE_TYPE.BLOB,bmp:T.XHR_RESPONSE_TYPE.BLOB,jpg:T.XHR_RESPONSE_TYPE.BLOB,jpeg:T.XHR_RESPONSE_TYPE.BLOB,tif:T.XHR_RESPONSE_TYPE.BLOB,tiff:T.XHR_RESPONSE_TYPE.BLOB,webp:T.XHR_RESPONSE_TYPE.BLOB,tga:T.XHR_RESPONSE_TYPE.BLOB,json:T.XHR_RESPONSE_TYPE.JSON,text:T.XHR_RESPONSE_TYPE.TEXT,txt:T.XHR_RESPONSE_TYPE.TEXT,ttf:T.XHR_RESPONSE_TYPE.BUFFER,otf:T.XHR_RESPONSE_TYPE.BUFFER},T.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";
},{"parse-uri":"YnZR","mini-signals":"46+2"}],"XpD/":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(r,t,o){return t&&e(r.prototype,t),o&&e(r,o),r}}(),t=require("mini-signals"),o=c(t),s=require("parse-uri"),n=c(s),i=require("./async"),u=l(i),a=require("./Resource"),h=c(a);function l(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var f=100,p=/(#[\w-]+)?$/,g=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;d(this,t),this.baseUrl=r,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(r,t){return e._loadResource(r,t)},this._queue=u.queue(this._boundLoadResource,s),this._queue.pause(),this.resources={},this.onProgress=new o.default,this.onError=new o.default,this.onLoad=new o.default,this.onStart=new o.default,this.onComplete=new o.default}return t.prototype.add=function(r,t,o,s){if(Array.isArray(r)){for(var n=0;n<r.length;++n)this.add(r[n]);return this}if("object"===(void 0===r?"undefined":e(r))&&(s=t||r.callback||r.onComplete,o=r,t=r.url,r=r.name||r.key||r.url),"string"!=typeof t&&(s=o,o=t,t=r),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof o&&(s=o,o=null),this.loading&&(!o||!o.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[r])throw new Error('Resource named "'+r+'" already exists.');if(t=this._prepareUrl(t),this.resources[r]=new h.default(r,t,o),"function"==typeof s&&this.resources[r].onAfterMiddleware.once(s),this.loading){for(var i=o.parentResource,u=[],a=0;a<i.children.length;++a)i.children[a].isComplete||u.push(i.children[a]);var l=i.progressChunk*(u.length+1)/(u.length+2);i.children.push(this.resources[r]),i.progressChunk=l;for(var c=0;c<u.length;++c)u[c].progressChunk=l;this.resources[r].progressChunk=l}return this._queue.push(this.resources[r]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort()}return this.resources={},this},t.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=100/this._queue._tasks.length,t=0;t<this._queue._tasks.length;++t)this._queue._tasks[t].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},t.prototype._prepareUrl=function(e){var r=(0,n.default)(e,{strictMode:!0}),t=void 0;if(t=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var o=p.exec(t)[0];-1!==(t=t.substr(0,t.length-o.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=o}return t},t.prototype._loadResource=function(e,r){var t=this;e._dequeue=r,u.eachSeries(this._beforeMiddleware,function(r,o){r.call(t,e,function(){o(e.isComplete?{}:null)})},function(){e.isComplete?t._onLoad(e):(e._onLoadBinding=e.onComplete.once(t._onLoad,t),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=f,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),u.eachSeries(this._afterMiddleware,function(t,o){t.call(r,e,o)},function(){e.onAfterMiddleware.dispatch(e),r.progress+=e.progressChunk,r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&0===r._resourcesParsing.length&&r._onComplete()},!0)},r(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),t}();exports.default=g;
},{"mini-signals":"46+2","parse-uri":"YnZR","./async":"Qva2","./Resource":"gTEI"}],"WEwv":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.encodeBinary=r;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function r(r){for(var t="",a=0;a<r.length;){for(var n=[0,0,0],o=[0,0,0,0],c=0;c<n.length;++c)a<r.length?n[c]=255&r.charCodeAt(a++):n[c]=0;switch(o[0]=n[0]>>2,o[1]=(3&n[0])<<4|n[1]>>4,o[2]=(15&n[1])<<2|n[2]>>6,o[3]=63&n[2],a-(r.length-1)){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var h=0;h<o.length;++h)t+=e.charAt(o[h])}return t}
},{}],"GLvk":[function(require,module,exports) {
"use strict";var e=require("./Loader").default,r=require("./Resource").default,u=require("./async"),s=require("./b64");e.Resource=r,e.async=u,e.base64=s,module.exports=e,module.exports.default=e;
},{"./Loader":"XpD/","./Resource":"gTEI","./async":"Qva2","./b64":"WEwv"}],"Tmi8":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.parse=s,exports.default=function(){return function(e,r){if(e.data&&e.type===a.Resource.TYPE.XML)if(0!==e.data.getElementsByTagName("page").length&&0!==e.data.getElementsByTagName("info").length&&null!==e.data.getElementsByTagName("info")[0].getAttribute("face")){var i=e.isDataUrl?"":t.dirname(e.url);e.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/")),(i=i.replace(this.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/");for(var l=e.data.getElementsByTagName("page"),n={},o=function(t){n[t.metadata.pageFile]=t.texture,Object.keys(n).length===l.length&&(s(e,n),r())},u=0;u<l.length;++u){var g=l[u].getAttribute("file"),d=i+g,c=!1;for(var f in this.resources){var p=this.resources[f];if(p.url===d){p.metadata.pageFile=g,p.texture?o(p):p.onAfterMiddleware.add(o),c=!0;break}}if(!c){var h={crossOrigin:e.crossOrigin,loadType:a.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:g},e.metadata.imageMetadata),parentResource:e};this.add(d,h,o)}}}else r();else r()}};var e=require("path"),t=i(e),a=require("resource-loader"),r=require("../extras");function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function s(e,t){e.bitmapFont=r.BitmapText.registerFont(e.data,t)}
},{"path":"sNrv","resource-loader":"GLvk","../extras":"V9xq"}],"yGrz":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=function(){return function(r,t){var s=r.name+"_image";if(r.data&&r.type===e.Resource.TYPE.JSON&&r.data.frames&&!this.resources[s]){var i={crossOrigin:r.crossOrigin,metadata:r.metadata.imageMetadata,parentResource:r},o=u(r,this.baseUrl);this.add(s,o,i,function(e){if(e.error)t(e.error);else{var s=new a.Spritesheet(e.texture.baseTexture,r.data,r.url);s.parse(function(){r.spritesheet=s,r.textures=s.textures,t()})}})}else t()}},exports.getResourcePath=u;var e=require("resource-loader"),r=require("url"),t=s(r),a=require("../core");function s(e){return e&&e.__esModule?e:{default:e}}function u(e,r){return e.isDataUrl?e.data.meta.image:t.default.resolve(e.url.replace(r,""),e.data.meta.image)}
},{"resource-loader":"GLvk","url":"j37I","../core":"PQuZ"}],"SuqZ":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.default=function(){return function(r,u){r.data&&r.type===e.Resource.TYPE.IMAGE&&(r.texture=t.default.fromLoader(r.data,r.url,r.name)),u()}};var e=require("resource-loader"),r=require("../core/textures/Texture"),t=u(r);function u(e){return e&&e.__esModule?e:{default:e}}
},{"resource-loader":"GLvk","../core/textures/Texture":"QMiZ"}],"n1mC":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};exports.blobMiddlewareFactory=i;var t=require("../../Resource"),o=r(t),a=require("../../b64"),n=r(a);function r(e){return e&&e.__esModule?e:{default:e}}var d=window.URL||window.webkitURL;function i(){return function(t,a){if(t.data){if(t.xhr&&t.xhrType===o.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var r=(u=d.createObjectURL(t.data),t.blob=t.data,t.data=new Image,t.data.src=u,t.type=o.default.TYPE.IMAGE,t.data.onload=function(){d.revokeObjectURL(u),t.data.onload=null,a()},{v:void 0});if("object"===(void 0===r?"undefined":e(r)))return r.v}}else{var i=t.xhr.getResponseHeader("content-type");if(i&&0===i.indexOf("image"))return t.data=new Image,t.data.src="data:"+i+";base64,"+n.default.encodeBinary(t.xhr.responseText),t.type=o.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,a()})}var u;a()}else a()}}
},{"../../Resource":"gTEI","../../b64":"WEwv"}],"JsmZ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("resource-loader"),r=f(e),t=require("resource-loader/lib/middlewares/parsing/blob"),o=require("eventemitter3"),n=f(o),i=require("./textureParser"),a=f(i),u=require("./spritesheetParser"),s=f(u),l=require("./bitmapFontParser"),d=f(l);function f(e){return e&&e.__esModule?e:{default:e}}function c(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function p(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function y(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var b=function(e){function r(t,o){c(this,r);var i=p(this,e.call(this,t,o));n.default.call(i);for(var a=0;a<r._pixiMiddleware.length;++a)i.use(r._pixiMiddleware[a]());return i.onStart.add(function(e){return i.emit("start",e)}),i.onProgress.add(function(e,r){return i.emit("progress",e,r)}),i.onError.add(function(e,r,t){return i.emit("error",e,r,t)}),i.onLoad.add(function(e,r){return i.emit("load",e,r)}),i.onComplete.add(function(e,r){return i.emit("complete",e,r)}),i}return y(r,e),r.addPixiMiddleware=function(e){r._pixiMiddleware.push(e)},r.prototype.destroy=function(){this.removeAllListeners(),this.reset()},r}(r.default);for(var h in exports.default=b,n.default.prototype)b.prototype[h]=n.default.prototype[h];b._pixiMiddleware=[t.blobMiddlewareFactory,a.default,s.default,d.default];var w=r.default.Resource;w.setExtensionXhrType("fnt",w.XHR_RESPONSE_TYPE.DOCUMENT);
},{"resource-loader":"GLvk","resource-loader/lib/middlewares/parsing/blob":"n1mC","eventemitter3":"LqgX","./textureParser":"SuqZ","./spritesheetParser":"yGrz","./bitmapFontParser":"Tmi8"}],"MbVk":[function(require,module,exports) {
"use strict";exports.__esModule=!0,exports.shared=exports.Resource=exports.textureParser=exports.getResourcePath=exports.spritesheetParser=exports.parseBitmapFontData=exports.bitmapFontParser=exports.Loader=void 0;var e=require("./bitmapFontParser");Object.defineProperty(exports,"bitmapFontParser",{enumerable:!0,get:function(){return i(e).default}}),Object.defineProperty(exports,"parseBitmapFontData",{enumerable:!0,get:function(){return e.parse}});var r=require("./spritesheetParser");Object.defineProperty(exports,"spritesheetParser",{enumerable:!0,get:function(){return i(r).default}}),Object.defineProperty(exports,"getResourcePath",{enumerable:!0,get:function(){return r.getResourcePath}});var t=require("./textureParser");Object.defineProperty(exports,"textureParser",{enumerable:!0,get:function(){return i(t).default}});var o=require("resource-loader");Object.defineProperty(exports,"Resource",{enumerable:!0,get:function(){return o.Resource}});var a=require("../core/Application"),s=i(a),n=require("./loader"),u=i(n);function i(e){return e&&e.__esModule?e:{default:e}}exports.Loader=u.default;var p=new u.default;p.destroy=function(){},exports.shared=p;var d=s.default.prototype;d._loader=null,Object.defineProperty(d,"loader",{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?p:new u.default}return this._loader}}),d._parentDestroy=d.destroy,d.destroy=function(e,r){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,r)};
},{"./bitmapFontParser":"Tmi8","./spritesheetParser":"yGrz","./textureParser":"SuqZ","resource-loader":"GLvk","../core/Application":"uERE","./loader":"JsmZ"}],"/gBf":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),e=require("../core"),r=s(e),n=require("../core/textures/Texture"),i=o(n);function o(t){return t&&t.__esModule?t:{default:t}}function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=new r.Point,c=new r.Polygon,h=function(e){function n(t,o,s,f,l){u(this,n);var c=a(this,e.call(this));return c._texture=t||i.default.EMPTY,c.uvs=s||new Float32Array([0,0,1,0,1,1,0,1]),c.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),c.indices=f||new Uint16Array([0,1,3,2]),c.dirty=0,c.indexDirty=0,c.vertexDirty=0,c.autoUpdate=!0,c.blendMode=r.BLEND_MODES.NORMAL,c.canvasPadding=r.settings.MESH_CANVAS_PADDING,c.drawMode=l||n.DRAW_MODES.TRIANGLE_MESH,c.shader=null,c.tintRgb=new Float32Array([1,1,1]),c._glDatas={},c._uvTransform=new r.TextureMatrix(c._texture),c.uploadUvTransform=!1,c.pluginName="mesh",c}return f(n,e),n.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},n.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},n.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},n.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},n.prototype.refresh=function(t){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(t)&&this._refresh()},n.prototype._refresh=function(){},n.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},n.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,l);for(var e=this.vertices,r=c.points,i=this.indices,o=this.indices.length,s=this.drawMode===n.DRAW_MODES.TRIANGLES?3:1,u=0;u+2<o;u+=s){var a=2*i[u],f=2*i[u+1],h=2*i[u+2];if(r[0]=e[a],r[1]=e[a+1],r[2]=e[f],r[3]=e[f+1],r[4]=e[h],r[5]=e[h+1],c.contains(l.x,l.y))return!0}return!1},n.prototype.destroy=function(t){for(var r in this._glDatas){var n=this._glDatas[r];n.destroy?n.destroy():(n.vertexBuffer&&(n.vertexBuffer.destroy(),n.vertexBuffer=null),n.indexBuffer&&(n.indexBuffer.destroy(),n.indexBuffer=null),n.uvBuffer&&(n.uvBuffer.destroy(),n.uvBuffer=null),n.vao&&(n.vao.destroy(),n.vao=null))}this._glDatas=null,e.prototype.destroy.call(this,t)},t(n,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return r.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=r.utils.hex2rgb(t,this.tintRgb)}}]),n}(r.Container);exports.default=h,h.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1};
},{"../core":"PQuZ","../core/textures/Texture":"QMiZ"}],"vkr/":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),r=d(e),t=require("pixi-gl-core"),n=u(t),o=require("../Mesh"),i=u(o),a=require("path");function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function f(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function s(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function l(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var c=r.Matrix.IDENTITY,v=function(e){function t(r){f(this,t);var n=s(this,e.call(this,r));return n.shader=null,n}return l(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new r.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},t.prototype.render=function(e){var t=this.renderer,o=t.gl,a=e._texture;if(a.valid){var u=e._glDatas[t.CONTEXT_UID];u||(t.bindVao(null),(u={shader:this.shader,vertexBuffer:n.default.GLBuffer.createVertexBuffer(o,e.vertices,o.STREAM_DRAW),uvBuffer:n.default.GLBuffer.createVertexBuffer(o,e.uvs,o.STREAM_DRAW),indexBuffer:n.default.GLBuffer.createIndexBuffer(o,e.indices,o.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty}).vao=new n.default.VertexArrayObject(o).addIndex(u.indexBuffer).addAttribute(u.vertexBuffer,u.shader.attributes.aVertexPosition,o.FLOAT,!1,8,0).addAttribute(u.uvBuffer,u.shader.attributes.aTextureCoord,o.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=u),t.bindVao(u.vao),e.dirty!==u.dirty&&(u.dirty=e.dirty,u.uvBuffer.upload(e.uvs)),e.indexDirty!==u.indexDirty&&(u.indexDirty=e.indexDirty,u.indexBuffer.upload(e.indices)),e.vertexDirty!==u.vertexDirty&&(u.vertexDirty=e.vertexDirty,u.vertexBuffer.upload(e.vertices)),t.bindShader(u.shader),u.shader.uniforms.uSampler=t.bindTexture(a),t.state.setBlendMode(r.utils.correctBlendMode(e.blendMode,a.baseTexture.premultipliedAlpha)),u.shader.uniforms.uTransform&&(e.uploadUvTransform?u.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):u.shader.uniforms.uTransform=c.toArray(!0)),u.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),u.shader.uniforms.uColor=r.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,u.shader.uniforms.uColor,a.baseTexture.premultipliedAlpha);var d=e.drawMode===i.default.DRAW_MODES.TRIANGLE_MESH?o.TRIANGLE_STRIP:o.TRIANGLES;u.vao.draw(d,e.indices.length,0)}},t}(r.ObjectRenderer);exports.default=v,r.WebGLRenderer.registerPlugin("mesh",v);
},{"../../core":"PQuZ","pixi-gl-core":"kSum","../Mesh":"/gBf","path":"sNrv"}],"4IhP":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),r=i(e),t=require("../Mesh"),n=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function a(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}var s=function(){function e(r){a(this,e),this.renderer=r}return e.prototype.render=function(e){var r=this.renderer,t=r.context,o=e.worldTransform,i=r.resolution;r.roundPixels?t.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*i|0,o.ty*i|0):t.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*i,o.ty*i),r.context.globalAlpha=e.worldAlpha,r.setBlendMode(e.blendMode),e.drawMode===n.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var r=e.vertices.length/2,t=0;t<r-2;t++){var n=2*t;this._renderDrawTriangle(e,n,n+2,n+4)}},e.prototype._renderTriangles=function(e){for(var r=e.indices,t=r.length,n=0;n<t;n+=3){var o=2*r[n],i=2*r[n+1],a=2*r[n+2];this._renderDrawTriangle(e,o,i,a)}},e.prototype._renderDrawTriangle=function(e,r,t,n){var o=this.renderer.context,i=e.uvs,a=e.vertices,s=e._texture;if(s.valid){var d=s.baseTexture,l=d.source,h=d.width,u=d.height,c=void 0,f=void 0,v=void 0,g=void 0,p=void 0,T=void 0;if(e.uploadUvTransform){var w=e._uvTransform.mapCoord;c=(i[r]*w.a+i[r+1]*w.c+w.tx)*d.width,f=(i[t]*w.a+i[t+1]*w.c+w.tx)*d.width,v=(i[n]*w.a+i[n+1]*w.c+w.tx)*d.width,g=(i[r]*w.b+i[r+1]*w.d+w.ty)*d.height,p=(i[t]*w.b+i[t+1]*w.d+w.ty)*d.height,T=(i[n]*w.b+i[n+1]*w.d+w.ty)*d.height}else c=i[r]*d.width,f=i[t]*d.width,v=i[n]*d.width,g=i[r+1]*d.height,p=i[t+1]*d.height,T=i[n+1]*d.height;var M=a[r],_=a[t],y=a[n],x=a[r+1],b=a[t+1],m=a[n+1],P=e.canvasPadding/this.renderer.resolution;if(P>0){var q=P/Math.abs(e.worldTransform.a),D=P/Math.abs(e.worldTransform.d),A=(M+_+y)/3,E=(x+b+m)/3,C=M-A,F=x-E,O=Math.sqrt(C*C+F*F);M=A+C/O*(O+q),x=E+F/O*(O+D),F=b-E,_=A+(C=_-A)/(O=Math.sqrt(C*C+F*F))*(O+q),b=E+F/O*(O+D),F=m-E,y=A+(C=y-A)/(O=Math.sqrt(C*C+F*F))*(O+q),m=E+F/O*(O+D)}o.save(),o.beginPath(),o.moveTo(M,x),o.lineTo(_,b),o.lineTo(y,m),o.closePath(),o.clip();var R=c*p+g*v+f*T-p*v-g*f-c*T,S=M*p+g*y+_*T-p*y-g*_-M*T,B=c*_+M*v+f*y-_*v-M*f-c*y,I=c*p*y+g*_*v+M*f*T-M*p*v-g*f*y-c*_*T,j=x*p+g*m+b*T-p*m-g*b-x*T,G=c*b+x*v+f*m-b*v-x*f-c*m,H=c*p*m+g*b*v+x*f*T-x*p*v-g*f*m-c*b*T;o.transform(S/R,j/R,B/R,G/R,I/R,H/R),o.drawImage(l,0,0,h*d.resolution,u*d.resolution,0,0,h,u),o.restore(),this.renderer.invalidateBlendMode()}},e.prototype.renderMeshFlat=function(e){var r=this.renderer.context,t=e.vertices,n=t.length/2;r.beginPath();for(var o=1;o<n-2;++o){var i=2*o,a=t[i],s=t[i+1],d=t[i+2],l=t[i+3],h=t[i+4],u=t[i+5];r.moveTo(a,s),r.lineTo(d,l),r.lineTo(h,u)}r.fillStyle="#FF0000",r.fill(),r.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();exports.default=s,r.CanvasRenderer.registerPlugin("mesh",s);
},{"../../core":"PQuZ","../Mesh":"/gBf"}],"060n":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./Mesh"),e=r(t);function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=function(t){function r(o,n,a){i(this,r);var c=s(this,t.call(this,o));return c._ready=!0,c.verticesX=n||10,c.verticesY=a||10,c.drawMode=e.default.DRAW_MODES.TRIANGLES,c.refresh(),c}return o(r,t),r.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,r=[],i=[],s=[],o=this.verticesX-1,n=this.verticesY-1,a=t.width/o,c=t.height/n,u=0;u<e;u++){var h=u%this.verticesX,f=u/this.verticesX|0;r.push(h*a,f*c),i.push(h/o,f/n)}for(var l=o*n,p=0;p<l;p++){var v=p%o,y=p/o|0,d=y*this.verticesX+v,_=y*this.verticesX+v+1,w=(y+1)*this.verticesX+v,b=(y+1)*this.verticesX+v+1;s.push(d,_,w),s.push(_,b,w)}this.vertices=new Float32Array(r),this.uvs=new Float32Array(i),this.colors=new Float32Array([]),this.indices=new Uint16Array(s),this.dirty++,this.indexDirty++,this.multiplyUvs()},r.prototype._onTextureUpdate=function(){e.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},r}(e.default);exports.default=n;
},{"./Mesh":"/gBf"}],"giDZ":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var h=e[i];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}return function(e,i,h){return i&&t(e.prototype,i),h&&t(e,h),e}}(),e=require("./Plane"),i=h(e);function h(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var n=10,u=function(e){function i(t,h,s,u,a){r(this,i);var g=o(this,e.call(this,t,4,4));return g._origWidth=t.orig.width,g._origHeight=t.orig.height,g._width=g._origWidth,g._height=g._origHeight,g._leftWidth=void 0!==h?h:n,g._rightWidth=void 0!==u?u:n,g._topHeight=void 0!==s?s:n,g._bottomHeight=void 0!==a?a:n,g.refresh(!0),g}return s(i,e),i.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._topHeight+this._bottomHeight,i=this._height>e?1:this._height/e;t[9]=t[11]=t[13]=t[15]=this._topHeight*i,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*i,t[25]=t[27]=t[29]=t[31]=this._height},i.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._leftWidth+this._rightWidth,i=this._width>e?1:this._width/e;t[2]=t[10]=t[18]=t[26]=this._leftWidth*i,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*i,t[6]=t[14]=t[22]=t[30]=this._width},i.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode);var i=this.worldTransform,h=t.resolution;t.roundPixels?e.setTransform(i.a*h,i.b*h,i.c*h,i.d*h,i.tx*h|0,i.ty*h|0):e.setTransform(i.a*h,i.b*h,i.c*h,i.d*h,i.tx*h,i.ty*h);var r=this._texture.baseTexture,o=r.source,s=r.width*r.resolution,n=r.height*r.resolution;this.drawSegment(e,o,s,n,0,1,10,11),this.drawSegment(e,o,s,n,2,3,12,13),this.drawSegment(e,o,s,n,4,5,14,15),this.drawSegment(e,o,s,n,8,9,18,19),this.drawSegment(e,o,s,n,10,11,20,21),this.drawSegment(e,o,s,n,12,13,22,23),this.drawSegment(e,o,s,n,16,17,26,27),this.drawSegment(e,o,s,n,18,19,28,29),this.drawSegment(e,o,s,n,20,21,30,31)},i.prototype.drawSegment=function(t,e,i,h,r,o,s,n){var u=this.uvs,a=this.vertices,g=(u[s]-u[r])*i,d=(u[n]-u[o])*h,f=a[s]-a[r],_=a[n]-a[o];g<1&&(g=1),d<1&&(d=1),f<1&&(f=1),_<1&&(_=1),t.drawImage(e,u[r]*i,u[o]*h,g,d,a[r],a[o],f,_)},i.prototype._refresh=function(){e.prototype._refresh.call(this);var t=this.uvs,i=this._texture;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var h=1/this._origWidth,r=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=h*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-h*this._rightWidth,t[9]=t[11]=t[13]=t[15]=r*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},t(i,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),i}(i.default);exports.default=u;
},{"./Plane":"060n"}],"2pcb":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("./Mesh"),e=r(t);function r(t){return t&&t.__esModule?t:{default:t}}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=function(t){function e(r,o){n(this,e);var s=i(this,t.call(this,r));return s.points=o,s.vertices=new Float32Array(4*o.length),s.uvs=new Float32Array(4*o.length),s.colors=new Float32Array(2*o.length),s.indices=new Uint16Array(2*o.length),s.autoUpdate=!0,s.refresh(),s}return o(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,r=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,r[0]=0,r[1]=1;for(var i=t.length,o=1;o<i;o++){var s=4*o,a=o/(i-1);e[s]=a,e[s+1]=0,e[s+2]=a,e[s+3]=1,n[s=2*o]=1,n[s+1]=1,r[s=2*o]=s,r[s+1]=s+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],r=void 0,n=0,i=0,o=this.vertices,s=t.length,a=0;a<s;a++){var h=t[a],l=4*a;i=-((r=a<t.length-1?t[a+1]:h).x-e.x),n=r.y-e.y;var u=10*(1-a/(s-1));u>1&&(u=1);var c=Math.sqrt(n*n+i*i),f=this._texture.height/2;n/=c,i/=c,n*=f,i*=f,o[l]=h.x+n,o[l+1]=h.y+i,o[l+2]=h.x-n,o[l+3]=h.y-i,e=h}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(e.default);exports.default=s;
},{"./Mesh":"/gBf"}],"Ay+Z":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./Mesh");Object.defineProperty(exports,"Mesh",{enumerable:!0,get:function(){return i(e).default}});var r=require("./webgl/MeshRenderer");Object.defineProperty(exports,"MeshRenderer",{enumerable:!0,get:function(){return i(r).default}});var t=require("./canvas/CanvasMeshRenderer");Object.defineProperty(exports,"CanvasMeshRenderer",{enumerable:!0,get:function(){return i(t).default}});var n=require("./Plane");Object.defineProperty(exports,"Plane",{enumerable:!0,get:function(){return i(n).default}});var u=require("./NineSlicePlane");Object.defineProperty(exports,"NineSlicePlane",{enumerable:!0,get:function(){return i(u).default}});var a=require("./Rope");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"Rope",{enumerable:!0,get:function(){return i(a).default}});
},{"./Mesh":"/gBf","./webgl/MeshRenderer":"vkr/","./canvas/CanvasMeshRenderer":"4IhP","./Plane":"060n","./NineSlicePlane":"giDZ","./Rope":"2pcb"}],"o3QA":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=function(){function e(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,r,i){return r&&e(t.prototype,r),i&&e(t,i),t}}(),t=require("../core"),r=o(t),i=require("../core/utils");function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=function(t){function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,i=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384,l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n(this,o);var h=s(this,t.call(this));return a>16384&&(a=16384),a>e&&(a=e),h._properties=[!1,!0,!1,!1,!1],h._maxSize=e,h._batchSize=a,h._glBuffers={},h._bufferUpdateIDs=[],h._updateID=0,h.interactiveChildren=!1,h.blendMode=r.BLEND_MODES.NORMAL,h.autoResize=l,h.roundPixels=!0,h.baseTexture=null,h.setProperties(i),h._tint=0,h.tintRgb=new Float32Array(4),h.tint=16777215,h}return a(o,t),o.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},o.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},o.prototype.renderWebGL=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},o.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},o.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,r=this.worldTransform,i=!0,o=0,n=0,s=0,a=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var u=h._texture.frame;if(t.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)==0)i&&(t.setTransform(r.a,r.b,r.c,r.d,r.tx*e.resolution,r.ty*e.resolution),i=!1),o=h.anchor.x*(-u.width*h.scale.x)+h.position.x+.5,n=h.anchor.y*(-u.height*h.scale.y)+h.position.y+.5,s=u.width*h.scale.x,a=u.height*h.scale.y;else{i||(i=!0),h.displayObjectUpdateTransform();var p=h.worldTransform;e.roundPixels?t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution|0,p.ty*e.resolution|0):t.setTransform(p.a,p.b,p.c,p.d,p.tx*e.resolution,p.ty*e.resolution),o=h.anchor.x*-u.width+.5,n=h.anchor.y*-u.height+.5,s=u.width,a=u.height}var f=h._texture.baseTexture.resolution;t.drawImage(h._texture.baseTexture.source,u.x*f,u.y*f,u.width*f,u.height*f,o*e.resolution,n*e.resolution,s*e.resolution,a*e.resolution)}}}},o.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e(o,[{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,(0,i.hex2rgb)(e,this.tintRgb)}}]),o}(r.Container);exports.default=l;
},{"../core":"PQuZ","../core/utils":"7Y0b"}],"4ey4":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var o=require("../../core/Shader"),t=e(o);function e(o){return o&&o.__esModule?o:{default:o}}function r(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function i(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}function n(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}var a=function(o){function t(e){return r(this,t),i(this,o.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return n(t,o),t}(t.default);exports.default=a;
},{"../../core/Shader":"HzbE"}],"2lVp":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("pixi-gl-core"),i=a(t),e=require("../../core/utils/createIndicesForQuads"),s=a(e);function a(t){return t&&t.__esModule?t:{default:t}}function r(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(i,e,s,a){r(this,t),this.gl=i,this.size=a,this.dynamicProperties=[],this.staticProperties=[];for(var n=0;n<e.length;++n){var f=e[n];f={attribute:f.attribute,size:f.size,uploadFunction:f.uploadFunction,unsignedByte:f.unsignedByte,offset:f.offset},s[n]?this.dynamicProperties.push(f):this.staticProperties.push(f)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,s.default)(this.size),this.indexBuffer=i.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var a=0;a<this.dynamicProperties.length;++a){var r=this.dynamicProperties[a];r.offset=e,e+=r.size,this.dynamicStride+=r.size}var n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=i.default.GLBuffer.createVertexBuffer(t,n,t.STREAM_DRAW);var f=0;this.staticStride=0;for(var u=0;u<this.staticProperties.length;++u){var c=this.staticProperties[u];c.offset=f,f+=c.size,this.staticStride+=c.size}var d=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(d),this.staticDataUint32=new Uint32Array(d),this.staticBuffer=i.default.GLBuffer.createVertexBuffer(t,d,t.STATIC_DRAW),this.vao=new i.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var h=0;h<this.dynamicProperties.length;++h){var o=this.dynamicProperties[h];o.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,o.attribute,t.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*o.offset):this.vao.addAttribute(this.dynamicBuffer,o.attribute,t.FLOAT,!1,4*this.dynamicStride,4*o.offset)}for(var l=0;l<this.staticProperties.length;++l){var y=this.staticProperties[l];y.unsignedByte?this.vao.addAttribute(this.staticBuffer,y.attribute,t.UNSIGNED_BYTE,!0,4*this.staticStride,4*y.offset):this.vao.addAttribute(this.staticBuffer,y.attribute,t.FLOAT,!1,4*this.staticStride,4*y.offset)}},t.prototype.uploadDynamic=function(t,i,e){for(var s=0;s<this.dynamicProperties.length;s++){var a=this.dynamicProperties[s];a.uploadFunction(t,i,e,a.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,i,e){for(var s=0;s<this.staticProperties.length;s++){var a=this.staticProperties[s];a.uploadFunction(t,i,e,a.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},t}();exports.default=n;
},{"pixi-gl-core":"kSum","../../core/utils/createIndicesForQuads":"1tno"}],"iHOh":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),t=u(e),r=require("./ParticleShader"),i=s(r),o=require("./ParticleBuffer"),n=s(o),a=require("../../core/utils");function s(e){return e&&e.__esModule?e:{default:e}}function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var d=function(e){function r(i){p(this,r);var o=l(this,e.call(this,i));return o.shader=null,o.indexBuffer=null,o.properties=null,o.tempMatrix=new t.Matrix,o.CONTEXT_UID=0,o}return h(r,e),r.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new i.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},r.prototype.start=function(){this.renderer.bindShader(this.shader)},r.prototype.render=function(e){var r=e.children,i=e._maxSize,o=e._batchSize,n=this.renderer,a=r.length;if(0!==a){a>i&&(a=i);var s=e._glBuffers[n.CONTEXT_UID];s||(s=e._glBuffers[n.CONTEXT_UID]=this.generateBuffers(e));var u=r[0]._texture.baseTexture;this.renderer.setBlendMode(t.utils.correctBlendMode(e.blendMode,u.premultipliedAlpha));var p=n.gl,l=e.worldTransform.copy(this.tempMatrix);l.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=l.toArray(!0),this.shader.uniforms.uColor=t.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,u.premultipliedAlpha),this.shader.uniforms.uSampler=n.bindTexture(u);for(var h=!1,d=0,f=0;d<a;d+=o,f+=1){var c=a-d;if(c>o&&(c=o),f>=s.length){if(!e.autoResize)break;s.push(this._generateOneMoreBuffer(e))}var y=s[f];y.uploadDynamic(r,d,c);var _=e._bufferUpdateIDs[f]||0;(h=h||y._updateID<_)&&(y._updateID=e._updateID,y.uploadStatic(r,d,c)),n.bindVao(y.vao),y.vao.draw(p.TRIANGLES,6*c)}}},r.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,r=[],i=e._maxSize,o=e._batchSize,a=e._properties,s=0;s<i;s+=o)r.push(new n.default(t,this.properties,a,o));return r},r.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,r=e._batchSize,i=e._properties;return new n.default(t,this.properties,i,r)},r.prototype.uploadVertices=function(e,t,r,i,o,n){for(var a=0,s=0,u=0,p=0,l=0;l<r;++l){var h=e[t+l],d=h._texture,f=h.scale.x,c=h.scale.y,y=d.trim,_=d.orig;y?(a=(s=y.x-h.anchor.x*_.width)+y.width,u=(p=y.y-h.anchor.y*_.height)+y.height):(a=_.width*(1-h.anchor.x),s=_.width*-h.anchor.x,u=_.height*(1-h.anchor.y),p=_.height*-h.anchor.y),i[n]=s*f,i[n+1]=p*c,i[n+o]=a*f,i[n+o+1]=p*c,i[n+2*o]=a*f,i[n+2*o+1]=u*c,i[n+3*o]=s*f,i[n+3*o+1]=u*c,n+=4*o}},r.prototype.uploadPosition=function(e,t,r,i,o,n){for(var a=0;a<r;a++){var s=e[t+a].position;i[n]=s.x,i[n+1]=s.y,i[n+o]=s.x,i[n+o+1]=s.y,i[n+2*o]=s.x,i[n+2*o+1]=s.y,i[n+3*o]=s.x,i[n+3*o+1]=s.y,n+=4*o}},r.prototype.uploadRotation=function(e,t,r,i,o,n){for(var a=0;a<r;a++){var s=e[t+a].rotation;i[n]=s,i[n+o]=s,i[n+2*o]=s,i[n+3*o]=s,n+=4*o}},r.prototype.uploadUvs=function(e,t,r,i,o,n){for(var a=0;a<r;++a){var s=e[t+a]._texture._uvs;s?(i[n]=s.x0,i[n+1]=s.y0,i[n+o]=s.x1,i[n+o+1]=s.y1,i[n+2*o]=s.x2,i[n+2*o+1]=s.y2,i[n+3*o]=s.x3,i[n+3*o+1]=s.y3,n+=4*o):(i[n]=0,i[n+1]=0,i[n+o]=0,i[n+o+1]=0,i[n+2*o]=0,i[n+2*o+1]=0,i[n+3*o]=0,i[n+3*o+1]=0,n+=4*o)}},r.prototype.uploadTint=function(e,t,r,i,o,n){for(var s=0;s<r;++s){var u=e[t+s],p=u._texture.baseTexture.premultipliedAlpha,l=u.alpha,h=l<1&&p?(0,a.premultiplyTint)(u._tintRGB,l):u._tintRGB+(255*l<<24);i[n]=h,i[n+o]=h,i[n+2*o]=h,i[n+3*o]=h,n+=4*o}},r.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},r}(t.ObjectRenderer);exports.default=d,t.WebGLRenderer.registerPlugin("particle",d);
},{"../../core":"PQuZ","./ParticleShader":"4ey4","./ParticleBuffer":"2lVp","../../core/utils":"7Y0b"}],"9PHO":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./ParticleContainer");Object.defineProperty(exports,"ParticleContainer",{enumerable:!0,get:function(){return t(e).default}});var r=require("./webgl/ParticleRenderer");function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"ParticleRenderer",{enumerable:!0,get:function(){return t(r).default}});
},{"./ParticleContainer":"o3QA","./webgl/ParticleRenderer":"iHOh"}],"zQyr":[function(require,module,exports) {
"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var e=function(){function e(n){t(this,e),this.maxItemsPerFrame=n,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();exports.default=e;
},{}],"m4nX":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var t=require("../core"),e=n(t),i=require("./limiters/CountLimiter"),r=s(i);function s(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var u=e.ticker.shared;e.settings.UPLOADS_PER_FRAME=4;var h=function(){function t(i){var s=this;o(this,t),this.limiter=new r.default(e.settings.UPLOADS_PER_FRAME),this.renderer=i,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){s.queue&&s.prepareItems()},this.registerFindHook(p),this.registerFindHook(k),this.registerFindHook(l),this.registerFindHook(a),this.registerFindHook(d),this.registerUploadHook(f),this.registerUploadHook(c)}return t.prototype.upload=function(t,i){"function"==typeof t&&(i=t,t=null),t&&this.add(t),this.queue.length?(i&&this.completes.push(i),this.ticking||(this.ticking=!0,u.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY))):i&&i()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],i=!1;if(t&&!t._destroyed)for(var r=0,s=this.uploadHooks.length;r<s;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),i=!0;break}i||this.queue.shift()}if(this.queue.length)u.addOnce(this.tick,this,e.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);this.completes.length=0;for(var o=0,h=n.length;o<h;o++)n[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var i=0,r=this.addHooks.length;i<r&&!this.addHooks[i](t,this.queue);i++);if(t instanceof e.Container)for(var s=t.children.length-1;s>=0;s--)this.add(t.children[s]);return this},t.prototype.destroy=function(){this.ticking&&u.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function l(t,i){var r=!1;if(t&&t._textures&&t._textures.length)for(var s=0;s<t._textures.length;s++)if(t._textures[s]instanceof e.Texture){var n=t._textures[s].baseTexture;-1===i.indexOf(n)&&(i.push(n),r=!0)}return r}function a(t,i){return t instanceof e.BaseTexture&&(-1===i.indexOf(t)&&i.push(t),!0)}function d(t,i){if(t._texture&&t._texture instanceof e.Texture){var r=t._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function f(t,i){return i instanceof e.Text&&(i.updateText(!0),!0)}function c(t,i){if(i instanceof e.TextStyle){var r=i.toFontString();return e.TextMetrics.measureFont(r),!0}return!1}function p(t,i){if(t instanceof e.Text){-1===i.indexOf(t.style)&&i.push(t.style),-1===i.indexOf(t)&&i.push(t);var r=t._texture.baseTexture;return-1===i.indexOf(r)&&i.push(r),!0}return!1}function k(t,i){return t instanceof e.TextStyle&&(-1===i.indexOf(t)&&i.push(t),!0)}exports.default=h;
},{"../core":"PQuZ","./limiters/CountLimiter":"zQyr"}],"Fupz":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),r=i(e),t=require("../BasePrepare"),n=o(t);function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function u(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function a(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?e:r}function s(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}var c=function(e){function r(t){u(this,r);var n=a(this,e.call(this,t));return n.uploadHookHelper=n.renderer,n.registerFindHook(l),n.registerUploadHook(p),n.registerUploadHook(f),n}return s(r,e),r}(n.default);function p(e,t){return t instanceof r.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function f(e,t){return t instanceof r.Graphics&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function l(e,t){return e instanceof r.Graphics&&(t.push(e),!0)}exports.default=c,r.WebGLRenderer.registerPlugin("prepare",c);
},{"../../core":"PQuZ","../BasePrepare":"m4nX"}],"dYLE":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("../../core"),t=o(e),r=require("../BasePrepare"),n=a(r);function a(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u=16,l=function(e){function t(r){i(this,t);var n=c(this,e.call(this,r));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=u,n.canvas.height=u,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(f),n}return s(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(n.default);function f(e,r){if(r instanceof t.BaseTexture){var n=r.source,a=0===n.width?e.canvas.width:Math.min(e.canvas.width,n.width),o=0===n.height?e.canvas.height:Math.min(e.canvas.height,n.height);return e.ctx.drawImage(n,0,0,a,o,0,0,e.canvas.width,e.canvas.height),!0}return!1}exports.default=l,t.CanvasRenderer.registerPlugin("prepare",l);
},{"../../core":"PQuZ","../BasePrepare":"m4nX"}],"a2z+":[function(require,module,exports) {
"use strict";function t(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}exports.__esModule=!0;var n=function(){function n(o){t(this,n),this.maxMilliseconds=o,this.frameStart=0}return n.prototype.beginFrame=function(){this.frameStart=Date.now()},n.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},n}();exports.default=n;
},{}],"GJ6i":[function(require,module,exports) {
"use strict";exports.__esModule=!0;var e=require("./webgl/WebGLPrepare");Object.defineProperty(exports,"webgl",{enumerable:!0,get:function(){return i(e).default}});var r=require("./canvas/CanvasPrepare");Object.defineProperty(exports,"canvas",{enumerable:!0,get:function(){return i(r).default}});var t=require("./BasePrepare");Object.defineProperty(exports,"BasePrepare",{enumerable:!0,get:function(){return i(t).default}});var n=require("./limiters/CountLimiter");Object.defineProperty(exports,"CountLimiter",{enumerable:!0,get:function(){return i(n).default}});var u=require("./limiters/TimeLimiter");function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(exports,"TimeLimiter",{enumerable:!0,get:function(){return i(u).default}});
},{"./webgl/WebGLPrepare":"Fupz","./canvas/CanvasPrepare":"dYLE","./BasePrepare":"m4nX","./limiters/CountLimiter":"zQyr","./limiters/TimeLimiter":"a2z+"}],"5hn+":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];exports.__esModule=!0,exports.loader=exports.prepare=exports.particles=exports.mesh=exports.loaders=exports.interaction=exports.filters=exports.extras=exports.extract=exports.accessibility=void 0;var r=require("./polyfill");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return r[e]}})});var t=require("./core");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(exports,e,{enumerable:!0,get:function(){return t[e]}})});var o=require("./deprecation"),s=j(o),i=require("./accessibility"),a=O(i),p=require("./extract"),u=O(p),l=require("./extras"),n=O(l),x=require("./filters"),c=O(x),f=require("./interaction"),d=O(f),q=require("./loaders"),y=O(q),b=require("./mesh"),_=O(b),m=require("./particles"),v=O(m),h=require("./prepare"),M=O(h);function O(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function j(e){return e&&e.__esModule?e:{default:e}}t.utils.mixins.performMixins();var P=y.shared||null;exports.accessibility=a,exports.extract=u,exports.extras=n,exports.filters=c,exports.interaction=d,exports.loaders=y,exports.mesh=_,exports.particles=v,exports.prepare=M,exports.loader=P,"function"==typeof s.default&&(0,s.default)(exports),e.PIXI=exports;
},{"./polyfill":"JMao","./core":"PQuZ","./deprecation":"mczs","./accessibility":"1cvE","./extract":"AWac","./extras":"V9xq","./filters":"3PAF","./interaction":"DZKx","./loaders":"MbVk","./mesh":"Ay+Z","./particles":"9PHO","./prepare":"GJ6i"}],"CHg+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.render=exports.removeChild=exports.addChild=void 0;var e,r,t,n=i(require("pixi.js"));function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}n.settings.SCALE_MODE=n.SCALE_MODES.NEAREST;var o=new n.Container;function d(){r=innerWidth,t=innerHeight,e&&e.resize(r,t)}function l(){a(),void 0===e&&(d(),e=new n.WebGLRenderer(r,t),document.body.appendChild(e.view))}var p=function(e){return o.addChild(e)};exports.addChild=p;var s=function(e){return o.removeChild(e)};exports.removeChild=s;var u=function(){return e.render(o)};exports.render=u;var a=function(){for(;o.children[0];)o.removeChild(o.children[0])},c={init:l,addChild:p,removeChild:s,onResize:d,render:u};exports.default=c;
},{"pixi.js":"5hn+"}],"KUdD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var PIXI=_interopRequireWildcard(require("pixi.js"));function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(r,t,i):r[t]=e[t]}return r.default=e,r}var TEXT="\nClick to add a new vertex to each polyline\n\nPress Z to undo last vertex\nPress Q / P to add / delete a layer\nPress H to export all layers\n\nPress S to set the scale of the preview / exported geometry\n",DIVISION=12,SIZE=400,scaleX=.25,scaleY=.25,layerPoints=[],editor,preview;function getRelativeXY(e){var r=e.data.originalEvent,t=r.x,i=r.y,o=DIVISION/SIZE,a=1/o,n=t-editor.x,d=i-editor.y;return{x:n,y:d,gridX:Math.min(Math.round(n*o)*a,SIZE),gridY:Math.min(Math.round(d*o)*a,SIZE)}}function onClick(e){var r=editor.children,t=getRelativeXY(e),i=t.gridX,o=t.gridY,a=r[r.length-1],n=layerPoints[layerPoints.length-1];n.push(i),n.push(o),updateLayer(a,n)}function onMouseMove(e){var r=getRelativeXY(e),t=r.gridX,i=r.gridY;editor.children[1].x=t,editor.children[1].y=i}function deleteLayer(){layerPoints.length>1?(editor.removeChild(editor.children[editor.children.length-1]),layerPoints.pop()):layerPoints[0]=[],updatePreview()}function exportLayers(){var e=layerPoints.length>1?JSON.stringify(layerPoints):JSON.stringify(layerPoints[0]);prompt("Exported geometry",e)}var setScale=function setScale(){var userScaleX=prompt('Scale X coordinates\nYou may also use fractions here, e.g. "0.25" or "1/4"',scaleX.toString())||"1/4",userScaleY=prompt('Scale Y coordinates\nYou may also use fractions here, e.g. "0.25" or "1/4"',scaleY.toString())||"1/4";scaleX=parseFloat(eval(userScaleX)),scaleY=parseFloat(eval(userScaleY))};function onKeyPress(e){var r;switch(e.which){case 115:setScale(),updatePreview();break;case 104:exportLayers();break;case 112:deleteLayer();break;case 113:addLayer();break;case 122:var t=editor.children;(r=layerPoints[layerPoints.length-1]).pop(),r.pop(),updateLayer(t[t.length-1],r)}}function create(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(editor=new PIXI.Graphics).lineStyle(1,16777215,.25),editor.beginFill(0,0),editor.drawRect(0,0,SIZE,SIZE),editor.endFill(),editor.x=e,editor.y=r,editor.interactive=!0,editor.hitArea=new PIXI.Rectangle(0,0,SIZE,SIZE),editor.buttonMode=!0,editor.click=onClick,editor.mousemove=onMouseMove,drawGridLines(),drawHelpLabel(),addSnapCursor(),addPreviewWindow(),addLayer(),addEventListener("keypress",onKeyPress),editor}function addPreviewWindow(){(preview=new PIXI.Graphics).x=SIZE+20,preview.y=0,editor.addChild(preview)}function addSnapCursor(){var e=new PIXI.Graphics;e.lineStyle(1,16711680,1),e.drawRect(-2,-2,4,4),editor.addChild(e)}function addLayer(){editor.addChild(new PIXI.Graphics),layerPoints.push([])}function drawGridLines(){var e,r=SIZE/DIVISION;for(e=0;e<SIZE;e+=r)e>>0==SIZE>>1?editor.lineStyle(1,16777215,.5):editor.lineStyle(1,16777215,.25),editor.moveTo(e,0),editor.lineTo(e,SIZE);for(e=0;e<SIZE;e+=r)e>>0==SIZE>>1?editor.lineStyle(1,16777215,.5):editor.lineStyle(1,16777215,.25),editor.moveTo(0,e),editor.lineTo(SIZE,e)}function drawHelpLabel(){var e=new PIXI.Text(TEXT,{fontFamily:"arial",fontSize:12,fill:16777215});e.x=0,e.y=editor.height,editor.addChild(e)}function updateLayer(e,r){e.clear(),e.lineStyle(1,16711680,1),e.drawPolygon(r),updatePreview()}function updatePreview(){preview.clear(),preview.lineStyle(1,65280,1);var e=function(e,r){return r%2?scaleX*e:scaleY*e};layerPoints.forEach(function(r){return preview.drawPolygon(r.map(e))})}function destroy(){removeEventListener("keypress",onKeyPress)}var _default={create:create,destroy:destroy};exports.default=_default;
},{"pixi.js":"5hn+"}],"o5Bo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,r=n(require("./Graphics")),a=n(require("./Editor"));function n(e){return e&&e.__esModule?e:{default:e}}var u=60,i=1e3/u;function o(){var a=Date.now(),n=a-t;n>i&&(r.default.render(),t=a-n%i),e=requestAnimationFrame(o)}function d(){r.default.init(),r.default.addChild(a.default.create(20,20)),t=Date.now(),o()}function f(){cancelAnimationFrame(e)}var l={start:d,stop:f};exports.default=l;
},{"./Graphics":"CHg+","./Editor":"KUdD"}],"ozFQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,r){return Math.round(e(t,r))},e=function(t,e){return t+Math.random()*(e-t)},r=function(e){return e[t(0,e.length-1)]},n={int:t,float:e,arrayElement:r};exports.default=n;
},{}],"SAW4":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("pixi.js")),r=t(require("../Random"));function t(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var i=[];function o(r){var t=r.color,n=r.size,i=r.x,o=r.y,u=new e.Graphics;return u.beginFill(t),u.drawRect(0,0,n,n),u.lineWidth=n,u.endFill(),u.x=i,u.y=o,u}var u={BRIGHT:{speed:.01,count:8,size:2,color:11184810,x:0,y:0},DIM:{speed:.3,count:20,size:1,color:15790320,x:0,y:0}},l=innerWidth>>1,c=innerHeight>>1;function f(){y=null}function s(){var e;if(0===i.length){for(e=0;e<u.DIM.count;e++)i.push(o(u.DIM));for(e=0;e<u.BRIGHT.count;e++)i.push(o(u.BRIGHT))}else f();return i}function a(e){l=innerWidth>>1,c=innerHeight>>1,i.forEach(function(t){t.x=e.x+r.default.float(-l,l),t.y=e.y+r.default.float(-c,c)})}function d(e,r,t,n){1===n.lineWidth?(e*=u.DIM.speed,r*=u.DIM.speed):(e*=u.BRIGHT.speed,r*=u.BRIGHT.speed),n.x+=e,n.y+=r,n.x<t.x-l?n.x=t.x+l:n.x>t.x+l&&(n.x=t.x-l),n.y<t.y-c?n.y=t.y+c:n.y>t.y+c&&(n.y=t.y-c)}var y=null;function p(e){if(e){var r=e.x,t=e.y,n=0,o=0;y?(n=r-y.x,o=t-y.y):a(e),i.forEach(d.bind(null,n,o,e)),y={x:r,y:t}}else y=null}var x={init:s,process:p,onResize:f};exports.default=x;
},{"pixi.js":"5hn+","../Random":"ozFQ"}],"8Z9Z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={attackTurretPositions:[],attackTarget:null,attackWeapon:"Cannon",isAttacking:!1},a={componentFlag:"canAttack",DEFAULTS:t};exports.default=a;
},{}],"XUko":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Entity"));function e(t){return t&&t.__esModule?t:{default:t}}var a={AUTO_TARGET_ENEMY_TIME:1500,autoTargetSearchDist2:16e4,autoTargetLastSearchTime:0};function r(e){e.attackTarget=t.default.getNearestEnemyUnit(e,e.autoTargetSearchDist2),e.isAttacking=Boolean(e.attackTarget)}function o(t){if(t.canAttack){var e=Date.now();e-t.autoTargetLastSearchTime>=t.AUTO_TARGET_ENEMY_TIME&&(r(t),t.autoTargetLastSearchTime=e)}}var T={componentFlag:"canAutoTargetEnemy",DEFAULTS:a,process:o};exports.default=T;
},{"../Entity":"ut18"}],"M1Va":[function(require,module,exports) {
"use strict";function t(t,r){return o(t)||e(t,r)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function e(t,n){var e=[],o=!0,r=!1,a=void 0;try{for(var u,s=t[Symbol.iterator]();!(o=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);o=!0);}catch(l){r=!0,a=l}finally{try{o||null==s.return||s.return()}finally{if(r)throw a}}return e}function o(t){if(Array.isArray(t))return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEvents=l,exports.default=void 0;var r=.1,a=1e-6,u=function(t){var n=t.left,e=t.right,o=(t.up,t.analogAngle),r=t.button0,a=t.button1,u=t.button2,s=t.button3;return{TURN_LEFT:Boolean(n),TURN_RIGHT:Boolean(e),ACCELERATE:Boolean(s),SPECIAL:Boolean(a),SHOOT:Boolean(r),PAUSE:Boolean(u),FOCUS_NEXT_ENEMY:!1,TARGET_NEXT_ENEMY:!1,TOGGLE_RADAR:!1,NAV_POINT_SET:!1,NAV_POINT_CLEAR:!1,analogAngle:o}},s={left:!1,right:!1,up:!1,down:!1,analogAngle:0,button0:!1,button1:!1,button2:!1,button3:!1};function l(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=navigator.getGamepads()[n];if(e){var o,l=t(e.axes,2),i=l[0],b=l[1],f=Math.abs(i)>r,g=Math.abs(b)>r;(f||g)&&(f||(i=i>0?a:-a),g||(b=b>0?a:-a),o=Math.atan2(b,i)),s={left:e.axes[0]<-r,right:e.axes[0]>r,up:e.axes[1]<-r,down:e.axes[1]>r,analogAngle:o,button0:e.buttons[0].pressed,button1:e.buttons[1].pressed,button2:e.buttons[2].pressed,button3:e.buttons[3].pressed}}return u(s)}var i=function(){return Object.assign({},s)},b={getEvents:l,getInputState:i};exports.default=b;
},{}],"Qumj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.getEvents=void 0;var e={27:"escape",32:"spacebar",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",58:"0",37:"left_arrow",38:"up_arrow",39:"right_arrow",40:"down_arrow",69:"e",80:"p",70:"f",77:"m",84:"t",88:"x",81:"q",190:".",13:"enter",8:"backspace"},o={left_arrow:!1,right_arrow:!1,up_arrow:!1,down_arrow:!1,p:!1,q:!1,e:!1,f:!1,m:!1,t:!1,x:!1,".":!1,1:!1,2:!1,3:!1,4:!1,5:!1,6:!1,7:!1,8:!1,9:!1,0:!1,spacebar:!1,backspace:!1,enter:!1};function a(a){var r=a.which;o[e[r]]=!1}function r(a){var r=a.which;o[e[r]]=!0}addEventListener("keydown",r),addEventListener("keyup",a);var n=function(){return{PAUSE:Boolean(o.p),TURN_LEFT:Boolean(o.left_arrow),TURN_RIGHT:Boolean(o.right_arrow),ACCELERATE:Boolean(o.up_arrow),SHOOT:Boolean(o.f),FOCUS_NEXT_ENEMY:Boolean(o["."]),TARGET_NEXT_ENEMY:Boolean(o.t),TOGGLE_RADAR:Boolean(o.m),NAV_POINT_SET:Boolean(o.enter),NAV_POINT_CLEAR:Boolean(o.backspace),SPECIAL:Boolean(o.spacebar),OPTION1:Boolean(o[1]),OPTION2:Boolean(o[2]),OPTION3:Boolean(o[3]),OPTION4:Boolean(o[4]),OPTION5:Boolean(o[5]),OPTION6:Boolean(o[6]),OPTION7:Boolean(o[7]),OPTION8:Boolean(o[8]),OPTION9:Boolean(o[9]),OPTION0:Boolean(o[0])}};exports.getEvents=n;var t=function(){return Object.assign({},o)},l={getEvents:n,getInputState:t};exports.default=l;
},{}],"Y848":[function(require,module,exports) {
"use strict";function e(e,i){return n(e)||r(e,i)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function r(e,t){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}function n(e){if(Array.isArray(e))return e}var i;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,function(e){e.AudioMuted="mute",e.GamePadInUse="gamepad",e.SkipTitleScreen="game",e.GeometryEditorInUse="editor",e.TestSectorInUse="test"}(i||(i={}));var o={};location.search.slice(1).split("&").forEach(function(t){var r=e(t.split("="),2),n=r[0],i=r[1];o[n]=i});var a=function(e){return o.hasOwnProperty(e)},s={isAudioMuted:a(i.AudioMuted),isGamePadInUse:a(i.GamePadInUse),shouldSkipTitleScreen:a(i.SkipTitleScreen),isTestSectorInUse:a(i.TestSectorInUse),isGeometryEditorInUse:a(i.GeometryEditorInUse)};exports.default=s;
},{}],"zA7B":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,a,r=u(require("./GamePad")),t=u(require("./Keyboard")),d=u(require("../startupOptions"));function u(e){return e&&e.__esModule?e:{default:e}}!function(e){e[e.Keyboard=0]="Keyboard",e[e.GamePad=1]="GamePad"}(e||(e={})),a=d.default.isGamePadInUse?e.GamePad:e.Keyboard;var o=function(){return a===e.Keyboard?t.default:r.default},i={getDevice:o};exports.default=i;
},{"./GamePad":"M1Va","./Keyboard":"Qumj","../startupOptions":"Y848"}],"xtCw":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){return e=t},r=function(){return e?{x:e.x,y:e.y}:{x:0,y:0}},u={getFocus:r,setFocus:t};exports.default=u;
},{}],"SyID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var t=0,o=16,e=1e3/o;function n(o,n){var u=Date.now(),r=u-t;r>e&&(n.up||n.up_arrow?o.prevButton():n.down||n.down_arrow?o.nextButton():(n.f||n.button0||n.button1||n.button2||n.button3)&&o.clickButton(),t=u-r%e)}
},{}],"NRPQ":[function(require,module,exports) {
var define;
var t;!function(o,e){"use strict";"function"==typeof t&&t.amd?t(e):"object"==typeof exports?module.exports=e():o.SAT=e()}(this,function(){"use strict";var t={};function o(t,o){this.x=t||0,this.y=o||0}function e(t,e){this.pos=t||new o,this.r=e||0}function r(t,e){this.pos=t||new o,this.angle=0,this.offset=new o,this.setPoints(e||[])}function n(t,e,r){this.pos=t||new o,this.w=e||0,this.h=r||0}function s(){this.a=null,this.b=null,this.overlapN=new o,this.overlapV=new o,this.clear()}t.Vector=o,t.V=o,o.prototype.copy=o.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},o.prototype.clone=o.prototype.clone=function(){return new o(this.x,this.y)},o.prototype.perp=o.prototype.perp=function(){var t=this.x;return this.x=this.y,this.y=-t,this},o.prototype.rotate=o.prototype.rotate=function(t){var o=this.x,e=this.y;return this.x=o*Math.cos(t)-e*Math.sin(t),this.y=o*Math.sin(t)+e*Math.cos(t),this},o.prototype.reverse=o.prototype.reverse=function(){return this.x=-this.x,this.y=-this.y,this},o.prototype.normalize=o.prototype.normalize=function(){var t=this.len();return t>0&&(this.x=this.x/t,this.y=this.y/t),this},o.prototype.add=o.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},o.prototype.sub=o.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},o.prototype.scale=o.prototype.scale=function(t,o){return this.x*=t,this.y*=o||t,this},o.prototype.project=o.prototype.project=function(t){var o=this.dot(t)/t.len2();return this.x=o*t.x,this.y=o*t.y,this},o.prototype.projectN=o.prototype.projectN=function(t){var o=this.dot(t);return this.x=o*t.x,this.y=o*t.y,this},o.prototype.reflect=o.prototype.reflect=function(t){var o=this.x,e=this.y;return this.project(t).scale(2),this.x-=o,this.y-=e,this},o.prototype.reflectN=o.prototype.reflectN=function(t){var o=this.x,e=this.y;return this.projectN(t).scale(2),this.x-=o,this.y-=e,this},o.prototype.dot=o.prototype.dot=function(t){return this.x*t.x+this.y*t.y},o.prototype.len2=o.prototype.len2=function(){return this.dot(this)},o.prototype.len=o.prototype.len=function(){return Math.sqrt(this.len2())},t.Circle=e,e.prototype.getAABB=e.prototype.getAABB=function(){var t=this.r;return new n(this.pos.clone().sub(new o(t,t)),2*t,2*t).toPolygon()},t.Polygon=r,r.prototype.setPoints=r.prototype.setPoints=function(t){if(!this.points||this.points.length!==t.length){var e,r=this.calcPoints=[],n=this.edges=[],s=this.normals=[];for(e=0;e<t.length;e++)r.push(new o),n.push(new o),s.push(new o)}return this.points=t,this._recalc(),this},r.prototype.setAngle=r.prototype.setAngle=function(t){return this.angle=t,this._recalc(),this},r.prototype.setOffset=r.prototype.setOffset=function(t){return this.offset=t,this._recalc(),this},r.prototype.rotate=r.prototype.rotate=function(t){for(var o=this.points,e=o.length,r=0;r<e;r++)o[r].rotate(t);return this._recalc(),this},r.prototype.translate=r.prototype.translate=function(t,o){for(var e=this.points,r=e.length,n=0;n<r;n++)e[n].x+=t,e[n].y+=o;return this._recalc(),this},r.prototype._recalc=function(){var t,o=this.calcPoints,e=this.edges,r=this.normals,n=this.points,s=this.offset,p=this.angle,i=n.length;for(t=0;t<i;t++){var h=o[t].copy(n[t]);h.x+=s.x,h.y+=s.y,0!==p&&h.rotate(p)}for(t=0;t<i;t++){var a=o[t],u=t<i-1?o[t+1]:o[0],c=e[t].copy(u).sub(a);r[t].copy(c).perp().normalize()}return this},r.prototype.getAABB=r.prototype.getAABB=function(){for(var t=this.calcPoints,e=t.length,r=t[0].x,s=t[0].y,p=t[0].x,i=t[0].y,h=1;h<e;h++){var a=t[h];a.x<r?r=a.x:a.x>p&&(p=a.x),a.y<s?s=a.y:a.y>i&&(i=a.y)}return new n(this.pos.clone().add(new o(r,s)),p-r,i-s).toPolygon()},t.Box=n,n.prototype.toPolygon=n.prototype.toPolygon=function(){var t=this.pos,e=this.w,n=this.h;return new r(new o(t.x,t.y),[new o,new o(e,0),new o(e,n),new o(0,n)])},t.Response=s,s.prototype.clear=s.prototype.clear=function(){return this.aInB=!0,this.bInA=!0,this.overlap=Number.MAX_VALUE,this};for(var p=[],i=0;i<10;i++)p.push(new o);var h=[];for(i=0;i<5;i++)h.push([]);var a=new s,u=new n(new o,1e-6,1e-6).toPolygon();function c(t,o,e){for(var r=Number.MAX_VALUE,n=-Number.MAX_VALUE,s=t.length,p=0;p<s;p++){var i=t[p].dot(o);i<r&&(r=i),i>n&&(n=i)}e[0]=r,e[1]=n}function l(t,o,e,r,n,s){var i=h.pop(),a=h.pop(),u=p.pop().copy(o).sub(t),l=u.dot(n);if(c(e,n,i),c(r,n,a),a[0]+=l,a[1]+=l,i[0]>a[1]||a[0]>i[1])return p.push(u),h.push(i),h.push(a),!0;if(s){var y,f,v=0;if(i[0]<a[0])if(s.aInB=!1,i[1]<a[1])v=i[1]-a[0],s.bInA=!1;else v=(y=i[1]-a[0])<(f=a[1]-i[0])?y:-f;else if(s.bInA=!1,i[1]>a[1])v=i[0]-a[1],s.aInB=!1;else v=(y=i[1]-a[0])<(f=a[1]-i[0])?y:-f;var x=Math.abs(v);x<s.overlap&&(s.overlap=x,s.overlapN.copy(n),v<0&&s.overlapN.reverse())}return p.push(u),h.push(i),h.push(a),!1}function y(t,o){var e=t.len2(),r=o.dot(t);return r<0?f:r>e?x:v}t.isSeparatingAxis=l;var f=-1,v=0,x=1;function g(t,o,e){for(var r=p.pop().copy(o.pos).sub(t.pos),n=o.r,s=n*n,i=t.calcPoints,h=i.length,a=p.pop(),u=p.pop(),c=0;c<h;c++){var l=c===h-1?0:c+1,v=0===c?h-1:c-1,g=0,b=null;a.copy(t.edges[c]),u.copy(r).sub(i[c]),e&&u.len2()>s&&(e.aInB=!1);var A=y(a,u);if(A===f){a.copy(t.edges[v]);var w=p.pop().copy(r).sub(i[v]);if((A=y(a,w))===x){if((P=u.len())>n)return p.push(r),p.push(a),p.push(u),p.push(w),!1;e&&(e.bInA=!1,b=u.normalize(),g=n-P)}p.push(w)}else if(A===x){if(a.copy(t.edges[l]),u.copy(r).sub(i[l]),(A=y(a,u))===f){if((P=u.len())>n)return p.push(r),p.push(a),p.push(u),!1;e&&(e.bInA=!1,b=u.normalize(),g=n-P)}}else{var d=a.perp().normalize(),P=u.dot(d),I=Math.abs(P);if(P>0&&I>n)return p.push(r),p.push(d),p.push(u),!1;e&&(b=d,g=n-P,(P>=0||g<2*n)&&(e.bInA=!1))}b&&e&&Math.abs(g)<Math.abs(e.overlap)&&(e.overlap=g,e.overlapN.copy(b))}return e&&(e.a=t,e.b=o,e.overlapV.copy(e.overlapN).scale(e.overlap)),p.push(r),p.push(a),p.push(u),!0}function b(t,o,e){for(var r=t.calcPoints,n=r.length,s=o.calcPoints,p=s.length,i=0;i<n;i++)if(l(t.pos,o.pos,r,s,t.normals[i],e))return!1;for(i=0;i<p;i++)if(l(t.pos,o.pos,r,s,o.normals[i],e))return!1;return e&&(e.a=t,e.b=o,e.overlapV.copy(e.overlapN).scale(e.overlap)),!0}return t.pointInCircle=function(t,o){var e=p.pop().copy(t).sub(o.pos),r=o.r*o.r,n=e.len2();return p.push(e),n<=r},t.pointInPolygon=function(t,o){u.pos.copy(t),a.clear();var e=b(u,o,a);return e&&(e=a.aInB),e},t.testCircleCircle=function(t,o,e){var r=p.pop().copy(o.pos).sub(t.pos),n=t.r+o.r,s=n*n,i=r.len2();if(i>s)return p.push(r),!1;if(e){var h=Math.sqrt(i);e.a=t,e.b=o,e.overlap=n-h,e.overlapN.copy(r.normalize()),e.overlapV.copy(r).scale(e.overlap),e.aInB=t.r<=o.r&&h<=o.r-t.r,e.bInA=o.r<=t.r&&h<=t.r-o.r}return p.push(r),!0},t.testPolygonCircle=g,t.testCirclePolygon=function(t,o,e){var r=g(o,t,e);if(r&&e){var n=e.a,s=e.aInB;e.overlapN.reverse(),e.overlapV.reverse(),e.a=e.b,e.b=n,e.aInB=e.bInA,e.bInA=s}return r},t.testPolygonPolygon=b,t});
},{}],"e9yM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.testPointInEntity=l,exports.default=c,exports.GeometryType=exports.transformPolygon=void 0;var e=require("pixi.js"),t=require("sat"),r=require("./constants"),i=function(e,r){return new t.Vector(e,r)},o=2*Math.PI;function n(e,i){return{set x(e){e<0?e=0:e>r.MAX_COORDINATE&&(e=r.MAX_COORDINATE),this.graphics.x=e,this.collider.pos.x=e},set y(e){e<0?e=0:e>r.MAX_COORDINATE&&(e=r.MAX_COORDINATE),this.graphics.y=e,this.collider.pos.y=e},set rotation(e){e>Math.PI?e-=o:e<-Math.PI&&(e+=o),this.collider instanceof t.Circle||(this.collider.setAngle(e),this.graphics.rotation=e)},get x(){return this.graphics.x},get y(){return this.graphics.y},get rotation(){return this.graphics.rotation},graphics:e,collider:i}}function l(e,r){var o=e.x,n=e.y,l=r.geo.collider,s=i(o,n);return l instanceof t.Circle?0!==l.r&&(0,t.pointInCircle)(s,l):(0,t.pointInPolygon)(s,l)}var s,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;return e.map(function(e,n){return n%2==0?e*i+t:e*o+r})};function c(r){var o,l=r.lineStyle,s=r.fill,a=r.type,c=r.path,h=r.collisionPath,p=r.radius,y=r.collisionRadius,g=r.x,u=r.y,d=new e.Graphics;l&&d.lineStyle(l.width,l.color,l.alpha),s?d.beginFill(s.color,s.alpha):d.beginFill(0,0),d.x=g||0,d.y=u||0;var x=i(d.x,d.y);if("circle"===a)d.drawCircle(0,0,p),o=new t.Circle(x,y||p);else{for(var f=[],v=h||c,P=0;P<v.length;P+=2)f.push(i(v[P],v[P+1]));d.drawPolygon(c),o=new t.Polygon(x,f)}return d.endFill(),n(d,o)}exports.transformPolygon=a,exports.GeometryType=s,function(e){e.Circle="circle",e.Polygon="polygon"}(s||(exports.GeometryType=s={}));
},{"pixi.js":"5hn+","sat":"NRPQ","./constants":"PH7Q"}],"PH7Q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isHumanTeam=exports.TEAM_NONE_COLOR=exports.TEAM_COLOR=exports.TEAM=exports.FOCUS_RETICLE=exports.TARGET_RETICLE=exports.POINTER_NAV=exports.POINTER_TARGET=exports.POINTER=exports.LETTERS=exports.ACCELERATION_FIGHTER_UNDOCK=exports.ACCELERATION_FIGHTER=exports.ROTATION_RATE_FIGHTER=exports.MAX_COORDINATE=void 0;var r=require("./Geometry"),E=32768;exports.MAX_COORDINATE=E;var T=.05;exports.ROTATION_RATE_FIGHTER=T;var e=.2;exports.ACCELERATION_FIGHTER=e;var o=1;exports.ACCELERATION_FIGHTER_UNDOCK=o;var t={d:[0,0,266.6666666666667,0,400,100,400,300,266.6666666666667,400,0,400,0,0],f:[400,0,0,0,0,400,0,200,300,200],g:[400,0,100,0,0,100,0,300,100,400,300,400,400,300,400,166.66666666666669,200,166.66666666666669],h:[0,0,0,400,0,200,400,200,400,0,400,400],j:[400,0,400,333.33333333333337,333.33333333333337,400,66.66666666666667,400,0,333.33333333333337],k:[0,0,0,400,0,200,266.6666666666667,200,400,0,266.6666666666667,200,400,400],n:[0,400,0,0,400,400,400,0],p:[0,400,0,0,300,0,400,100,300,200,0,200],q:[66.66666666666667,0,0,66.66666666666667,0,266.6666666666667,66.66666666666667,333.33333333333337,300,333.33333333333337,400,400,200,266.6666666666667,300,333.33333333333337,366.6666666666667,266.6666666666667,366.6666666666667,66.66666666666667,300,0,66.66666666666667,0],r:[0,400,0,0,300,0,400,100,300,200,0,200,300,200,400,266.6666666666667,400,400],u:[400,0,400,400,66.66666666666667,400,0,333.33333333333337,0,0],v:[0,0,0,133.33333333333334,200,400,400,133.33333333333334,400,0],w:[0,0,0,400,200,166.66666666666669,400,400,400,0],x:[0,0,0,100,66.66666666666667,200,200,200,66.66666666666667,200,0,300,0,400,0,300,66.66666666666667,200,333.33333333333337,200,400,100,400,0,400,100,333.33333333333337,200,400,300,400,400],y:[0,0,0,200,133.33333333333334,266.6666666666667,266.6666666666667,266.6666666666667,400,200,400,0,400,200,266.6666666666667,266.6666666666667,200,266.6666666666667,200,400],z:[0,0,400,0,400,33.333333333333336,0,300,0,400,400,400],c:[400,100,300,0,100,0,0,100,0,300,100,400,300,400,400,300],e:[400,0,0,0,0,200,300,200,0,200,0,400,400,400],l:[0,0,0,400,400,400],s:[400,0,100,0,0,100,100,200,300,200,400,300,300,400,0,400],t:[0,0,200,0,200,400,200,0,400,0],i:[0,0,400,0,200,0,200,400,0,400,400,400],a:[0,400,0,166.66666666666669,200,0,400,166.66666666666669,400,400,400,200,0,200],b:[400,100,300,0,0,0,0,400,300,400,400,300,300,200,0,200,300,200,400,100],m:[0,400,0,0,200,266.6666666666667,400,0,400,400],o:[0,100,100,0,300,0,400,100,400,300,300,400,100,400,0,300,0,100],symbol:[[0,233.33333333333334,0,166.66666666666669,33.333333333333336,66.66666666666667,66.66666666666667,33.333333333333336,166.66666666666669,0,233.33333333333334,0,333.33333333333337,33.333333333333336,366.6666666666667,66.66666666666667,400,166.66666666666669,400,233.33333333333334,366.6666666666667,333.33333333333337,333.33333333333337,366.6666666666667,233.33333333333334,400,166.66666666666669,400,66.66666666666667,366.6666666666667,33.333333333333336,333.33333333333337,0,233.33333333333334,400,166.66666666666669],[33.333333333333336,66.66666666666667,366.6666666666667,333.33333333333337]]};exports.LETTERS=t;var s=.02,R=(0,r.transformPolygon)([200,0,0,200,200,400,400,200,200,0],0,0,s,s);exports.POINTER=R;var O=(0,r.transformPolygon)([0,0,100,100,300,100,400,0,300,100,300,300,400,400,300,300,100,300,0,400,100,300,100,100],0,0,s,s);exports.POINTER_TARGET=O;var A=(0,r.transformPolygon)([0,400,0,0,66.66666666666667,0,333.33333333333337,333.33333333333337,333.33333333333337,0,400,0,400,400,300,400,66.66666666666667,100,66.66666666666667,400,0,400],0,0,s,s);exports.POINTER_NAV=A;var p=[[0,10,0,0,-10,-10,0,0,10,0],[-10,0,0,0,10,-10,0,0,0,10],[0,-10,0,0,10,10,0,0,-10,0],[10,0,0,0,-10,10,0,0,0,-10]];exports.TARGET_RETICLE=p;var x=[[100,0,0,0,0,100],[300,0,400,0,400,100],[400,300,400,400,300,400],[100,400,0,400,0,300]];exports.FOCUS_RETICLE=x;var _={NONE:-1,BLUE:0,GREEN:1,RED:2,YELLOW:3,MAGENTA:4};exports.TEAM=_;var N=[255,65280,16711680,16776960,16711935];exports.TEAM_COLOR=N;var I=10066329;exports.TEAM_NONE_COLOR=I;var a=function(r){return r===_.MAGENTA};exports.isHumanTeam=a;
},{"./Geometry":"e9yM"}],"4+dV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("."));function i(e){return e&&e.__esModule?e:{default:e}}var t,n=60,r=.5,l=new PIXI.Graphics;l.visible=!1;var u=0;function a(){l.visible&&(u>n?u=0:u+=r,l.clear(),l.lineStyle(1,65535,.4),l.beginFill(0,0),l.drawCircle(0,0,u),l.drawCircle(0,0,n-u),l.endFill())}var d={init:function(){return e.default.addChild(l)},setNavPoint:function(e){t=e,l.x=e.x,l.y=e.y,l.visible=!0},update:a,getNavPoint:function(){return Object.assign({},t)},clear:function(){t=null,l.visible=!1}};exports.default=d;
},{".":"Oi2H"}],"IAoB":[function(require,module,exports) {
"use strict";function e(e,t){var r=t.x-e.x,o=t.y-e.y;return r*r+o*o}function t(e,t){var r=t.x-e.x,o=t.y-e.y;return Math.atan2(o,r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDistSquared=e,exports.getAngleFromTo=t,exports.AVOID_DIVZERO_VALUE=void 0;var r=1e-6;exports.AVOID_DIVZERO_VALUE=r;
},{}],"njTh":[function(require,module,exports) {
function e(e,t){var r=t&&t.cache?t.cache:h,n=t&&t.serializer?t.serializer:u;return(t&&t.strategy?t.strategy:c)(e,{cache:r,serializer:n})}function t(e){return null==e||"number"==typeof e||"boolean"==typeof e}function r(e,r,n,i){var c=t(i)?i:n(i),a=r.get(c);return void 0===a&&(a=e.call(this,i),r.set(c,a)),a}function n(e,t,r){var n=Array.prototype.slice.call(arguments,3),i=r(n),c=t.get(i);return void 0===c&&(c=e.apply(this,n),t.set(i,c)),c}function i(e,t,r,n,i){return r.bind(t,e,n,i)}function c(e,t){return i(e,this,1===e.length?r:n,t.cache.create(),t.serializer)}function a(e,t){return i(e,this,n,t.cache.create(),t.serializer)}function o(e,t){return i(e,this,r,t.cache.create(),t.serializer)}function u(){return JSON.stringify(arguments)}function s(){this.cache=Object.create(null)}s.prototype.has=function(e){return e in this.cache},s.prototype.get=function(e){return this.cache[e]},s.prototype.set=function(e,t){this.cache[e]=t};var h={create:function(){return new s}};module.exports=e,module.exports.strategies={variadic:a,monadic:o};
},{}],"WovT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defineSound=i,exports.playSound=f,exports.playSoundLocalized=v;var e=o(require("../Graphics/Focus")),t=require("../entityHelpers"),r=o(require("fast-memoize")),a=o(require("../startupOptions"));function o(e){return e&&e.__esModule?e:{default:e}}var n=new AudioContext,u={};function i(e){var t=e.name,r=e.arrayBuffer;try{n.decodeAudioData(r).then(function(e){u[t]=e})}catch(a){console.warn('Failed to decode audio file "'.concat(t,'"! ').concat(a.toString()))}}var c=!a.default.isAudioMuted;function f(e){if(c){var t=n.createBufferSource();t.buffer=u[e],t.connect(n.destination),t.start()}}var d=Math.pow(3e3,2)>>12,s=1/Math.log(d),l=function(e){return 1-Math.log(e)*s},p=(0,r.default)(l);function v(r,a){if(c){var o=e.default.getFocus(),i=Math.max((0,t.getDistSquared)(a,o)>>12,1);if(i<d){var f=n.createBufferSource(),s=n.createGain();f.buffer=u[r],s.gain.value=p(i),f.connect(s),s.connect(n.destination),f.start()}}}
},{"../Graphics/Focus":"xtCw","../entityHelpers":"IAoB","fast-memoize":"njTh","../startupOptions":"Y848"}],"vi4H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getTargetNearEntity=o;var e=a(require("../../Entity")),t=require("../../constants"),r=require("../../assets/audio");function a(e){return e&&e.__esModule?e:{default:e}}var n=0,i=["Fighter","Freighter","PBase","PColony","PComm","PLab","SpacePort"].join(","),u=function(e){return!(0,t.isHumanTeam)(e.team)&&-1!==i.indexOf(e.type)};function o(t){var a=e.default.getNearestUnits(t).filter(u);a[++n]||(n=0);var i=a[n];return i&&(0,r.playSound)("bopp"),i}
},{"../../Entity":"ut18","../../constants":"PH7Q","../../assets/audio":"WovT"}],"WGVz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=f(require("../Entity/index")),a=f(require("./control/index")),r=f(require("../Random")),n=f(require("../Graphics/Focus")),i=f(require("../Graphics/Starfield")),l=require("../assets/audio"),o=f(require("./HUD")),u=require("../constants"),c=require("../entityHelpers");function f(e){return e&&e.__esModule?e:{default:e}}function d(e,t){var a=!1;if(e.length>0){for(var r=e.length-1;r>=0;r--){var n=e[r];if(!Boolean(n.colonizationTarget)){n.isOrbitingPlanet&&n.exitPlanetOrbit(),n.colonizationTarget=t,a=!0;break}}a&&o.default.displayText(e[0].team,"Freighter fleet heading towards target.")}}function s(e){return!e.pbase||!e.pcolony}function g(e){return e.pcolony&&!e.pcolony.isManufacturing}function p(t,a,n){if(a){var i;if((0,u.isHumanTeam)(t)&&e){var l=e.pcolony;l&&!l.isManufacturing&&(i=l)}i||(i=r.default.arrayElement(a).pcolony),i&&i.orderManufacture(n)}}function y(e){var t=e.planet,a=e.isDockedPlanet,r=e.team,n=e.isDockedSpacePort,i=e.reload_HomingMissile,c=e.reload_ClusterRocket,f=e.reload_LaserBolt,d=!1;n?(e.hp<e.maxHp&&(d=(0,u.isHumanTeam)(r),e.hp=e.maxHp,o.default.displayText(e.team,"Fully repaired.")),i&&e.reload_HomingMissile(!1),c&&e.reload_ClusterRocket(!1),f&&e.reload_LaserBolt(!1)):a&&r===t.team&&t.isOccupied()&&(i&&e.reload_HomingMissile(),c&&e.reload_ClusterRocket(),f&&e.reload_LaserBolt(),e.hp<e.maxHp&&(d=(0,u.isHumanTeam)(r),e.hp+=.5,o.default.displayText(e.team,"Repairing: ".concat(Math.round(e.hp/e.maxHp*100),"%")))),d&&(0,l.playSound)("repaired")}function h(e){if(!e.colonizationTarget){var a,r=1/0;t.default.getByType("Planet").forEach(function(t){var n=(0,c.getDistSquared)(e,t);r>n&&(a=t,r=n)}),a&&(e.exitPlanetOrbit(),e.colonizationTarget=a)}}function m(t,a){var r=t.planet===e||t.spaceport&&t.spaceport.planet===e;return((a.planet===e||a.spaceport&&a.spaceport.planet===e)>>0)-(r>>0)}function T(){e&&!(0,u.isHumanTeam)(e.team)&&(e=null)}function E(e){var l,c=function(t){return t.team===e},f=function(t){return t.team!==e},E=t.default.getByType("Planet").filter(c),F=t.default.getByType("PColony").filter(c),v=t.default.getByType("Freighter").filter(c),M=t.default.getByType("Fighter").filter(c);if(l=(l=E.filter(g)).length>0?l:void 0,0===E.length&&v.length>0?v.forEach(h):E.filter(s).forEach(d.bind(null,v)),M.length<E.length&&p(e,l,"Fighter"),M.length>0){var x=r.default.arrayElement(M);if((0,u.isHumanTeam)(e)&&(T(),a.default.getControlledEntity()||(x=M.filter(function(e){return!e.isFighterAutoAccelerated||!e.attackTarget&&(e.planet||e.spaceport)}).sort(m)[0])&&(x.isFighterAutoAccelerated=!1,a.default.setControlledEntity(x),n.default.setFocus(x),i.default.init())),x&&!x.attackTarget&&x.isFighterAutoAccelerated){var A,B=Math.random();B<.1?(A=r.default.arrayElement(t.default.getByType("Freighter").filter(f)),o.default.displayText(e,"Friendly Fighter targeting enemy Freighter!")):B<.3&&(A=r.default.arrayElement(t.default.getByType("PBase").filter(f)),o.default.displayText(e,"Friendly Fighter targeting enemy planet!")),A&&(x.attackTarget=A)}}M.forEach(y),E.length>v.length&&p(e,l,"Freighter"),0===F.length&&0===M.length&&0===v.length&&(H=H.filter(function(t){return t!==e}),k(e))}function F(t){(0,l.playSound)("install"),e=t}function v(e){t.default.getByType("Fighter").forEach(function(t){(0,u.isHumanTeam)(t.team)&&(t.attackTarget=e)}),(0,l.playSound)("alert"),o.default.displayText(u.TEAM.MAGENTA,"All fighters attacking your target!")}var H,M=3e3,x=0,A=[u.TEAM.GREEN,u.TEAM.BLUE,u.TEAM.YELLOW,u.TEAM.RED,u.TEAM.MAGENTA];function B(){var e=Date.now();e-x>M&&(H.forEach(E),1===H.length&&_(H[0]),x=e)}var k=new Function,_=new Function,P=function(e){return k=e},q=function(e){return _=e};function b(){H=A.concat()}var C={init:b,update:B,setHumanFightersTarget:v,setHumanTeamHomePlanet:F,setOnTeamLostCallback:P,setOnTeamWinCallback:q};exports.default=C;
},{"../Entity/index":"ut18","./control/index":"p4gg","../Random":"ozFQ","../Graphics/Focus":"xtCw","../Graphics/Starfield":"SAW4","../assets/audio":"WovT","./HUD":"ACUy","../constants":"PH7Q","../entityHelpers":"IAoB"}],"oVku":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../../HUD")),t=a(require("../../TeamSystem"));function a(e){return e&&e.__esModule?e:{default:e}}var n=function(e,t){var a=t.isDockedPlanet,n=t.isDockedSpacePort,o=t.planet,p=t.spaceport,u=t.team;return a&&o.team===u||n&&p.team===u},o=["Fighter is docked","  [1] Swap weapon","  [2] Set current location as home"],p="Cannon",u=function(a,n){switch(a.menuId){case 0:e.default.displayCommandText(o),a.menuId=1,a.options=[function(){return a.menuId=2},function(){t.default.setHumanTeamHomePlanet(n.planet||n.spaceport.planet),a.shouldReset=!0}];break;case 2:var u=(n.planet||n.spaceport.planet).plab,d=!(!u||!u.developEquipment_equipmentReady||"Shield"===u.developEquipment_equipmentReady)&&u.developEquipment_equipmentReady,i=["Swap Fighter's ".concat(n.attackWeapon," for"),"  [1] Cannon"];a.menuId=3,a.options=[function(){u&&n.attackWeapon!==p&&(u.developEquipment_equipmentReady=n.attackWeapon),n.attackWeapon=p,a.shouldReset=!0}],d&&(i.push("  [2] ".concat(d)),a.options.push(function(){u&&n.attackWeapon!==p&&(u.developEquipment_equipmentReady=n.attackWeapon),n.attackWeapon=d,a.shouldReset=!0})),e.default.displayCommandText(i)}return!0},d=[n,u];exports.default=d;
},{"../../HUD":"ACUy","../../TeamSystem":"WGVz"}],"LJlB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../../HUD")),t=a(require("../../TeamSystem"));function a(e){return e&&e.__esModule?e:{default:e}}var r=function(e,t){var a=t.attackTarget;return a&&a.hp>0},u=["Wingmates:","  [1] Attack my target"],n=function(a,r){switch(a.menuId){case 0:var n=r.attackTarget;e.default.displayCommandText(u),a.menuId=1,a.options=[function(){t.default.setHumanFightersTarget(n),a.shouldReset=!0}]}return!0},s=[r,n];exports.default=s;
},{"../../HUD":"ACUy","../../TeamSystem":"WGVz"}],"bmqr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=O(require("../../HUD")),o=O(require("./fighterIsDocked")),t=O(require("./fighterHasAttackTarget"));function O(e){return e&&e.__esModule?e:{default:e}}var i={isCommanding:!1,shouldReset:!1,menuId:0,options:[]},n=function(e,O,n){if(i.shouldReset&&s(),i.isCommanding){var d=function(o){return o(i,e,O,n)};e&&(o.default.every(d),t.default.every(d))}var r;O.OPTION1&&!n.OPTION1?r=i.options[0]:O.OPTION2&&!n.OPTION2?r=i.options[1]:O.OPTION3&&!n.OPTION3?r=i.options[2]:O.OPTION4&&!n.OPTION4?r=i.options[3]:O.OPTION5&&!n.OPTION5?r=i.options[4]:O.OPTION6&&!n.OPTION6?r=i.options[5]:O.OPTION7&&!n.OPTION7?r=i.options[6]:O.OPTION8&&!n.OPTION8?r=i.options[7]:O.OPTION9&&!n.OPTION9?r=i.options[8]:O.OPTION0&&!n.OPTION0?r=s:O.SPECIAL&&!n.SPECIAL&&(i.isCommanding=!i.isCommanding,i.isCommanding||(i.shouldReset=!0)),r&&r()},s=function(){i.isCommanding=!1,i.shouldReset=!1,i.menuId=0,i.options=[],e.default.displayCommandText()},d={update:n,reset:s};exports.default=d;
},{"../../HUD":"ACUy","./fighterIsDocked":"oVku","./fighterHasAttackTarget":"LJlB"}],"0FAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=n;var e=require("../../constants"),t=T(require("../../Graphics/NavBeaconHuman")),a=require("./getTarget"),r=T(require("./command"));function T(e){return e&&e.__esModule?e:{default:e}}function n(T,n,E){var o=T.isDockedPlanet,_=T.isDockedSpacePort,c=T.attackTarget,l=o||_;if(!l){if("number"==typeof n.analogAngle?T.rotation=n.analogAngle:n.TURN_LEFT?T.rotation-=e.ROTATION_RATE_FIGHTER:n.TURN_RIGHT&&(T.rotation+=e.ROTATION_RATE_FIGHTER),T.isAttacking=n.SHOOT,n.NAV_POINT_SET&&!E.NAV_POINT_SET){var u={x:T.x,y:T.y};t.default.setNavPoint(u)}else n.NAV_POINT_CLEAR&&!E.NAV_POINT_CLEAR&&t.default.clear();n.TARGET_NEXT_ENEMY&&!E.TARGET_NEXT_ENEMY&&(T.attackTarget=(0,a.getTargetNearEntity)(T))}n.ACCELERATE?(l&&(o?T.undockPlanet():_&&T.undockSpacePort(),T.accelerate(e.ACCELERATION_FIGHTER_UNDOCK),r.default.reset()),T.flameOn(),T.accelerate(e.ACCELERATION_FIGHTER)):T.flameOff(),c&&c.hp<=0&&(T.attackTarget=null,r.default.reset())}
},{"../../constants":"PH7Q","../../Graphics/NavBeaconHuman":"4+dV","./getTarget":"vi4H","./command":"bmqr"}],"MpYu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFighter=u;var e=t(require("../../Entity"));function t(e){return e&&e.__esModule?e:{default:e}}var r=-1;function u(t){var u=e.default.getByType("Fighter");return u[r+=t?1:-1]||(r=t?0:u.length-1),u[r]}
},{"../../Entity":"ut18"}],"rVbL":[function(require,module,exports) {
"use strict";function e(e,t){e.interactive=!0,e.interactiveChildren=!1,e.buttonMode=!0,e.click=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.setClickable=e;
},{}],"6yS+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("pixi.js")),t=u(require("../../Entity")),r=u(require("../../Graphics")),i=require("../../constants"),n=require("../../UI/setClickable"),l=u(require("../../GameScreen/control")),a=require("../../Geometry"),o=u(require("../../Graphics/Focus")),c=u(require("../../Graphics/Starfield"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}var f,y,s=16,g=.25,p=16776960,b=65280,h=11184810,v=.04,F=i.FOCUS_RETICLE.map(function(e){return(0,a.transformPolygon)(e,-200*v,-200*v,v,v)}),O=125,x=!1,E={x:0,y:0},C={x:0,y:0},w=0,S=0,T=0,P=new e.Graphics;P.x=s,P.y=s,(0,n.setClickable)(P,function(e){var t=e.data.global,r=t.x,i=t.y;m(!1);var n={x:(r-s)/w,y:(i-s)/S};o.default.setFocus(n),f.revertControlToAI&&f.revertControlToAI(),f.setControlledEntity(Object.assign({},n,{hp:1})),c.default.init()});var R=function(){P.beginFill(526344,1),P.lineStyle(1,16777215,g),P.drawRect(0,0,C.x,C.y),P.endFill()};P.mousemove=function(e){var t=e.data.global,r=t.x,i=t.y;x&&(E.x=r,E.y=i)};var _=function(){var e=E.x,t=E.y;P.beginFill(0,0),P.lineStyle(1,13421772,1),P.drawRect(e-s-.5*C.x*w,t-s-.5*C.y*S,innerWidth*w,innerHeight*S),P.endFill()},q=function(e){var t,r,n=e.type,l=e.team,o=e.x*w,c=e.y*S;switch(n){case"Planet":if(r=b,t=12,P.beginFill(r,.1),P.lineStyle(0,0,0),P.drawCircle(o,c,t),l!==i.TEAM.NONE){P.endFill(),P.beginFill(i.TEAM_COLOR[l],.75),P.lineStyle(0,0,0),P.drawRect(o-1.5,c-1,3,2)}break;case"Star":r=p,t=16,P.beginFill(0,0),P.lineStyle(1,r,1),P.drawCircle(o,c,t);break;case"Fighter":r=i.TEAM_COLOR[l],t=2,P.beginFill(r,1),P.lineStyle(1,r,1),P.drawRect(o-t/2,c-t/2,t,t),e===y&&(P.endFill(),P.beginFill(0,0),P.lineStyle(1,16777215,1),F.forEach(function(e){return P.drawPolygon((0,a.transformPolygon)(e,o,c))}));break;case"Freighter":default:r=h,t=4,P.beginFill(0,0),P.lineStyle(1,r,1),P.drawRect(o-t/2,c-t/2,t,t)}P.endFill()};function A(){if(x){var e=Date.now();e-T>O&&(P.clear(),R(),y=f.getControlledEntity(),t.default.getByType("Star").forEach(q),t.default.getByType("Planet").forEach(q),t.default.getByType("Freighter").forEach(q),t.default.getByType("Fighter").forEach(q),_(),T=e)}}function j(){C.x=innerWidth-2*s,C.y=innerHeight-2*s,w=C.x/i.MAX_COORDINATE,S=C.y/i.MAX_COORDINATE}function m(e){e&&j(),P.visible=e,x=e}function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default;f=e,r.default.addChildToHUD(P)}function I(){return x}var D={init:M,update:A,onResize:j,getIsVisible:I,setVisible:m};exports.default=D;
},{"pixi.js":"5hn+","../../Entity":"ut18","../../Graphics":"Oi2H","../../constants":"PH7Q","../../UI/setClickable":"rVbL","../../GameScreen/control":"p4gg","../../Geometry":"e9yM","../../Graphics/Focus":"xtCw","../../Graphics/Starfield":"SAW4"}],"p4gg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=f(require("..")),r=f(require("../../Input")),u=f(require("../../Graphics/Focus")),a=f(require("./ActiveModal")),i=f(require("./Fighter")),l=require("../../constants"),s=f(require("../../Graphics/Starfield")),d=require("./getFighter"),n=f(require("../HUD/RadarGalaxyExpanded")),o=f(require("./command"));function f(e){return e&&e.__esModule?e:{default:e}}var c=function(t){return e=t},g=function(){return e},p={};function E(){e&&(0,l.isHumanTeam)(e.team)&&(e.isFighterAutoAccelerated=!0)}function m(){e&&(0,l.isHumanTeam)(e.team)&&(e.isFighterAutoAccelerated=!1)}function A(){var f=r.default.getDevice(),g=f.getEvents(),A=f.getInputState();if(g.PAUSE&&!p.PAUSE&&t.default.togglePause(),t.default.getIsPaused())e&&e.modal&&(0,a.default)(e,A);else{if(e)if(e.modal)(0,a.default)(e,A);else if(e.hp>0){if(u.default.setFocus(e),(0,l.isHumanTeam)(e.team))switch(m(),e.type){case"Fighter":(0,i.default)(e,g,p)}}else o.default.reset(),c(null);g.FOCUS_NEXT_ENEMY&&!p.FOCUS_NEXT_ENEMY&&(s.default.process(null),E(),u.default.setFocus(c((0,d.getFighter)(!0)))),g.TOGGLE_RADAR&&!p.TOGGLE_RADAR&&n.default.setVisible(!n.default.getIsVisible()),o.default.update(e,g,p)}p=g}var F={update:A,getControlledEntity:g,setControlledEntity:c,revertControlToAI:E};exports.default=F;
},{"..":"3Rht","../../Input":"zA7B","../../Graphics/Focus":"xtCw","./ActiveModal":"SyID","./Fighter":"0FAS","../../constants":"PH7Q","../../Graphics/Starfield":"SAW4","./getFighter":"MpYu","../HUD/RadarGalaxyExpanded":"6yS+","./command":"bmqr"}],"xOcb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("pixi.js")),t=i(require("../../Graphics")),r=i(require("../control")),a=require("../../constants");function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}var l=12,o=100,d=12,c=new e.Graphics;c.x=l,c.y=l+100+28+2*l;var u=new e.Text("Unknown",{fontFamily:"arial",fontSize:12,fill:16316664,align:"left"});u.x=0,u.y=0;var f=new e.Graphics;f.x=0,f.y=16;var p=new e.Graphics;function s(e){var t=e.hp,r=e.maxHp,a=Math.floor(o*(t/r));f.clear(),f.beginFill(6728294,1),f.drawRect(0,0,a,d),f.endFill(),p.clear(),p.beginFill(11167334,1),p.drawRect(0,0,o-a,d),p.endFill(),p.x=a}p.x=0,p.y=16,c.addChild(u),c.addChild(f),c.addChild(p);var y=0,v=10;function x(){if(y>0)y--;else{y=v;var e=r.default.getControlledEntity();e&&e.type?((0,a.isHumanTeam)(e.team)?u.text=e.type:u.text="Enemy ".concat(e.type),s(e)):(u.text="",f.clear(),p.clear())}}function h(){t.default.addChildToHUD(c)}var w={init:h,update:x};exports.default=w;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../control":"p4gg","../../constants":"PH7Q"}],"hkN1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("pixi.js")),t=a(require("../../Graphics")),r=a(require("../control"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}var n=12,o=new e.Graphics;o.x=n,o.y=n+100+42+4*n;var l=new e.Text("Unarmed",{fontFamily:"arial",fontSize:12,fill:16316664,align:"left"});l.x=0,l.y=0;var s=new e.Text("",{fontFamily:"arial",fontSize:12,fill:16711680,align:"left"});function c(){var e=r.default.getControlledEntity();if(l.text="",s.text="",e&&e.canAttack){var t=e.attackWeapon,a=e.ammo_HomingMissile,i=e.ammo_ClusterRocket,n=e.ammo_LaserBolt;switch(l.text=t,t){case"HomingMissile":s.text="|".repeat(a);break;case"ClusterRocket":s.text="|".repeat(i);break;case"LaserBolt":s.text="|".repeat(n);break;case"HeavyCannon":case"Cannon":default:s.text="Infinite ammo"}}}function f(){t.default.addChildToHUD(o)}s.x=0,s.y=14,o.addChild(l),o.addChild(s);var d={init:f,update:c};exports.default=d;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../control":"p4gg"}],"WJ1g":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../constants");function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}var r=function(){function i(){e(this,i),this.team=t.TEAM.NONE}return n(i,[{key:"getChildAt",value:function(t){return this.geo.graphics.getChildAt(t)}},{key:"setChildVisible",value:function(t,e){var i=this.getChildAt(t);i&&(i.visible=e)}},{key:"assignTeamColor",value:function(){var e=t.TEAM_COLOR[this.team];return this.geo.graphics.currentPath.lineColor=e,e}},{key:"renderHit",value:function(){this.hitTime>0?(this.hitTime--,this.geo.graphics.alpha=Math.random()):0===this.hitTime&&(this.hitTime=-1,this.geo.graphics.alpha=1)}},{key:"x",get:function(){return this.geo.x},set:function(t){this.geo.x=t}},{key:"y",get:function(){return this.geo.y},set:function(t){this.geo.y=t}},{key:"rotation",get:function(){return this.geo.rotation},set:function(t){this.geo.rotation=t}}]),i}();exports.default=r;
},{"../constants":"PH7Q"}],"PUm7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../constants"),t=n(require("../Geometry")),r=o(require("./LivingEntity"));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,r){return t&&l(e.prototype,t),r&&l(e,r),e}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?y(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var b={body:{type:t.GeometryType.Circle,radius:100,fill:{color:0,alpha:1},lineStyle:{width:1,color:65280,alpha:1}},flag:{type:t.GeometryType.Polygon,fill:{color:16777215,alpha:1},path:[-5,-4,-5,4,5,4,5,-4]}},h=function(o){function n(e){var r;return a(this,n),(r=c(this,f(n).call(this))).type="Planet",r.canOrbitStar=!0,r.canStoreMaterial=!0,r.materialsRaw=0,r.materialsFinished=0,r.hp=2e3,r.mass=180,r.geo=(0,t.default)(b.body),r.geo.graphics.addChild((0,t.default)(b.flag).graphics),Object.assign(y(y(r)),e),r.updateFlagColor(),r}return p(n,r.default),u(n,[{key:"isOccupied",value:function(){return Boolean(this.pbase||this.plab||this.pcolony||this.pcomm)}},{key:"updateFlagColor",value:function(){var t=this.geo.graphics.children[0];this.team===e.TEAM.NONE?t.visible=!1:(t.visible=!0,t.tint=e.TEAM_COLOR[this.team])}}]),n}();exports.default=h,h.DIST_SURFACE2=11025;
},{"../constants":"PH7Q","../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"x+xP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Geometry")),e=r(require("./LivingEntity"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?p(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a={type:t.GeometryType.Circle,radius:200,fill:{color:0,alpha:1},lineStyle:{width:1,color:16776960,alpha:1}},s=function(r){function o(e){var r;return i(this,o),(r=u(this,c(o).call(this))).geo=(0,t.default)(a),r.type="Star",r.hp=1e4,r.mass=600,Object.assign(p(p(r)),e),r}return f(o,e.default),o}();exports.default=s,s.DIST_SURFACE2=4e4;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"wc/q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNextRankByScore=exports.getRankByScore=void 0;var e=[{name:"Serf",scoreNeeded:-1/0},{name:"Peasant",scoreNeeded:-50},{name:"Recruit",scoreNeeded:0},{name:"Cadet",scoreNeeded:200},{name:"Private",scoreNeeded:1e3},{name:"Corporal",scoreNeeded:2e3},{name:"Lieutenant",scoreNeeded:3200},{name:"Captain",scoreNeeded:4500},{name:"Major",scoreNeeded:6e3},{name:"Colonel",scoreNeeded:8e3},{name:"Rear Admiral",scoreNeeded:12e3},{name:"Vice Admiral",scoreNeeded:18e3},{name:"Fleet Admiral",scoreNeeded:24e3},{name:"Fleet Commander",scoreNeeded:5e4}],r=function(r){return e[e.findIndex(function(e){return r<e.scoreNeeded})-1]};exports.getRankByScore=r;var d=function(r){return e[e.findIndex(function(e){return r<e.scoreNeeded})]};exports.getNextRankByScore=d;
},{}],"C3sm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./rank"),t=0,r=(0,e.getRankByScore)(0),n=(0,e.getNextRankByScore)(0);function a(a){t+=a,r=(0,e.getRankByScore)(t),n=(0,e.getNextRankByScore)(t)}function o(){return{rank:r,score:t,nextRank:n}}var c=0;function u(e){c+=e}function d(){return c<-1}var s={add:a,addSectorResult:u,getIsGameOver:d,getScoreRank:o};exports.default=s;
},{"./rank":"wc/q"}],"m9wr":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ERROR_MARGIN_LANDING_SPEED2=void 0;var t=o(require("../Entity")),e=o(require("../Entity/Planet")),a=o(require("../Entity/Star")),i=require("../entityHelpers"),s=require("../constants"),r=o(require("../Score"));function o(t){return t&&t.__esModule?t:{default:t}}var h=Math.pow(1e3,2),d=Math.pow(800,2),n=Math.PI/4,u=Math.pow(3.5,2);exports.ERROR_MARGIN_LANDING_SPEED2=u;var l=2*Math.PI;function c(e){e.explode(),t.default.destroy(e),(0,s.isHumanTeam)(e.team)&&r.default.add(-10)}function f(t){var a=(0,i.getDistSquared)(this,t);if(a<d){var s=this.mass*t.mass/Math.pow(a,1.5),r=t.x-this.x,o=t.y-this.y;if(this.dx+=r*s,this.dy+=o*s,a<e.default.DIST_SURFACE2){var h=this.dx*this.dx+this.dy*this.dy,f=this.rotation,p=(0,i.getAngleFromTo)(t,this),v=Math.abs(p-f);v>Math.PI&&(f>0?f-=l:f+=l,v=Math.abs(p-f)),v<n&&h<u?this.dockPlanet(t):c(this)}}}function p(t){var e=(0,i.getDistSquared)(this,t);if(e<h){var s=t.x-this.x,r=t.y-this.y,o=this.mass*t.mass/Math.pow(e,1.5);this.dx+=s*o,this.dy+=r*o,e<a.default.DIST_SURFACE2&&c(this)}}function v(t){var e=t.type;"Star"===e?p.call(this,t):"Planet"===e&&f.call(this,t)}var y={};function x(e){var a=e.isDockedPlanet,i=e.isDockedSpacePort,s=e.hp;!a&&!i&&s>0&&t.default.getBodies().forEach(v.bind(e))}var M={componentFlag:"canGravitate",DEFAULTS:y,process:x};exports.default=M;
},{"../Entity":"ut18","../Entity/Planet":"PUm7","../Entity/Star":"x+xP","../entityHelpers":"IAoB","../constants":"PH7Q","../Score":"C3sm"}],"Wgra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("pixi.js")),t=n(require("../../Graphics")),i=n(require("../control")),r=require("../../component/gravitate");function n(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}var o=100,l=14,d=1/r.ERROR_MARGIN_LANDING_SPEED2,u=o>>1,f=20+(l>>1),c=new e.Graphics,s=new e.Text("Landing Speed",{fontFamily:"arial",fontSize:12,fill:16777215});s.x=-u,s.y=f,c.addChild(s);var p=!0;function v(){O(),t.default.addChildToHUD(c)}function y(){if(p){var e=i.default.getControlledEntity();if(e){var t=e.dx,r=e.dy;if(!isNaN(t+r)){var n=65280,a=t*t+r*r,s=Math.min(a*d,1),v=s*o;c.beginFill(4473924,1),c.drawRect(-u,14+f,o,l),c.endFill(),s>.3&&(n=8978176),s>.5&&(n=16776960),s>.7&&(n=16746496),s>.9&&(n=16711680),c.beginFill(n,1),c.drawRect(-u,14+f,v,l),c.endFill()}}}}function b(e){c.visible=e,p=e}function O(){c.x=innerWidth>>1,c.y=innerHeight>>1}var g={init:v,update:y,setVisible:b,onResize:O};exports.default=g;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../control":"p4gg","../../component/gravitate":"m9wr"}],"e/gg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=d(require("pixi.js")),t=d(require("../../Graphics")),r=u(require("../../Entity")),i=require("../../entityHelpers"),n=u(require("./SpeedIndicator")),l=u(require("../control")),a=require("../../constants"),o=require("../../Geometry"),s=u(require("../../Graphics/NavBeaconHuman"));function u(e){return e&&e.__esModule?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}var y=Math.pow(300,2),c=new e.Graphics,f=new e.Graphics;f.beginFill(0,0),f.lineStyle(2,16776960,1),f.drawPolygon((0,o.transformPolygon)(a.POINTER,-10,-10)),f.endFill(),f.visible=!1;var p=new e.Graphics;p.beginFill(0,0),p.lineStyle(2,65280,1),p.drawPolygon((0,o.transformPolygon)(a.POINTER,-10,-10)),p.endFill(),p.visible=!1;var v=new e.Graphics;v.beginFill(0,0),v.lineStyle(1,16711680,1),v.drawPolygon((0,o.transformPolygon)(a.POINTER_TARGET,-10,-10)),v.endFill(),v.visible=!1;var g=new e.Graphics;g.beginFill(0,0),g.lineStyle(1.5,65535,1),g.drawPolygon((0,o.transformPolygon)(a.POINTER_NAV,-10,-10)),g.endFill(),g.visible=!1,c.addChild(f,p,v,g);var b,P,O=12,h=12,w=0,x=0,_=0,E=0,T=1;function q(){A(),t.default.addChildToHUD(c)}var D,V=0,F=20;function G(e){if(b&&e&&"Fighter"===e.type){var t=e.isDockedPlanet,r=e.isDockedSpacePort,l=t||r,a=(0,i.getDistSquared)(e,b)<=y;n.default.setVisible(a&&!l)}else n.default.setVisible(!1)}function I(e,r){if(e)if((0,t.isOutsideViewport)(e)){r.visible=!0;var n=e.x-D.x+i.AVOID_DIVZERO_VALUE,l=e.y-D.y+i.AVOID_DIVZERO_VALUE,a=n/l;Math.abs(a)>T?(r.x=n>0?x:-x+O,r.y=1/a*r.x):a<T&&(r.y=l>0?E:-E+h,r.x=a*r.y)}else r.visible=!1}function N(){if(D){var e=l.default.getControlledEntity();0===V?(V=F,b=r.default.getAbsoluteNearestByBodyType(D,"Planet"),P=r.default.getAbsoluteNearestByBodyType(D,"Star"),G(e)):V--,V%2&&(I(b,p),I(P,f),I(s.default.getNavPoint(),g),e&&e.attackTarget?I(e.attackTarget,v):v.visible=!1)}}function A(){w=innerWidth,_=innerHeight,T=w/_,x=w/2,E=_/2,c.x=x,c.y=E}var R=function(e){var t=e.x,r=e.y;return D={x:t,y:r}},S={init:q,update:N,setOrigin:R,onResize:A};exports.default=S;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../../Entity":"ut18","../../entityHelpers":"IAoB","./SpeedIndicator":"Wgra","../control":"p4gg","../../constants":"PH7Q","../../Geometry":"e9yM","../../Graphics/NavBeaconHuman":"4+dV"}],"sL78":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("pixi.js")),t=o(require("../../Entity")),r=o(require("../../Graphics")),a=o(require("../control")),i=require("../../constants"),l=o(require("./RadarGalaxyExpanded")),n=require("../../UI/setClickable"),u=require("../../assets/audio");function o(e){return e&&e.__esModule?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};a.get||a.set?Object.defineProperty(t,r,a):t[r]=e[r]}return t.default=e,t}var d=.3,f=100,s=12,p=12,y=0,b=new e.Graphics;function g(){b.beginFill(0,1),b.lineStyle(1,16777215,d),b.drawRect(0,0,f,f),b.endFill()}b.x=s,b.y=s,(0,n.setClickable)(b,function(){l.default.setVisible(!0),(0,u.playSound)("expand-detail")});var h,O=f/i.MAX_COORDINATE,v=function(e){var t,r,a=e.type,l=e.team;switch(a){case"Planet":r=E,t=4;break;case"Star":r=x,t=2;break;case"Fighter":r=e===h&&y>6?16777215:i.TEAM_COLOR[l],t=2;break;case"Freighter":default:r=q,t=1}var n=e.x*O,u=e.y*O;b.beginFill(0,0),b.lineStyle(1,r,1),b.drawRect(n-t/2,u-t/2,t,t),b.endFill()},x=16776960,E=65280,q=11184810;function F(){h&&(!h.type||h.hp<=0)&&(h=null)}function P(){y>0?y--:(h=a.default.getControlledEntity(),y=p,b.clear(),g(),t.default.getByType("Star").forEach(v),t.default.getByType("Planet").forEach(v),t.default.getByType("Freighter").forEach(v)),t.default.getByType("Fighter").forEach(v),F()}function _(){r.default.addChildToHUD(b)}var j={init:_,update:P};exports.default=j;
},{"pixi.js":"5hn+","../../Entity":"ut18","../../Graphics":"Oi2H","../control":"p4gg","../../constants":"PH7Q","./RadarGalaxyExpanded":"6yS+","../../UI/setClickable":"rVbL","../../assets/audio":"WovT"}],"THOk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("pixi.js")),r=i(require("../../Graphics")),t=require("../../constants"),n=require("../../Geometry");function i(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var a,u,l=new e.Graphics;l.lineStyle(1,16777215,1);var s=.03125,f=.025;function c(){l.x=.5*(innerWidth-l.width),l.y=.5*(innerHeight-l.height)+40}function d(e){l.renderable=e,e&&c()}function p(){l.renderable=!1,r.default.addChildToHUD(l)}a=14,u=0,"game".split("").forEach(function(e){l.drawPolygon((0,n.transformPolygon)(t.LETTERS[e],a,u,s,f)),a+=17}),a=0,u=20,"paused".split("").forEach(function(e){l.drawPolygon((0,n.transformPolygon)(t.LETTERS[e],a,u,s,f)),a+=16});var y={init:p,setVisible:d,onResize:c};exports.default=y;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../../constants":"PH7Q","../../Geometry":"e9yM"}],"JiY9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("pixi.js")),t=r(require("../../Graphics"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}var n=new e.Container,o=8,a=12;function l(){n.x=innerWidth-a,n.y=innerHeight-a+4}var d=[];function f(){for(var r;n.children.length<o;){r=new e.Text("",{fontFamily:"arial",fontSize:12,fill:11184810}),n.addChild(r),d.push();var i=n.children.length-1;n.children[i].y=-20*(i+1)}d=[],h(),t.default.addChildToHUD(n),l()}var u=400,c=u;function h(){n.children.forEach(function(e,t){e.text=d[t],e.x=-e.width})}function s(){c>0?c--:(c=u,d.shift(),h())}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";d.push(e),d.length>o&&d.shift(),h()}var v={init:f,update:s,onResize:l,displayText:p};exports.default=v;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H"}],"5N2o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("pixi.js")),r=i(require("../../Graphics")),t=i(require("../../Score"));function i(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};i.get||i.set?Object.defineProperty(r,t,i):r[t]=e[t]}return r.default=e,r}var a=20,o=12,l=14,d=100,c=new e.Graphics;c.x=o,c.y=2*o+d;var u={fontFamily:"arial",fontSize:12},f=new e.Text("<rank>",Object.assign({},u,{fill:16777215}));c.addChild(f);var s=0;function p(){r.default.addChildToHUD(c)}function v(){if(s>0)s--;else{var e=t.default.getScoreRank(),r=e.rank,i=e.score,n=e.nextRank;f.text=r.name,c.beginFill(4473924,1),c.drawRect(0,l+2,d,l),c.endFill(),c.beginFill(65535,1),c.drawRect(0,l+2,d*((i-r.scoreNeeded)/n.scoreNeeded),l),c.endFill(),s=a}}var O={init:p,update:v};exports.default=O;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../../Score":"C3sm"}],"5cOk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("pixi.js")),t=n(require("../../Graphics")),r=a(require("../control")),o=require("../../constants"),i=require("../../Geometry");function a(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}var l=new e.Graphics;function d(){t.default.addChildToHUD(l)}var s=0;function c(){var e=r.default.getControlledEntity();if(e&&e.attackTarget&&!(0,t.isOutsideViewport)(e.attackTarget)){l.visible=!0;var a=e.attackTarget,n=a.reticleWidth2,d=a.reticleHeight2,c=a.x,f=a.y,u=a.reticleOffsetX,g=void 0===u?0:u,y=a.reticleOffsetY,p=void 0===y?0:y,T=t.default.getSceneCoordFromStageCoord(c,f);if(!n||!d){var v=e.attackTarget.geo.graphics.getBounds();n=10+(v.width>>1),d=10+(v.height>>1)}l.x=T.x+g,l.y=T.y+p,l.clear(),l.beginFill(0,0),l.lineStyle(1,s%6?16711680:65535,1),l.drawPolygon((0,i.transformPolygon)(o.TARGET_RETICLE[0],-n,-d)),l.drawPolygon((0,i.transformPolygon)(o.TARGET_RETICLE[1],n,-d)),l.drawPolygon((0,i.transformPolygon)(o.TARGET_RETICLE[2],n,d)),l.drawPolygon((0,i.transformPolygon)(o.TARGET_RETICLE[3],-n,d)),l.endFill(),s++}else l.visible=!1,s=0}var f={init:d,update:c};exports.default=f;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../control":"p4gg","../../constants":"PH7Q","../../Geometry":"e9yM"}],"1FMU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("pixi.js")),r=n(require("../../Graphics")),t=require("../../constants");function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};n.get||n.set?Object.defineProperty(r,t,n):r[t]=e[t]}return r.default=e,r}var o=new e.Container,a=4,l=12;function d(){o.x=l,o.y=innerHeight-l+4}function u(){for(var n;o.children.length<a;){n=new e.Text("",{fontFamily:"arial",fontSize:12,fill:t.TEAM_COLOR[t.TEAM.MAGENTA]}),o.addChild(n);var i=o.children.length-1;o.children[i].y=-20*(i+1)}r.default.addChildToHUD(o),d()}var c=" ".repeat(a).split("");function f(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,r=a-1;r>=0;r--)o.children[r].text=e[a-r-1]||""}var s={init:u,clear:function(){return f()},onResize:d,displayText:f};exports.default=s;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H","../../constants":"PH7Q"}],"ACUy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=p(require("./UnitDisplay")),t=p(require("./WeaponsDisplay")),a=p(require("./Pointers")),i=p(require("./RadarGalaxy")),u=p(require("./PauseStatus")),d=p(require("./TextContainer")),l=p(require("./RadarGalaxyExpanded")),n=require("../../constants"),r=p(require("./SpeedIndicator")),f=p(require("./ScoreRankDisplay")),s=p(require("./Reticles")),o=p(require("./CommandTextContainer"));function p(e){return e&&e.__esModule?e:{default:e}}function c(n){a.default.init(),i.default.init(),e.default.init(),t.default.init(),r.default.init(),f.default.init(),d.default.init(),l.default.init(n),o.default.init(),u.default.init(),s.default.init()}function q(){r.default.update(),d.default.update(),i.default.update(),a.default.update(),e.default.update(),t.default.update(),f.default.update(),l.default.update(),s.default.update()}function x(){a.default.onResize(),l.default.onResize(),r.default.onResize(),d.default.onResize(),o.default.onResize(),u.default.onResize()}function R(e,t){(0,n.isHumanTeam)(e)&&d.default.displayText(t)}var y={init:c,update:q,displayText:R,onResize:x,displayCommandText:o.default.displayText,setFocus:a.default.setOrigin,setPauseVisible:u.default.setVisible};exports.default=y;
},{"./UnitDisplay":"xOcb","./WeaponsDisplay":"hkN1","./Pointers":"e/gg","./RadarGalaxy":"sL78","./PauseStatus":"THOk","./TextContainer":"JiY9","./RadarGalaxyExpanded":"6yS+","../../constants":"PH7Q","./SpeedIndicator":"Wgra","./ScoreRankDisplay":"5N2o","./Reticles":"5cOk","./CommandTextContainer":"1FMU"}],"j5iw":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Entity")),t=r(require("../Random")),a=r(require("../GameScreen/HUD"));function r(e){return e&&e.__esModule?e:{default:e}}var u={Freighter:{cost:800,time:1500},Fighter:{cost:500,time:100}},i={orderManufacture:n,isManufacturing:!1,manufactureTime:0,manufactureType:void 0};function n(e){this.isManufacturing||(this.isManufacturing=!0,this.manufactureTime=u[e].time,this.manufactureType=e,a.default.displayText(this.team,"Manufacturing new ".concat(e,".")))}function c(r){if(r.isManufacturing){var u=r.planet,i=r.team;if(r.planet.pbase&&r.planet.pbase.materialsFinished>=r.PRODUCT[r.manufactureType].cost)if(r.manufactureTime>0)r.manufactureTime--;else{var n=r.x+t.default.int(-20,20),c=r.y+t.default.int(-20,20),f=e.default.create(r.manufactureType,{x:n,y:c,team:i});"Fighter"===r.manufactureType?u.spaceport&&!u.spaceport.isCarryingFighter?f.dockSpacePort(u.spaceport):f.dockPlanet(u):"Freighter"===r.manufactureType&&f.enterPlanetOrbit(u),a.default.displayText(i,"New ".concat(f.type," manufactured.")),r.isManufacturing=!1,r.manufactureType=void 0}}}var f={componentFlag:"canManufacture",DEFAULTS:i,process:c};exports.default=f;
},{"../Entity":"ut18","../Random":"ozFQ","../GameScreen/HUD":"ACUy"}],"e99x":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={MINE_RATE:25,MINE_TIME:20,mineTime:20};function i(e){e.mineTime>0?e.mineTime--:(e.mineTime=e.MINE_TIME,e.planet.materialsRaw+=e.MINE_RATE)}var t={componentFlag:"canMine",DEFAULTS:e,process:i};exports.default=t;
},{}],"eCDI":[function(require,module,exports) {

"use strict";function e(e){e.hp--}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={componentFlag:"canMetabolize",process:e};exports.default=t;
},{}],"i/fp":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../constants"),t={dx:0,dy:0};function o(t){t.isDockedPlanet||(t.x+=t.dx,t.y+=t.dy,0!==t.x&&t.x!==e.MAX_COORDINATE||(t.dx=0),0!==t.y&&t.y!==e.MAX_COORDINATE||(t.dy=0))}var d={componentFlag:"canMoveLinearly",DEFAULTS:t,process:o};exports.default=d;
},{"../constants":"PH7Q"}],"JwEl":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../entityHelpers"),e={TURN_RATE:.07,SPEED:2.5,DIST_HALT2:Math.pow(80,2)},a=Math.pow(200,2);function o(e){var a=e.rotation,o=(0,t.getAngleFromTo)(e,e.colonizationTarget),n=Math.abs(o-a);return n>Math.PI?a>0?e.rotation+=e.TURN_RATE:e.rotation-=e.TURN_RATE:n>e.TURN_RATE?a>o?e.rotation-=e.TURN_RATE:e.rotation+=e.TURN_RATE:e.rotation=o,a=e.rotation}function n(e){var n=e.isOrbitingPlanet,r=e.colonizationTarget,i=e.DIST_HALT2;if(!n&&r){var T=(0,t.getDistSquared)(e,r);if("Planet"===r.type&&(i=a),T>i){var l=o(e);e.x+=Math.cos(l)*e.SPEED,e.y+=Math.sin(l)*e.SPEED,e.flameOn&&e.flameOn()}else"Planet"===r.type&&e.canOrbitPlanet&&e.enterPlanetOrbit(r),e.flameOff&&e.flameOff()}}var r={componentFlag:"canMoveToColonizationTarget",DEFAULTS:e,process:n};exports.default=r;
},{"../entityHelpers":"IAoB"}],"9SDO":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a={HARVEST_RATE_RAW:35,HARVEST_RATE_FINISHED:25,HARVEST_TIME:10,harvestTime:0};function e(a){a.harvestTime>0?a.harvestTime--:(a.harvestTime=a.HARVEST_TIME,a.planet.materialsRaw>0&&a.materialsRaw<a.MAX_RAW_MATERIALS&&(a.MAX_RAW_MATERIALS-a.materialsRaw<a.HARVEST_RATE_RAW?(a.planet.materialsRaw=0,a.materialsRaw+=a.MAX_RAW_MATERIALS-a.materialsRaw):(a.planet.materialsRaw-=a.HARVEST_RATE_RAW,a.materialsRaw+=a.HARVEST_RATE_RAW)),a.planet.materialsFinished>0&&a.materialsFinished<a.MAX_FINISHED_MATERIALS&&(a.MAX_FINISHED_MATERIALS-a.materialsFinished<a.HARVEST_RATE_FINISHED?(a.planet.materialsFinished=0,a.materialsFinished+=a.MAX_FINISHED_MATERIALS-a.materialsFinished):(a.planet.materialsFinished-=a.HARVEST_RATE_FINISHED,a.materialsFinished+=a.HARVEST_RATE_FINISHED)))}var A={componentFlag:"canHarvest",DEFAULTS:a,process:e};exports.default=A;
},{}],"NWZ4":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={MAX_RAW_MATERIALS:3e3,MAX_FINISHED_MATERIALS:2e3,materialsRaw:0,materialsFinished:0};function t(){}var a={componentFlag:"canStoreMaterial",DEFAULTS:e,process:t};exports.default=a;
},{}],"2tVC":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={REPAIR_COST_FINISHED:25,REPAIR_TIME:30,repairTime:0};function i(e){e.hp<e.maxHp&&e.materialsFinished>e.REPAIR_COST_FINISHED&&e.materialsFinished>0&&(e.repairTime>0?e.repairTime--:(e.hp++,e.materialsFinished-=e.REPAIR_COST_FINISHED,e.repairTime=e.REPAIR_TIME))}var r={componentFlag:"canRepair",DEFAULTS:e,process:i};exports.default=r;
},{}],"Pz0T":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Entity"));function r(e){return e&&e.__esModule?e:{default:e}}var t={anchorOffsetX:0,anchorOffsetY:0};function o(r){r.anchor.hp>0?(r.x=r.anchor.x+r.anchorOffsetX,r.y=r.anchor.y+r.anchorOffsetY):e.default.destroy(r)}var n={DEFAULTS:t,componentFlag:"canAnchor",process:o};exports.default=n;
},{"../Entity":"ut18"}],"sJ7F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={shield:null},t={DEFAULTS:e,componentFlag:"canBeShielded"};exports.default=t;
},{}],"6tCR":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={REFINE_RATE_RAW_TO_FINISHED:.5};function a(e){e.materialsFinished<e.MAX_FINISHED_MATERIALS?e.materialsRaw>0&&(e.materialsFinished+=e.REFINE_RATE_RAW_TO_FINISHED,e.materialsFinished>e.MAX_FINISHED_MATERIALS&&(e.planet.materialsFinished+=e.materialsFinished-e.MAX_FINISHED_MATERIALS,e.materialsFinished=e.MAX_FINISHED_MATERIALS),e.materialsRaw--):e.materialsRaw>0&&(e.planet.materialsFinished+=e.REFINE_RATE_RAW_TO_FINISHED,e.materialsRaw--)}var i={componentFlag:"canRefine",DEFAULTS:e,process:a};exports.default=i;
},{}],"694C":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Entity"));function t(e){return e&&e.__esModule?e:{default:e}}var o=8e3,r={constructionTime:8e3},a=[{type:"PLab",cost:200},{type:"PComm",cost:300},{type:"SpacePort",cost:1e3,prerequisite:"PColony"},{type:"SpaceDock",cost:500,prerequisite:"SpacePort",occupation:"SpacePort"},{type:"SensorArray",cost:500,prerequisite:"SpacePort",occupation:"SpacePort"}];function i(t){var o=this.team,r=this.planet,a=t.type.toLowerCase(),i=!0;return t.prerequisite&&(i=Boolean(this.planet[t.prerequisite.toLowerCase()])),!!(!this.planet[a]&&this.materialsFinished>=t.cost&&i)&&("SpacePort"===t.occupation?this.planet[a]=e.default.create(t.type,{spaceport:this.planet.spaceport,planet:r,team:o}):this.planet[a]=e.default.create(t.type,{planet:r,team:o}),this.materialsFinished-=t.cost,!0)}function s(e){e.materialsFinished>0&&(e.constructionTime>0?e.constructionTime--:(a.some(i.bind(e)),e.constructionTime=o))}var c={componentFlag:"canConstruct",DEFAULTS:r,process:s};exports.default=c;
},{"../Entity":"ut18"}],"PuOA":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../assets/audio"),t=a(require("../Entity")),o=a(require("../Random")),i=require("../constants");function a(e){return e&&e.__esModule?e:{default:e}}function l(){var a=this.EXPLOSION_SOUND,l=this.EXPLOSION_FRAGMENTS,s=this.x,d=this.y,r=this.dx,n=this.dy,u=this.explosionOriginDx,x=this.explosionOriginDy;(0,e.playSoundLocalized)(a,this);for(var p=l;p>0;p--)t.default.create("CannonShot",{x:u+s+o.default.float(-10,10),y:x+d+o.default.float(-10,10),team:i.TEAM.NONE,dx:o.default.float(-2,2)+(r||0),dy:o.default.float(-2,2)+(n||0)});this.hasExploded=!0}var s={explosionOriginDx:0,explosionOriginDy:0,EXPLOSION_SOUND:"collide",EXPLOSION_FRAGMENTS:6,hasExploded:!1,explode:l};function d(e){var t=e.hasExploded,o=e.canExplode;e.hp<=0&&!t&&o&&l.call(e)}var r={componentFlag:"canExplode",DEFAULTS:s,process:d};exports.default=r;
},{"../assets/audio":"WovT","../Entity":"ut18","../Random":"ozFQ","../constants":"PH7Q"}],"CNuv":[function(require,module,exports) {

"use strict";function e(e){e.x=e.planet.x,e.y=e.planet.y}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={componentFlag:"canOccupyPlanet",process:e};exports.default=t;
},{}],"RMs3":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Entity"));function t(e){return e&&e.__esModule?e:{default:e}}function o(t){var o=t.spaceport,r=o.x,a=o.y,p=o.rotation;o.hp>0?(t.x=r,t.y=a,t.rotation=p):(t.explode&&t.explode(),e.default.destroy(t))}var r={componentFlag:"canOccupySpacePort",process:o};exports.default=r;
},{"../Entity":"ut18"}],"rMbS":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={D_ROTATION:1e-4,orbitDistance:1800,orbitRotation:0};function o(t){t.orbitRotation+=t.D_ROTATION,t.x=Math.cos(t.orbitRotation)*t.orbitDistance+t.star.x,t.y=Math.sin(t.orbitRotation)*t.orbitDistance+t.star.y}var i={componentFlag:"canOrbitStar",DEFAULTS:t,process:o};exports.default=i;
},{}],"BjhP":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../entityHelpers");function i(i){this.isOrbitingPlanet=!0,this.dx=0,this.dy=0,this.orbitRotation=(0,t.getAngleFromTo)(i,this),this.rotation=this.orbitRotation+o,this.planet=i,this.flameOff&&this.flameOff()}function e(){this.isOrbitingPlanet=!1,this.planet=void 0,this.flameOn&&this.flameOn()}var n={enterPlanetOrbit:i,exitPlanetOrbit:e,isOrbitingPlanet:!0,D_ROTATION:1e-4,orbitDistance:105,orbitRotation:0},o=.5*Math.PI;function a(i){i.isOrbitingPlanet&&i.planet&&("SpacePort"===i.type?i.rotation=(0,t.getAngleFromTo)(i.planet,i):"Freighter"===i.type&&(i.rotation+=i.D_ROTATION),i.orbitRotation+=i.D_ROTATION,i.x=Math.cos(i.orbitRotation)*i.orbitDistance+i.planet.x,i.y=Math.sin(i.orbitRotation)*i.orbitDistance+i.planet.y)}var r={componentFlag:"canOrbitPlanet",DEFAULTS:n,process:a};exports.default=r;
},{"../entityHelpers":"IAoB"}],"1STg":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../assets/audio"),t=i(require("../Entity")),a=require("../Geometry");function i(e){return e&&e.__esModule?e:{default:e}}var r={damageHp:1};function s(i){var r=this.team,s=this.damageHp;return!(i.team===r||!(0,a.testPointInEntity)(this,i))&&((0,e.playSoundLocalized)(i.AUDIO_HIT||"hit",this),i.hp-=s,i.lastDamagedByTeam=r,i.hitTime=10,t.default.destroy(this),!0)}function o(e){t.default.getNearestUnits(e).some(s.bind(e))}var n={componentFlag:"canDamage",DEFAULTS:r,process:o};exports.default=n;
},{"../assets/audio":"WovT","../Entity":"ut18","../Geometry":"e9yM"}],"DNUE":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../Entity")),a=require("../assets/audio");function n(t){return t&&t.__esModule?t:{default:t}}var e=5;function o(a){var n=this.team,o=a(this),i=o.rotation,r=o.x,s=o.y,d=Math.cos(i)*e,u=Math.sin(i)*e,c=this.dx||0,l=this.dy||0;t.default.create("CannonShot",{team:n,x:r+this.x-c,y:s+this.y-l,dx:d+c,dy:u+l})}var i={lastShotTime_Cannon:0,reloadTime_Cannon:100},r="fire";function s(t){var n=t.isAttacking,e=t.attackWeapon;if(n&&"Cannon"===e){var i=Date.now();i-t.lastShotTime_Cannon>=t.reloadTime_Cannon&&(t.attackTurretPositions.forEach(o.bind(t)),(0,a.playSoundLocalized)(r,t),t.lastShotTime_Cannon=i)}}var d={componentFlag:"canShootCannon",DEFAULTS:i,process:s};exports.default=d;
},{"../Entity":"ut18","../assets/audio":"WovT"}],"anqP":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var a=t(require("../Entity")),e=require("../assets/audio");function t(a){return a&&a.__esModule?a:{default:a}}var n=6;function o(e){var t=this.team,o=e(this),i=o.rotation,r=o.x,s=o.y,d=Math.cos(i)*n,u=Math.sin(i)*n,v=this.dx||0,y=this.dy||0;a.default.create("HeavyCannonShot",{team:t,x:r+this.x-v,y:s+this.y-y,dx:d+v,dy:u+y})}var i={lastShotTime_HeavyCannon:0,reloadTime_HeavyCannon:120},r="fire";function s(a){var t=a.isAttacking,n=a.attackWeapon;if(t&&"HeavyCannon"===n){var i=Date.now();i-a.lastShotTime_HeavyCannon>=a.reloadTime_HeavyCannon&&(a.attackTurretPositions.forEach(o.bind(a)),(0,e.playSoundLocalized)(r,a),a.lastShotTime_HeavyCannon=i)}}var d={componentFlag:"canShootHeavyCannon",DEFAULTS:i,process:s};exports.default=d;
},{"../Entity":"ut18","../assets/audio":"WovT"}],"AQPl":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Entity")),a=require("../assets/audio");function e(t){return t&&t.__esModule?t:{default:t}}var o=10;function r(a){for(var e=this.team,r=this.range_LaserBolt,s=a(this),i=s.rotation,l=s.x,m=s.y,n=Math.cos(i)*o,L=Math.sin(i)*o,_=this.dx||0,h=this.dy||0,B=r;B>0;B--)t.default.create("LaserBolt",{team:e,rotation:i,x:l+this.x-_+n*B,y:m+this.y-h+L*B})}function s(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ammo_LaserBolt<this.ammoMax_LaserBolt&&((0,a.playSound)("empty"),t?this.ammo_LaserBolt++:this.ammo_LaserBolt=this.ammoMax_LaserBolt)}var i={reload_LaserBolt:s,range_LaserBolt:20,ammo_LaserBolt:4,ammoMax_LaserBolt:4,lastShotTime_LaserBolt:0,reloadTime_LaserBolt:1e3},l="laser";function m(t){var e=t.isAttacking,o=t.attackWeapon,s=t.ammo_LaserBolt;if(e&&"LaserBolt"===o){var i=Date.now();i-t.lastShotTime_LaserBolt>=t.reloadTime_LaserBolt&&s>0&&(t.attackTurretPositions.forEach(r.bind(t)),(0,a.playSoundLocalized)(l,t),t.ammo_LaserBolt--,t.lastShotTime_LaserBolt=i)}}var n={componentFlag:"canShootLaserBolt",DEFAULTS:i,process:m};exports.default=n;
},{"../Entity":"ut18","../assets/audio":"WovT"}],"FynP":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=t(require("../Entity")),s=require("../assets/audio");function t(i){return i&&i.__esModule?i:{default:i}}var o=4;function e(s){var t=this.attackTarget,e=this.team,a=s(this),m=a.rotation,n=a.x,l=a.y,r=Math.cos(m)*o,M=Math.sin(m)*o,g=this.dx||0,h=this.dy||0;i.default.create("HomingMissile",{team:e,attackTarget:t,rotation:m,x:n+this.x-g,y:l+this.y-h,dx:r+g,dy:M+h})}function a(){var i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ammo_HomingMissile<this.ammoMax_HomingMissile&&((0,s.playSound)("empty"),i?this.ammo_HomingMissile++:this.ammo_HomingMissile=this.ammoMax_HomingMissile)}var m=300,n={reload_HomingMissile:a,lastShotTime_HomingMissile:0,ammo_HomingMissile:40,ammoMax_HomingMissile:40},l="missile";function r(i){var t=i.isAttacking,o=i.ammo_HomingMissile,a=i.attackWeapon;if(t&&"HomingMissile"===a){var n=Date.now();n-i.lastShotTime_HomingMissile>=m&&o>0&&(i.attackTurretPositions.forEach(e.bind(i)),i.lastShotTime_HomingMissile=n,i.ammo_HomingMissile--,(0,s.playSoundLocalized)(l,i))}}var M={componentFlag:"canShootHomingMissile",DEFAULTS:n,process:r};exports.default=M;
},{"../Entity":"ut18","../assets/audio":"WovT"}],"+5Bh":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Entity")),e=require("../assets/audio");function o(t){return t&&t.__esModule?t:{default:t}}var a=2.5;function s(e){var o=this.team,s=e(this),r=s.rotation,i=s.x,l=s.y,u=Math.cos(r)*a,c=Math.sin(r)*a,m=this.dx||0,n=this.dy||0;t.default.create("ClusterRocket",{rotation:r,team:o,x:i+this.x-m,y:l+this.y-n,dx:u+m,dy:c+n})}function r(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.ammo_ClusterRocket<this.ammoMax_ClusterRocket&&((0,e.playSound)("empty"),t?this.ammo_ClusterRocket++:this.ammo_ClusterRocket=this.ammoMax_ClusterRocket)}var i={reload_ClusterRocket:r,lastShotTime_ClusterRocket:0,reloadTime_ClusterRocket:600,ammo_ClusterRocket:8,ammoMax_ClusterRocket:8},l="bomb-release";function u(t){var o=t.isAttacking,a=t.attackWeapon,r=t.ammo_ClusterRocket;if(o&&"ClusterRocket"===a){var i=Date.now();i-t.lastShotTime_ClusterRocket>=t.reloadTime_ClusterRocket&&r>0&&(t.attackTurretPositions.forEach(s.bind(t)),t.lastShotTime_ClusterRocket=i,t.ammo_ClusterRocket--,(0,e.playSoundLocalized)(l,t))}}var c={componentFlag:"canShootClusterRocket",DEFAULTS:i,process:u};exports.default=c;
},{"../Entity":"ut18","../assets/audio":"WovT"}],"6KXu":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={MAX_SPEED:40,MAX_SPEED2:Math.pow(40,2)};function t(e){var t=Math.pow(e.dx,2)+Math.pow(e.dy,2);if(t>e.MAX_SPEED2){var o=e.MAX_SPEED*Math.pow(t,-.5);e.dx*=o,e.dy*=o}}var o={componentFlag:"canLimitSpeed",DEFAULTS:e,process:t};exports.default=o;
},{}],"11Qu":[function(require,module,exports) {
"use strict";function t(t){this.dx+=Math.cos(this.rotation)*t,this.dy+=Math.sin(this.rotation)*t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={accelerate:t},o={componentFlag:"canAccelerate",DEFAULTS:e};exports.default=o;
},{}],"eOVm":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=.26;function a(a){if(a.delayBeforeTracking>0)a.delayBeforeTracking--;else{var t=a.attackTarget;if(t){var r=t.x,o=t.y;a.x>r?a.dx-=e:a.x<r&&(a.dx+=e),a.y>o?a.dy-=e:a.y<o&&(a.dy+=e),a.rotation=Math.atan2(a.dy,a.dx)}}}var t={delayBeforeTracking:5},r={componentFlag:"canAccelerateToAttackTarget",DEFAULTS:t,process:a};exports.default=r;
},{}],"jeCq":[function(require,module,exports) {
"use strict";function e(e,r){for(var t=0;t<e.length;t++)if(!e[t](r))return!1;return!0}function r(e,r){for(var t=0;t<e.length;t++)if(e[t](r))return!0;return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.evalSequence=e,exports.evalSelector=r;
},{}],"XgTb":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../constants"),a=require("../entityHelpers"),e=require("../behaviorTreeHelper"),r=.1,o=2*t.ROTATION_RATE_FIGHTER,i=Math.PI/t.ROTATION_RATE_FIGHTER,s=Math.pow(500,2),c=Math.pow(400,2),n=Math.pow(200,2)/1.4,h=5,M=.01;function l(t,a){var e=a-t.rotation;Math.abs(e)>Math.PI&&(a>Math.PI?a-=2*Math.PI:a<-Math.PI&&(a+=2*Math.PI),e=a-t.rotation),Math.abs(e)>=M&&(e>0?t.rotation+=o:t.rotation-=o)}function u(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.ACCELERATION_FIGHTER;a.accelerate(e),a.flameOn()}function A(a){var e=a.isDockedPlanet,r=a.isDockedSpacePort,o=a.isFighterPreviouslyDocked;if(e)return a.isFighterPreviouslyDocked=!0,a.undockPlanet(),u(a,2*t.ACCELERATION_FIGHTER_UNDOCK+t.ACCELERATION_FIGHTER),!0;if(r)return a.isFighterPreviouslyDocked=!0,a.undockSpacePort(),u(a,t.ACCELERATION_FIGHTER_UNDOCK+t.ACCELERATION_FIGHTER),!0;var i=a.dx,s=a.dy,c=Math.pow(i,2)+Math.pow(s,2);return!!(o&&c<9)&&(u(a),!0)}function T(e){var o,M,A=e.attackTarget,T=e.dx,I=e.dy,E=(0,a.getDistSquared)(e,A),d=Math.pow(T,2)+Math.pow(I,2);M="PBase"===A.type?c:s;var v=(0,a.getAngleFromTo)(e,A),g=Math.atan2(I,T);if(e.isFighterPreviouslyDocked=!1,e.isAttacking=!1,E<n/d)o=v-Math.PI;else if(E<M){var p=5*Math.cos(v),F=5*Math.sin(v);o=Math.atan2(F-I,p-T),e.isAttacking=Math.abs(o-e.rotation)<r}else{var P=Math.sqrt(Math.sqrt(E)/t.ACCELERATION_FIGHTER)+i+h;o=Math.sqrt(E/d)<P?g+Math.PI:v}l(e,o),!e.isAttacking&&Math.abs(Math.cos(o)-Math.cos(e.rotation))<r&&u(e)}var I=[A,T];function E(t){var a=t.attackTarget;t.flameOff(),a&&(a.hp>0?(0,e.evalSelector)(I,t):(t.attackTarget=null,t.isAttacking=!1))}function d(t){t.isFighterAutoAccelerated&&E(t)}var v={isFighterPreviouslyDocked:!1,isFighterAutoAccelerated:!0},g={componentFlag:"canAccelerateFighterToAttackTarget",DEFAULTS:v,process:d};exports.default=g;
},{"../constants":"PH7Q","../entityHelpers":"IAoB","../behaviorTreeHelper":"jeCq"}],"JEmE":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={hitTime:-1};function t(e){e.renderHit&&e.renderHit()}var r={componentFlag:"canDisplayHit",DEFAULTS:e,process:t};exports.default=r;
},{}],"Nhiw":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../entityHelpers"),e=require("../constants"),a=o(require("../Score"));function o(t){return t&&t.__esModule?t:{default:t}}function i(o){this.isDockedPlanet=!0,this.dx=0,this.dy=0,this.rotation=(0,t.getAngleFromTo)(o,this),this.planet=o,o.isOccupied()||o.team==this.team||((0,e.isHumanTeam)(this.team)&&a.default.add(20),o.team=this.team,o.updateFlagColor())}function n(){this.isDockedPlanet=!1,this.planet=void 0}var s=105,r={isDockedPlanet:!1,dockPlanet:i,undockPlanet:n};function l(t){t.isDockedPlanet&&(t.x=Math.cos(t.rotation)*s+t.planet.x,t.y=Math.sin(t.rotation)*s+t.planet.y)}var c={componentFlag:"canDockPlanet",DEFAULTS:r,process:l};exports.default=c;
},{"../entityHelpers":"IAoB","../constants":"PH7Q","../Score":"C3sm"}],"9Qen":[function(require,module,exports) {

"use strict";function t(t){this.isDockedSpacePort=!0,this.dx=0,this.dy=0,this.rotation=t.rotation,this.spaceport=t,this.spaceport.fighter=this,this.spaceport.isCarryingFighter=!0}function o(){this.isDockedSpacePort=!1,this.spaceport.fighter=null,this.spaceport.isCarryingFighter=!1,this.spaceport=null,this.x+=Math.cos(this.rotation),this.y+=Math.cos(this.rotation)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i=211,s={spaceport:null,isDockedSpacePort:!1,dockSpacePort:t,undockSpacePort:o};function r(t){var o=t.isDockedSpacePort,s=t.spaceport;o&&(t.rotation=s.rotation,t.x=Math.cos(t.rotation)*i+s.planet.x,t.y=Math.sin(t.rotation)*i+s.planet.y)}var e={componentFlag:"canDockSpacePort",DEFAULTS:s,process:r};exports.default=e;
},{}],"BQbr":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../assets/audio"),e=i(require("../Entity")),r=require("../Geometry"),a=require("../constants");function i(t){return t&&t.__esModule?t:{default:t}}var o={fighter:null,isCarryingFighter:!1},n=Math.pow(8,2),s=.1;function u(e){var i=e.dx,o=e.dy,u=e.type,c=e.team,d=e.canDockSpacePort,h=e.rotation,p=e.isDockedSpacePort;if("Fighter"===u&&c===this.team&&d&&!p&&(0,r.testPointInEntity)(e,this)&&Math.abs(Math.cos(h)-Math.cos(this.rotation))<s&&Math.pow(i,2)+Math.pow(o,2)<=n)return(0,a.isHumanTeam)(c)&&(0,t.playSound)("repaired"),e.dockSpacePort(this),!0;return!1}function c(t){t.isCarryingFighter||e.default.getNearestUnits(t).some(u.bind(t))}var d={componentFlag:"canCarryFighter",DEFAULTS:o,process:c};exports.default=d;
},{"../assets/audio":"WovT","../Entity":"ut18","../Geometry":"e9yM","../constants":"PH7Q"}],"28eo":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Entity")),a=require("../assets/audio"),t=n(require("../GameScreen/HUD")),i=require("../constants"),l=n(require("../Score"));function n(e){return e&&e.__esModule?e:{default:e}}function s(t){var n=t.planet,s=t.team;(0,i.isHumanTeam)(s)&&((0,a.playSound)("nav"),l.default.add(200)),n.pbase=e.default.create("PBase",{x:n.x,y:n.y,planet:n,team:s}),t.canExplode=!1,e.default.destroy(t)}function o(t){var n=t.planet,s=t.team;(0,i.isHumanTeam)(s)&&((0,a.playSound)("nav"),l.default.add(20)),n.pcolony=e.default.create("PColony",{x:n.x,y:n.y,planet:n,team:s}),t.canExplode=!1,e.default.destroy(t)}function r(t){var n=t.planet,s=t.team,o=t.orbitRotation;(0,i.isHumanTeam)(s)&&((0,a.playSound)("nav"),l.default.add(50)),n.spaceport=e.default.create("SpacePort",{x:n.x,y:n.y,planet:n,team:s}),n.spaceport.enterPlanetOrbit(n),n.spaceport.orbitRotation=o,t.canExplode=!1,e.default.destroy(t)}var d=600,p={MAX_MATERIALS_FINISHED:500,colonizationTarget:null};function u(a){var t=a.planet.pbase;if(0===t.materialsFinished){t.materialsFinished+=a.materialsFinished,a.materialsFinished=0;var i=0;t.materialsFinished>t.MAX_FINISHED_MATERIALS?(i=t.materialsFinished-t.MAX_FINISHED_MATERIALS,t.materialsFinished=t.MAX_MATERIALS_FINISHED,a.materialsFinished=i,a.unloadSupply()):(a.canExplode=!1,e.default.destroy(a))}else if(a.planet.materialsFinished>0&&a.materialsFinished<a.MAX_MATERIALS_FINISHED){var l=a.MAX_MATERIALS_FINISHED-a.materialsFinished;l>=a.planet.materialsFinished?(a.materialsFinished+=a.planet.materialsFinished,a.planet.materialsFinished=0):(a.materialsFinished+=l,a.planet.materialsFinished-=l),a.loadSupply()}}function c(e){var a=e.colonizationTarget,i=e.isOrbitingPlanet,l=e.planet,n=e.team;a&&i&&l&&(l.team===n?e.materialsFinished>0&&(void 0===e.supplyTime?e.supplyTime=d:e.supplyTime>0?e.supplyTime--:0===e.supplyTime&&(l.pbase?l.pcolony?l.spaceport?(u(e),e.colonizationTarget=null):(r(e),t.default.displayText(n,"Colonization successful: SpacePort secured.")):(o(e),t.default.displayText(n,"Colonization successful: Colony secured.")):(s(e),t.default.displayText(n,"Colonization successful: PBase secured.")))):a.isOccupied()||(a.team=n,a.updateFlagColor()))}var m={componentFlag:"canColonizePlanet",DEFAULTS:p,process:c};exports.default=m;
},{"../Entity":"ut18","../assets/audio":"WovT","../GameScreen/HUD":"ACUy","../constants":"PH7Q","../Score":"C3sm"}],"78aJ":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var i={isShimmering:!0,isShimmerBlink:!1,shimmerTime:3,shimmerTimeMax:3,shimmerBlinkColor:16777215,shimmerNormalColor:16711935};function m(i){if(i.isShimmering){var m=i.shimmerBlinkColor,e=i.shimmerNormalColor,r=i.shimmerTime,s=i.shimmerTimeMax,o=i.isShimmerBlink;r>0?i.shimmerTime--:(i.shimmerTime=s,i.isShimmerBlink=!o),i.geo.graphics.tint=o?m:e}else i.geo.graphics.tint=i.shimmerNormalColor}var e={componentFlag:"canShimmer",DEFAULTS:i,process:m};exports.default=e;
},{}],"CKlk":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("../Entity")),t=l(require("../Random")),i=require("../assets/audio"),a=l(require("../GameScreen/HUD")),n=require("../constants");function l(e){return e&&e.__esModule?e:{default:e}}var p={HeavyCannon:.6,ClusterRocket:.3,HomingMissile:.4,LaserBolt:.2,Shield:.7},o=function(e){return"Shield"===e},u={developEquipment_installTimeMax:150,developEquipment_installTime:150,developEquipment_timeMax:2e3,developEquipment_time:2e3,developEquipment_equipmentReady:""};function d(l){var u=l.developEquipment_time,d=l.developEquipment_installTime,m=l.developEquipment_installTimeMax,s=l.developEquipment_timeMax,r=l.developEquipment_equipmentReady,c=l.team;if(Boolean(r))if(l.isShimmering=!0,d>0)l.developEquipment_installTime--;else{var q=e.default.getNearestUnits(l).find(function(e){return e.team===c&&(e.isDockedPlanet&&e.planet===l.planet||e.isDockedSpacePort&&e.spaceport===l.planet.spaceport)});q&&(o(r)&&!q.shield?(q.shield=e.default.create("Shield",{team:c,anchor:q}),l.developEquipment_equipmentReady="",(0,n.isHumanTeam)(c)&&((0,i.playSound)("install"),q.isFighterAutoAccelerated||a.default.displayText(c,"".concat(r," installed.")))):"Cannon"===q.attackWeapon&&(q.attackWeapon=r,l.developEquipment_equipmentReady="",(0,n.isHumanTeam)(c)&&((0,i.playSound)("install"),q.isFighterAutoAccelerated||a.default.displayText(c,"".concat(r," installed."))))),l.developEquipment_installTime=m}else if(l.isShimmering=!1,u>0)l.developEquipment_time--;else{l.developEquipment_time=s;var v=t.default.arrayElement(Object.keys(p));Math.random()<p[v]&&(l.developEquipment_equipmentReady=v,(0,n.isHumanTeam)(c)&&((0,i.playSound)("develop"),a.default.displayText(c,"New equipment: ".concat(v," available."))))}}var m={componentFlag:"canDevelopEquipment",DEFAULTS:u,process:d};exports.default=m;
},{"../Entity":"ut18","../Random":"ozFQ","../assets/audio":"WovT","../GameScreen/HUD":"ACUy","../constants":"PH7Q"}],"Wk/9":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../Entity")),e=require("../entityHelpers");function n(t){return t&&t.__esModule?t:{default:t}}var o=Math.pow(20,2),r=5,a=5,i=2.5,c={flockPoint:null};function u(n){t.default.getNearestUnits(n).filter(function(t){return t.canFlock&&t!==n}).forEach(function(t){var a=(0,e.getDistSquared)(n,t);if(a<o){var i=-r;a<6&&(i*=4),n.dx+=(t.x-n.x)*i,n.dy+=(t.y-n.y)*i}})}function f(t){var n=t.flockPoint;if(n){var o=(0,e.getAngleFromTo)(t,n);t.dx+=a*Math.cos(o),t.dy+=a*Math.sin(o)}}function l(t){var e=t.dx,n=t.dy,o=Math.atan2(n,e);t.rotation=o,t.dx=Math.cos(o)*i,t.dy=Math.sin(o)*i}function d(t){t.canMoveLinearly&&(u(t),f(t),l(t))}var s={componentFlag:"canFlock",DEFAULTS:c,process:d};exports.default=s;
},{"../Entity":"ut18","../entityHelpers":"IAoB"}],"3ShI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=R(require("../Entity")),r=R(require("./attack")),a=R(require("./autoTargetEnemy")),t=R(require("./manufacture")),u=R(require("./mine")),i=R(require("./metabolize")),l=R(require("./moveLinearly")),o=R(require("./moveToColonizationTarget")),d=R(require("./harvest")),f=R(require("./storeMaterials")),n=R(require("./repair")),c=R(require("./anchor")),q=R(require("./beShielded")),s=R(require("./refine")),m=R(require("./construct")),p=R(require("./explode")),h=R(require("./occupyPlanet")),T=R(require("./occupySpacePort")),g=R(require("./orbitStar")),y=R(require("./orbitPlanet")),v=R(require("./damage")),E=R(require("./shootCannon")),S=R(require("./shootHeavyCannon")),k=R(require("./shootLaserBolt")),F=R(require("./shootHomingMissile")),H=R(require("./shootClusterRocket")),P=R(require("./limitSpeed")),b=R(require("./accelerate")),x=R(require("./accelerateToAttackTarget")),D=R(require("./accelerateFighterToAttackTarget")),A=R(require("./displayHit")),L=R(require("./dockPlanet")),B=R(require("./dockSpacePort")),C=R(require("./carryFighter")),M=R(require("./colonizePlanet")),_=R(require("./shimmer")),z=R(require("./developEquipment")),U=R(require("./gravitate")),j=R(require("./flock")),N=require("../constants"),O=R(require("../Score"));function R(e){return e&&e.__esModule?e:{default:e}}var w=[j.default,L.default,B.default,c.default,h.default,T.default,b.default,x.default,D.default,l.default,o.default,g.default,y.default,P.default,a.default,v.default,f.default,d.default,u.default,z.default,n.default,s.default,m.default,t.default,r.default,E.default,S.default,k.default,F.default,H.default,M.default,C.default,i.default,A.default,_.default,p.default,U.default,q.default];function G(e){w.forEach(function(r){r.DEFAULTS&&e[r.componentFlag]&&Object.keys(r.DEFAULTS).forEach(function(a){void 0===e[a]&&(e[a]=r.DEFAULTS[a])})})}function I(r){r.hp>0?w.forEach(function(e){r[e.componentFlag]&&e.process&&e.process(r)}):r[p.default.componentFlag]&&p.default.process(r),r.hp>0?e.default.commit(r):(e.default.destroy(r),(0,N.isHumanTeam)(r.team)?isNaN(r.lastDamagedByTeam)||(0,N.isHumanTeam)(r.lastDamagedByTeam)||O.default.add(-2*r.maxHp):(0,N.isHumanTeam)(r.lastDamagedByTeam)&&O.default.add(r.maxHp))}var J={init:G,update:I};exports.default=J;
},{"../Entity":"ut18","./attack":"8Z9Z","./autoTargetEnemy":"XUko","./manufacture":"j5iw","./mine":"e99x","./metabolize":"eCDI","./moveLinearly":"i/fp","./moveToColonizationTarget":"JwEl","./harvest":"9SDO","./storeMaterials":"NWZ4","./repair":"2tVC","./anchor":"Pz0T","./beShielded":"sJ7F","./refine":"6tCR","./construct":"694C","./explode":"PuOA","./occupyPlanet":"CNuv","./occupySpacePort":"RMs3","./orbitStar":"rMbS","./orbitPlanet":"BjhP","./damage":"1STg","./shootCannon":"DNUE","./shootHeavyCannon":"anqP","./shootLaserBolt":"AQPl","./shootHomingMissile":"FynP","./shootClusterRocket":"+5Bh","./limitSpeed":"6KXu","./accelerate":"11Qu","./accelerateToAttackTarget":"eOVm","./accelerateFighterToAttackTarget":"XgTb","./displayHit":"JEmE","./dockPlanet":"Nhiw","./dockSpacePort":"9Qen","./carryFighter":"BQbr","./colonizePlanet":"28eo","./shimmer":"78aJ","./developEquipment":"CKlk","./gravitate":"m9wr","./flock":"Wk/9","../constants":"PH7Q","../Score":"C3sm"}],"nBmM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("../Graphics"));function t(e){return e&&e.__esModule?e:{default:e}}var r={};function a(t){var a=t.type;r[a]?r[a].push(t):r[a]=[t],e.default.addChild(t.geo.graphics)}var o=function(e){return r[e]||[]};function l(t){t.hp=0;var r=t.type.toLowerCase();t.planet&&delete t.planet[r],t.spaceport&&delete t.spaceport[r],t.fighter&&(t.fighter.hp=0,t.fighter.undockSpacePort(),delete t.fighter),t.anchor&&(t.anchor.shield=null,delete t.anchor),delete t.shield,delete t.attackTarget,delete t.colonizationTarget;var a=o(t.type),l=a.indexOf(t);-1!==l&&a.splice(l,1),e.default.removeChild(t.geo.graphics)}function n(){var e=[];return Object.keys(r).forEach(function(t){return Array.prototype.push.apply(e,r[t])}),e}function c(){Object.keys(r).forEach(function(e){r[e].forEach(l),delete r[e]})}var d={add:a,remove:l,getAll:n,clearAll:c,getByType:o};exports.default=d;
},{"../Graphics":"Oi2H"}],"6Uqs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../constants"),t=require("../entityHelpers");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}var a=8,u=e.MAX_COORDINATE>>a;function o(e,t,r){var n=e.x>>a,i=e.y>>a;return(n+=t||0)+(i+=r||0)*u}var s=function(){function e(){r(this,e),this.grid=[],this.nextGrid=[]}return i(e,[{key:"prepareNext",value:function(){return this.grid=this.nextGrid,this.nextGrid=[],this}},{key:"commit",value:function(e){var t=this.nextGrid;if(e.hp>0){var r=o(e,0,0);t[r]instanceof Array?t[r].push(e):t[r]=[e]}return this}},{key:"get1CellRadiusAroundEntity",value:function(e){for(var t=this.grid,r=[],n=[t[o(e,-1,-1)],t[o(e,0,-1)],t[o(e,1,-1)],t[o(e,-1,0)],t[o(e,0,0)],t[o(e,1,0)],t[o(e,0,1)],t[o(e,-1,1)],t[o(e,1,1)]],i=n.length-1;i>=0;i--)n[i]&&n[i].length>0&&Array.prototype.push.apply(r,n[i]);return r}},{key:"getNearestEnemy",value:function(e){var r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,i=this.get1CellRadiusAroundEntity(e).filter(function(t){return t.team!==e.team}),a=1/0;return i&&i.forEach(function(i){var u=(0,t.getDistSquared)(e,i);u<=n&&u<a&&(a=u,r=i)}),r}}]),e}();exports.default=s;
},{"../constants":"PH7Q","../entityHelpers":"IAoB"}],"X885":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../Geometry")),e=o(require("./LivingEntity"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};n.get||n.set?Object.defineProperty(e,o,n):e[o]=t[o]}return e.default=t,e}function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?u(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p={body:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:255,alpha:1},path:[-2,2,-4,0,-2,-2,-4,-4,-4,-6,2,-4,0,-2,8,0,0,2,2,4,-4,6,-4,4,-2,2],collisionPath:[-4,-6,8,0,-4,6]},flame1:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-4,-4,-8,-5,-4,-6]},flame2:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-4,4,-8,5,-4,6]}},s=[function(t){var e=t.geo.collider.calcPoints[1];return{x:e.x,y:e.y,rotation:t.rotation}}],y=function(o){function n(e){var o;return a(this,n),(o=i(this,c(n).call(this))).type="Fighter",o.geo=(0,t.default)(p.body),o.mass=10,o.hp=4,o.maxHp=4,o.rotation=0,o.canGravitate=!0,o.canExplode=!0,o.canAttack=!0,o.attackWeapon="Cannon",o.attackTurretPositions=s,o.canBeShielded=!0,o.canShootLaserBolt=!0,o.canShootCannon=!0,o.canShootHeavyCannon=!0,o.canShootClusterRocket=!0,o.canShootHomingMissile=!0,o.canLimitSpeed=!0,o.canMoveLinearly=!0,o.canAccelerate=!0,o.canDockPlanet=!0,o.canDockSpacePort=!0,o.canAccelerateFighterToAttackTarget=!0,o.flameOn=function(){o.setChildVisible(0,!0),o.setChildVisible(1,!0)},o.flameOff=function(){o.setChildVisible(0,!1),o.setChildVisible(1,!1)},Object.assign(u(u(o)),e),o.assignTeamColor(),o.geo.graphics.addChild((0,t.default)(p.flame1).graphics,(0,t.default)(p.flame2).graphics),o.flameOff(),o}return l(n,e.default),n}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"I/pz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Geometry")),e=a(require("./LivingEntity")),o=require("../constants"),r=a(require("../Random")),n=require("../entityHelpers");function a(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};r.get||r.set?Object.defineProperty(e,o,r):e[o]=t[o]}return e.default=t,e}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var o=0;o<e.length;o++){var r=e[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e,o){return e&&u(t.prototype,e),o&&u(t,o),t}function y(t,e){return!e||"object"!==l(e)&&"function"!=typeof e?d(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var g={body:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:15658734,alpha:1},collisionPath:[-44,-4,-38,-8,26,-10,44,0,26,10,-38,8,-44,4],path:[-26,-2,-26,-8,-38,-8,-38,2,-44,4,-44,-4,-38,-2,-38,8,-26,8,-26,-2,24,-2,26,-10,44,0,26,10,24,2,-26,2]},cargopodL:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:15658734,alpha:1},path:[-24,-2,-24,-12,22,-12,22,-2]},cargopodR:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:15658734,alpha:1},path:[-24,2,-24,12,22,12,22,2]},flag:{type:t.GeometryType.Polygon,lineStyle:{width:2,color:255,alpha:1},path:[34,0,42,0]},turret1:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[-34,0,-30,-3,-30,3,-34,0]},turret2:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[28,-3,32,0,28,3,28,-2]},flame:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-44,-2,-50,0,-44,2]}},b=function(t,e,o){var a=t.attackTarget,i=(a=a||{}).dx||0,l=a.dy||0,c={x:a.x+24*i,y:a.y+24*l},u=(0,n.getAngleFromTo)({x:e+t.x,y:o+t.y},c);return u+=r.default.float(-.2,.2)},m=[function(t){var e=-34*Math.cos(t.rotation),o=-34*Math.sin(t.rotation);return{x:e,y:o,rotation:b(t,e,o)}},function(t){var e=32*Math.cos(t.rotation),o=32*Math.sin(t.rotation);return{x:e,y:o,rotation:b(t,e,o)}}],O=function(r){function n(e){var o;return c(this,n),(o=y(this,f(n).call(this))).type="Freighter",o.geo=(0,t.default)(g.body),o.hp=10,o.maxHp=10,o.canDisplayHit=!0,o.canOrbitPlanet=!0,o.isOrbitingPlanet=!1,o.orbitDistance=205,o.canExplode=!0,o.canColonizePlanet=!0,o.canMoveToColonizationTarget=!0,o.canStoreMaterial=!0,o.materialsRaw=0,o.materialsFinished=500,o.canAutoTargetEnemy=!0,o.autoTargetSearchDist2=16e4,o.canAttack=!0,o.attackTurretPositions=m,o.canShootHomingMissile=!0,o.canShootLaserBolt=!0,o.canShootCannon=!0,o.reloadTime_Cannon=400,o.loadSupply=function(){o.setChildVisible(2,!0),o.setChildVisible(3,!0)},o.unloadSupply=function(){o.setChildVisible(2,!1),o.setChildVisible(3,!1)},o.flameOn=function(){return o.setChildVisible(0,!0)},o.flameOff=function(){return o.setChildVisible(0,!1)},Object.assign(d(d(o)),e),o.geo.graphics.addChild((0,t.default)(g.flame).graphics,(0,t.default)(g.flag).graphics,(0,t.default)(g.cargopodL).graphics,(0,t.default)(g.cargopodR).graphics,(0,t.default)(g.turret1).graphics,(0,t.default)(g.turret2).graphics),o.assignTeamColor(),o.flameOff(),o}return s(n,e.default),p(n,[{key:"assignTeamColor",value:function(){this.getChildAt(1).currentPath.lineColor=o.TEAM_COLOR[this.team]}}]),n}();exports.default=O;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g","../constants":"PH7Q","../Random":"ozFQ","../entityHelpers":"IAoB"}],"XTbD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Geometry")),e=a(require("./LivingEntity")),r=a(require("../Random")),o=require("../entityHelpers"),n=a(require("."));function a(t){return t&&t.__esModule?t:{default:t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?s(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var d={_name:"Planetary Base",body:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:255,alpha:1},path:[-20,20,-20,-20,20,-20,20,20,-20,20]},turret1:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65280,alpha:.5},path:[65,-60,65,-65,60,-65,65,-60]},turret2:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65280,alpha:.5},path:[-65,-60,-65,-65,-60,-65,-65,-60]},turret3:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65280,alpha:.5},path:[65,60,65,65,60,65,65,60]},turret4:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65280,alpha:.5},path:[-65,60,-65,65,-60,65,-65,60]}},h=function(t,e,n){var a=t.attackTarget,i=a.dx||0,u=a.dy||0,c={x:a.x+24*i,y:a.y+24*u},l=(0,o.getAngleFromTo)({x:e+t.x,y:n+t.y},c);return l+=r.default.float(-.2,.2)},b=[function(t){return{x:65,y:65,rotation:h(t,65,65)}},function(t){return{x:65,y:-65,rotation:h(t,65,-65)}},function(t){return{x:-65,y:-65,rotation:h(t,-65,-65)}},function(t){return{x:-65,y:65,rotation:h(t,-65,65)}}],g=.4,m=function(r){function o(e){var r;return c(this,o),(r=l(this,y(o).call(this))).type="PBase",r.geo=(0,t.default)(d.body),r.reticleWidth2=30,r.reticleHeight2=30,r.hp=20,r.maxHp=20,r.canBeShielded=!0,r.canDisplayHit=!0,r.canExplode=!0,r.canHarvest=!0,r.canRepair=!0,r.canRefine=!0,r.canConstruct=!0,r.canOccupyPlanet=!0,r.canStoreMaterial=!0,r.materialsRaw=0,r.materialsFinished=0,r.canAutoTargetEnemy=!0,r.autoTargetSearchDist2=36e4,r.canAttack=!0,r.attackTurretPositions=b,r.canShootCannon=!0,r.reloadTime_Cannon=400,Object.assign(s(s(r)),e),r.assignTeamColor(),r.geo.graphics.addChild((0,t.default)(d.turret1).graphics,(0,t.default)(d.turret2).graphics,(0,t.default)(d.turret3).graphics,(0,t.default)(d.turret4).graphics),Math.random()<g&&(r.shield=n.default.create("PShield",{team:e.team,anchor:s(s(r))})),r}return p(o,e.default),o}();exports.default=m;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g","../Random":"ozFQ","../entityHelpers":"IAoB",".":"ut18"}],"J4oX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../Geometry")),t=r(require("./LivingEntity"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p={type:e.GeometryType.Polygon,_name:"Planetary Colony",lineStyle:{width:1,color:255,alpha:1},path:[-30,40,-70,40,-70,-40,-30,-40,-30,40]},s=function(r){function o(t){var r;return i(this,o),(r=c(this,u(o).call(this))).type="PColony",r.geo=(0,e.default)(p),r.reticleOffsetX=-50,r.reticleOffsetY=0,r.hp=15,r.maxHp=15,r.canDisplayHit=!0,r.canMine=!0,r.canExplode=!0,r.explosionOriginDx=-50,r.explosionOriginDy=0,r.canManufacture=!0,r.PRODUCT={Freighter:{cost:300,time:120},Fighter:{cost:500,time:90}},r.canOccupyPlanet=!0,r.canRepair=!0,r.REPAIR_COST_FINISHED=10,r.REPAIR_TIME=20,Object.assign(l(l(r)),t),r.assignTeamColor(),r}return f(o,t.default),o}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"KGpJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Geometry")),t=o(require("./LivingEntity")),r=o(require("."));function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s={type:e.GeometryType.Polygon,_name:"Planetary Communications Center",lineStyle:{width:1,color:255,alpha:1},path:[40,30,0,30,0,50,40,50,40,30,60,35,30,10,40,30]},y=.15,O=function(o){function n(t){var o;return c(this,n),(o=u(this,a(n).call(this))).type="PComm",o.geo=(0,e.default)(s),o.reticleOffsetX=31,o.reticleOffsetY=33,o.hp=7,o.maxHp=7,o.canDisplayHit=!0,o.canExplode=!0,o.explosionOriginDx=31,o.explosionOriginDy=33,o.canBeShielded=!0,o.canRepair=!0,o.canOccupyPlanet=!0,o.REPAIR_COST_FINISHED=2,o.REPAIR_TIME=10,Object.assign(p(p(o)),t),o.assignTeamColor(),Math.random()<y&&(o.shield=r.default.create("PShield",{team:t.team,anchor:p(p(o)),anchorOffsetX:31,anchorOffsetY:33})),o}return f(n,t.default),n}();exports.default=O;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g",".":"ut18"}],"72jP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Geometry")),t=o(require("./LivingEntity")),r=require("../constants");function o(e){return e&&e.__esModule?e:{default:e}}function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?p(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var s={type:e.GeometryType.Polygon,_name:"Planetary Lab",lineStyle:{width:1,color:16777215,alpha:1},path:[0,-40,0,-70,50,-70,50,-40,0,-40]},y=function(o){function n(t){var o;c(this,n),(o=u(this,a(n).call(this))).type="PLab",o.geo=(0,e.default)(s),o.reticleOffsetX=25,o.reticleOffsetY=-55,o.hp=10,o.maxHp=10,o.canShimmer=!0,o.isShimmering=!1,o.shimmerBlinkColor=1044495,o.canDevelopEquipment=!0,o.canDisplayHit=!0,o.canExplode=!0,o.explosionOriginDx=25,o.explosionOriginDy=-55,o.canOccupyPlanet=!0,Object.assign(p(p(o)),t);var i=o.assignTeamColor();return o.shimmerNormalColor=i||r.TEAM_NONE_COLOR,o}return f(n,t.default),n}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g","../constants":"PH7Q"}],"KEKj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Geometry")),e=r(require("./LivingEntity"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?a(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var p={_name:"Planetary Shield",type:t.GeometryType.Circle,radius:30,collisionRadius:30,fill:{color:0,alpha:0},lineStyle:{width:1,color:43690,alpha:1}},s=function(r){function o(e){var r;return i(this,o),(r=u(this,c(o).call(this))).type="PShield",r.hp=20,r.maxHp=20,r.geo=(0,t.default)(p),r.canDisplayHit=!0,r.canAnchor=!0,Object.assign(a(a(r)),e),r}return f(o,e.default),o}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"dfA4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Geometry")),t=o(require("./LivingEntity"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?a(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p={body:{type:e.GeometryType.Polygon,lineStyle:{width:1,color:16711935,alpha:1},path:[-4,1,0,2,4,0,0,-2,-4,-1,-4,1],collisionPath:[-4,2,0,4,8,0,0,-4,-4,-2]},flame:{type:e.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-4,-4,-8,-5,-4,-6]}},y=function(o){function r(t){var o;return i(this,r),(o=f(this,u(r).call(this))).type="Probe",o.geo=(0,e.default)(p.body),o.hp=2,o.maxHp=2,o.canMoveLinearly=!0,o.canFlock=!0,o.flameOn=function(){return o.setChildVisible(0,!0)},o.flameOff=function(){return o.setChildVisible(0,!1)},Object.assign(a(a(o)),t),o.assignTeamColor(),o.geo.graphics.addChild((0,e.default)(p.flame).graphics),o.flameOff(),o}return l(r,t.default),r}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"P31I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Geometry")),e=r(require("./LivingEntity"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?p(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l={_name:"Orbital Sensor Array",type:t.GeometryType.Polygon,lineStyle:{width:1,color:255,alpha:1},path:[6,26,12,28,12,40,18,46,18,34,12,40,6,42]},y=function(r){function o(e){var r;return i(this,o),(r=u(this,c(o).call(this))).type="SensorArray",r.geo=(0,t.default)(l),r.hp=5,r.maxHp=5,r.canExplode=!0,r.canDisplayHit=!0,r.canRepair=!0,r.canOccupySpacePort=!0,Object.assign(p(p(r)),e),r.assignTeamColor(),r}return a(o,e.default),o}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"/lK5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../Geometry")),e=o(require("./LivingEntity"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};r.get||r.set?Object.defineProperty(e,o,r):e[o]=t[o]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?p(t):e}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l={_name:"Space Dock",type:t.GeometryType.Polygon,lineStyle:{width:1,color:255,alpha:1},path:[6,-42,20,-42,20,-22,14,-26,6,-26]},s=function(o){function r(e){var o;return c(this,r),(o=i(this,u(r).call(this))).type="SpaceDock",o.geo=(0,t.default)(l),o.hp=8,o.maxHp=8,o.canExplode=!0,o.canDisplayHit=!0,o.canRepair=!0,o.canManufacture=!0,o.PRODUCT={Fighter:{cost:200,time:60},Probe:{cost:15,time:10}},o.canOccupySpacePort=!0,Object.assign(p(p(o)),e),o.assignTeamColor(),o}return a(r,e.default),r}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"PmZP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../Geometry")),e=n(require("./LivingEntity")),o=n(require("../Random")),r=require("../entityHelpers");function n(t){return t&&t.__esModule?t:{default:t}}function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};r.get||r.set?Object.defineProperty(e,o,r):e[o]=t[o]}return e.default=t,e}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?f(t):e}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var s={_name:"Space Port",body:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:255,alpha:1},path:[-2,0,-6,-20,-6,-36,-2,-44,6,-44,6,-24,2,-20,2,20,6,24,6,44,-2,44,-6,36,-6,20,-2,0]},turret1:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[0,28,4,26,4,30,0,28]},turret2:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[0,-28,4,-26,4,-30,0,-28]},turret3:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[4,44,2,48,0,44]},turret4:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:.5},path:[4,-44,2,-48,0,-44]},flame1:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-6,20,-12,22,-6,24]},flame2:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-6,-24,-12,-22,-6,-20]},flame3:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-6,32,-12,34,-6,36]},flame4:{type:t.GeometryType.Polygon,lineStyle:{width:1,color:65535,alpha:1},path:[-6,-36,-12,-34,-6,-32]}},h=function(t,e,n){var a=t.attackTarget,i=a.dx||0,l=a.dy||0,c={x:a.x+20*i,y:a.y+20*l},y=(0,r.getAngleFromTo)({x:e+t.x,y:n+t.y},c);return y+=o.default.float(-.15,.15)},d=Math.PI/2,m=[function(t){var e=28*Math.cos(t.rotation-d),o=28*Math.sin(t.rotation-d);return{x:e,y:o,rotation:h(t,e,o)}},function(t){var e=-28*Math.cos(t.rotation-d),o=-28*Math.sin(t.rotation-d);return{x:e,y:o,rotation:h(t,e,o)}},function(t){var e=46*Math.cos(t.rotation-d),o=46*Math.sin(t.rotation-d);return{x:e,y:o,rotation:h(t,e,o)}},function(t){var e=-46*Math.cos(t.rotation-d),o=-46*Math.sin(t.rotation-d);return{x:e,y:o,rotation:h(t,e,o)}}],g=function(o){function r(e){var o;return l(this,r),(o=c(this,y(r).call(this))).type="SpacePort",o.geo=(0,t.default)(s.body),o.hp=35,o.maxHp=35,o.canRepair=!0,o.canRefine=!0,o.canOrbitPlanet=!0,o.orbitDistance=205,o.canAutoTargetEnemy=!0,o.canDisplayHit=!0,o.canExplode=!0,o.canAttack=!0,o.attackTurretPositions=m,o.canShootCannon=!0,o.reloadTime_Cannon=300,o.canCarryFighter=!0,o.canStoreMaterial=!0,o.materialsRaw=0,o.materialsFinished=0,Object.assign(f(f(o)),e),o.assignTeamColor(),o.geo.graphics.addChild((0,t.default)(s.flame1).graphics,(0,t.default)(s.flame2).graphics,(0,t.default)(s.flame3).graphics,(0,t.default)(s.flame4).graphics,(0,t.default)(s.turret1).graphics,(0,t.default)(s.turret2).graphics,(0,t.default)(s.turret3).graphics,(0,t.default)(s.turret4).graphics),o}return p(r,e.default),r}();exports.default=g;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g","../Random":"ozFQ","../entityHelpers":"IAoB"}],"1Kle":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../Geometry")),e=r(require("./LivingEntity"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?p(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var a={type:t.GeometryType.Circle,radius:20,collisionRadius:10,fill:{color:0,alpha:0},lineStyle:{width:1,color:65535,alpha:1}},s=function(r){function o(e){var r;return i(this,o),(r=u(this,c(o).call(this))).type="Shield",r.hp=12,r.maxHp=12,r.geo=(0,t.default)(a),r.canDisplayHit=!0,r.canAnchor=!0,Object.assign(p(p(r)),e),r}return f(o,e.default),o}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"pK8x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../Geometry")),e=o(require("./LivingEntity"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,o):{};r.get||r.set?Object.defineProperty(e,o,r):e[o]=t[o]}return e.default=t,e}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){return!e||"object"!==n(e)&&"function"!=typeof e?p(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l={type:t.GeometryType.Polygon,fill:{color:16777215,alpha:1},path:[-1,1,1,1,1,-1,-1,-1,-1,1]},y=function(o){function r(e){var o;return i(this,r),(o=u(this,c(r).call(this))).type="CannonShot",o.canMoveLinearly=!0,o.canDamage=!0,o.canMetabolize=!0,o.hp=60,o.damageHp=1,o.geo=(0,t.default)(l),Object.assign(p(p(o)),e),o}return f(r,e.default),r}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"/X4k":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../Geometry")),t=r(require("./LivingEntity"));function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?l(e):t}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p={type:e.GeometryType.Polygon,lineStyle:{width:2,color:16777215,alpha:1},path:[-3,0,0,0,0,-3,0,0,0,3,0,0,3,0]},y=function(r){function o(t){var r;return i(this,o),(r=u(this,c(o).call(this))).type="HeavyCannonShot",r.canShimmer=!0,r.shimmerNormalColor=65535,r.canMoveLinearly=!0,r.canDamage=!0,r.canMetabolize=!0,r.hp=40,r.damageHp=2,r.geo=(0,e.default)(p),Object.assign(l(l(r)),t),r}return f(o,t.default),o}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"8eSA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("../Geometry")),e=o(require("./LivingEntity")),r=o(require("../Random"));function o(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?p(t):e}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var y={type:t.GeometryType.Polygon,lineStyle:{width:1,color:16776960,alpha:1},path:[5,0,-5,0]},s=function(o){function n(e){var o;return u(this,n),(o=c(this,f(n).call(this))).type="LaserBolt",o.canMoveLinearly=!0,o.canDamage=!0,o.canMetabolize=!0,o.hp=r.default.int(2,3),o.damageHp=30,o.geo=(0,t.default)(y),Object.assign(p(p(o)),e),o}return a(n,e.default),n}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g","../Random":"ozFQ"}],"XBd1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Geometry")),t=o(require("./LivingEntity"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p={missileBody:{type:e.GeometryType.Polygon,lineStyle:{width:1,color:16777215,alpha:1},path:[0,0,6,0]},missileFlame:{type:e.GeometryType.Polygon,lineStyle:{width:1,color:16711680,alpha:1},path:[0,0,-3,0]}},s=function(o){function r(t){var o;return i(this,r),(o=c(this,a(r).call(this))).type="HomingMissile",o.canShimmer=!0,o.shimmerNormalColor=15597568,o.canMoveLinearly=!0,o.canLimitSpeed=!0,o.MAX_SPEED=55,o.MAX_SPEED2=3025,o.canAccelerateToAttackTarget=!0,o.canDamage=!0,o.canMetabolize=!0,o.canAttack=!0,o.hp=60,o.damageHp=7,o.geo=(0,e.default)(p.missileBody),o.geo.graphics.addChild((0,e.default)(p.missileFlame).graphics),Object.assign(f(f(o)),t),o}return l(r,t.default),r}();exports.default=s;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"Nm3e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Geometry")),t=o(require("./LivingEntity"));function o(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,o):{};r.get||r.set?Object.defineProperty(t,o,r):t[o]=e[o]}return t.default=e,t}function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?f(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var p={missileBody:{type:e.GeometryType.Polygon,lineStyle:{width:2,color:4474111,alpha:1},path:[0,0,8,0]},missileFlame:{type:e.GeometryType.Polygon,lineStyle:{width:1,color:16776960,alpha:1},path:[0,0,-2,0]}},y=function(o){function r(t){var o;return i(this,r),(o=c(this,u(r).call(this))).type="ClusterRocket",o.geo=(0,e.default)(p.missileBody),o.canExplode=!0,o.EXPLOSION_FRAGMENTS=20,o.EXPLOSION_SOUND="fire-heavy",o.canMoveLinearly=!0,o.canDamage=!0,o.canMetabolize=!0,o.canAttack=!0,o.hp=45,o.damageHp=.5,o.geo.graphics.addChild((0,e.default)(p.missileFlame).graphics),Object.assign(f(f(o)),t),o}return a(r,t.default),r}();exports.default=y;
},{"../Geometry":"e9yM","./LivingEntity":"WJ1g"}],"ut18":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=A(require("../component")),t=A(require("./_DB")),r=A(require("./_EntityGrid")),n=A(require("./Fighter")),u=A(require("./Freighter")),a=A(require("./PBase")),i=A(require("./PColony")),o=A(require("./PComm")),l=A(require("./PLab")),f=A(require("./PShield")),d=A(require("./Probe")),c=A(require("./SensorArray")),s=A(require("./SpaceDock")),y=A(require("./SpacePort")),p=A(require("./Shield")),g=A(require("./CannonShot")),q=A(require("./HeavyCannonShot")),h=A(require("./LaserBolt")),S=A(require("./HomingMissile")),m=A(require("./ClusterRocket")),v=A(require("./Planet")),P=A(require("./Star")),b=require("../entityHelpers");function A(e){return e&&e.__esModule?e:{default:e}}function B(e){return E(e)||j(e)||C()}function C(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function j(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function E(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var k=new r.default,O={Probe:d.default,PBase:a.default,PColony:i.default,PComm:o.default,PLab:l.default,PShield:f.default,SpacePort:y.default,SpaceDock:s.default,SensorArray:c.default,Fighter:n.default,Freighter:u.default,Shield:p.default},N=[],_={CannonShot:g.default,HeavyCannonShot:q.default,LaserBolt:h.default,HomingMissile:S.default,ClusterRocket:m.default},w=[],x={Star:P.default,Planet:v.default},H=Object.assign({},x,O,_),T=B(Object.keys(x)).concat(B(Object.keys(O)),B(Object.keys(_)));function D(r,n){var u;return r in H&&(u=new H[r](n),e.default.init(u),t.default.add(u),r in x&&w.push(u)),u}function F(r){var n=t.default.getByType(r);n&&n.forEach(e.default.update)}function L(){T.forEach(F)}function M(){for(var e=0;e<4;e++)U();w=[],t.default.clearAll()}var R=function(e){return e.hp>0};function U(){k.prepareNext(),N=N.filter(R)}function G(e){e.type in O&&k.commit(e)}function I(){return w}function z(e,t){var r,n=1/0;return w.filter(function(e){return e.type===t}).forEach(function(t){var u=(0,b.getDistSquared)(e,t);u<n&&(n=u,r=t)}),r}function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;return k.getNearestEnemy(e,t)}function K(e){return k.get1CellRadiusAroundEntity(e)}var Q={create:D,updateAll:L,commit:G,prepareNext:U,getBodies:I,getAbsoluteNearestByBodyType:z,getNearestEnemyUnit:J,getNearestUnits:K,clearAll:M,getAll:t.default.getAll,destroy:t.default.remove,getByType:t.default.getByType};exports.default=Q;
},{"../component":"3ShI","./_DB":"nBmM","./_EntityGrid":"6Uqs","./Fighter":"X885","./Freighter":"I/pz","./PBase":"XTbD","./PColony":"J4oX","./PComm":"KGpJ","./PLab":"72jP","./PShield":"KEKj","./Probe":"dfA4","./SensorArray":"P31I","./SpaceDock":"/lK5","./SpacePort":"PmZP","./Shield":"1Kle","./CannonShot":"pK8x","./HeavyCannonShot":"/X4k","./LaserBolt":"8eSA","./HomingMissile":"XBd1","./ClusterRocket":"Nm3e","./Planet":"PUm7","./Star":"x+xP","../entityHelpers":"IAoB"}],"Oi2H":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.centerOn=exports.isOutsideViewport=exports.render=exports.removeChild=exports.addChild=exports.removeChildFromHUD=exports.addChildToHUD=void 0;var e,r,t,o,n,i=a(require("pixi.js")),d=l(require("../Entity"));function l(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}i.settings.SCALE_MODE=i.SCALE_MODES.NEAREST;var u=new i.Container,s=new i.Container,c={};function f(){r=innerWidth,o=innerHeight,t=r>>1,n=o>>1,e&&(e.resize(r,o),Object.values(c).forEach(function(e){return e()}))}var h=function(){for(c={};s.children[0];)s.removeChild(s.children[0]);for(;u.children[0];)u.removeChild(u.children[0]);u.addChild(s)};function p(){h(),void 0===e&&(f(),u.addChild(s),e=new i.WebGLRenderer(r,o),document.body.appendChild(e.view))}var v=function(e){return u.alpha=e},C=function(e){if(e.modal){var r=e.modal,t=e.id,o=e.onResize;u.addChild(r),c[t]=o}else u.addChild(e)};exports.addChildToHUD=C;var x=function(e){if(e.modal){var r=e.modal,t=e.id;u.removeChild(r),delete c[t]}else u.removeChild(e)};exports.removeChildFromHUD=x;var m=function(e){return s.addChild(e)};exports.addChild=m;var O=function(e){return s.removeChild(e)};exports.removeChild=O;var y=function(){return e.render(u)};exports.render=y;var b=200,g=function(e){var t=e.x,n=e.y;return t<-s.x-b||t>-s.x+r+b||n<-s.y-b||n>-s.y+o+b};exports.isOutsideViewport=g;var D=function(e){e&&(s.x=-(e.x-t),s.y=-(e.y-n))};function w(e,r){return{x:e+s.x,y:r+s.y}}function E(){d.default.getAll().forEach(function(e){return e.geo.graphics.visible=!g(e)})}exports.centerOn=D;var j={init:p,setGlobalAlpha:v,addChild:m,removeChild:O,render:y,centerOn:D,addChildToHUD:C,removeChildFromHUD:x,cullRenderable:E,onResize:f,getSceneCoordFromStageCoord:w};exports.default=j;
},{"pixi.js":"5hn+","../Entity":"ut18"}],"dCX1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSolarSystem=s;var t=u(require("../Entity")),e=u(require("../Random")),r=require("../constants"),a=require("../entityHelpers");function u(t){return t&&t.__esModule?t:{default:t}}var n=2,o=.8,f=8e3,i=Math.pow(f,2);function l(){return{x:e.default.float(f,r.MAX_COORDINATE-f),y:e.default.float(f,r.MAX_COORDINATE-f)}}function d(e){for(var r=t.default.getByType("Star"),u=0;u<r.length;u++)if(r[u]!==e&&(0,a.getDistSquared)(e,r[u])<i)return!1;return!0}function s(){var r;do{r=l()}while(!d(r));var a=t.default.create("Star",r),u=a;if(e.default.float(0,1)<o)for(var f=e.default.int(1,n),i=0;i<f;i++)u=t.default.create("Planet",{star:a,orbitDistance:1600+i*e.default.int(2,5)*800,orbitRotation:e.default.float(-Math.PI,Math.PI)});return u}
},{"../Entity":"ut18","../Random":"ozFQ","../constants":"PH7Q","../entityHelpers":"IAoB"}],"WfgX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createBaseOrInvasionFleet=l;var e=require("../constants"),t=i(require("../Entity")),a=i(require("../Random")),r=i(require("../GameScreen/HUD"));function i(e){return e&&e.__esModule?e:{default:e}}var n=["Cannon","HeavyCannon","LaserBolt","HomingMissile","ClusterRocket"];function l(i,l){var o=e.TEAM[i];if("Star"===l.type){var s=a.default.float(-Math.PI,Math.PI),u={x:l.x+1e3*Math.cos(s),y:l.y+1e3*Math.sin(s)},d=t.default.create("Fighter",{x:u.x+a.default.int(-100,100),y:u.y+a.default.int(-100,100),attackWeapon:a.default.arrayElement(n),isFighterAutoAccelerated:!(0,e.isHumanTeam)(o),reloadTime_HeavyCannon:60,team:o});d.shield=t.default.create("Shield",{x:d.x,y:d.y,team:o,anchor:d}),t.default.create("Freighter",{x:u.x+a.default.int(-100,100),y:u.y+a.default.int(-100,100),team:o,isOrbitingPlanet:!1,materialsFinished:500}),t.default.create("Freighter",{x:u.x+a.default.int(-100,100),y:u.y+a.default.int(-100,100),team:o,attackWeapon:"HomingMissile",ammo_HomingMissile:240,target:d,isOrbitingPlanet:!1,materialsFinished:500}),t.default.create("Freighter",{x:u.x+a.default.int(-100,100),y:u.y+a.default.int(-100,100),team:o,attackWeapon:"HomingMissile",isOrbitingPlanet:!1,materialsFinished:500}),t.default.create("Freighter",{x:u.x+a.default.int(-100,100),y:u.y+a.default.int(-100,100),team:o,isOrbitingPlanet:!1,materialsFinished:500}),r.default.displayText(o,"Invasion fleet en route to hostile world.")}else{var c={team:o,planet:l};l.team=o,l.updateFlagColor(),t.default.create("Fighter",{isFighterAutoAccelerated:!(0,e.isHumanTeam)(o),team:o}).dockPlanet(l),l.pbase=t.default.create("PBase",c),l.pcolony=t.default.create("PColony",c),l.plab=t.default.create("PLab",c),l.pcomm=t.default.create("PComm",c),l.spaceport=t.default.create("SpacePort",c);var f=Object.assign({},c,{spaceport:l.spaceport});l.spacedock=t.default.create("SpaceDock",f),l.sensorarray=t.default.create("SensorArray",f),t.default.getByType("Planet").filter(function(e){return e.star===l.star&&e!==l}).forEach(function(e){e.team=o,e.updateFlagColor()})}}
},{"../constants":"PH7Q","../Entity":"ut18","../Random":"ozFQ","../GameScreen/HUD":"ACUy"}],"6GJp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("../Random")),r=require("./createSolarSystem"),t=require("./createBaseOrInvasionFleet");function a(e){return e&&e.__esModule?e:{default:e}}var o=["BLUE","GREEN","RED","YELLOW","MAGENTA"],n=2,u=5;function i(){for(var a=e.default.int(n,u),i=o.concat(),s=0;s<a;s++){var l=(0,r.createSolarSystem)(),c=i.pop();c&&(0,t.createBaseOrInvasionFleet)(c,l)}}var s={init:i};exports.default=s;
},{"../Random":"ozFQ","./createSolarSystem":"dCX1","./createBaseOrInvasionFleet":"WfgX"}],"Q7na":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("pixi.js")),e=i(require("../../Graphics"));function i(t){return t&&t.__esModule?t:{default:t}}function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function r(){var t=this;this.buttons.forEach(function(e,i){i===t.activeIndex?e.mouseover():e.mouseout()})}function o(){this.activeIndex--,this.activeIndex<0&&(this.activeIndex=0),this.updateButtonState()}function u(){this.activeIndex++;var t=this.buttons.length-1;this.activeIndex>t&&(this.activeIndex=t),this.updateButtonState()}function a(){var t=this.buttons[this.activeIndex];t&&t.click()}function c(e){var i=e.width,n=void 0===i?640:i,c=e.height,s=void 0===c?480:c,d=new t.Graphics;d.lineStyle(1,65280,1),d.beginFill(0,1),d.drawRect(0,0,n,s),d.endFill();var v=function(){d.x=(innerWidth-n)/2,d.y=(innerHeight-s)/2};return v(),{id:Date.now().toString(16),modal:d,onResize:v,activeIndex:-1,buttons:[],updateButtonState:r,prevButton:o,nextButton:u,clickButton:a}}function s(t){var i=t.modal;e.default.removeChildFromHUD(i)}var d={create:c,destroy:s};exports.default=d;
},{"pixi.js":"5hn+","../../Graphics":"Oi2H"}],"xE1Y":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("pixi.js")),e=require("../assets/audio");function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}function i(r){var i=r.text,n=r.width,a=void 0===n?300:n,o=r.height,c=void 0===o?40:o,u=r.onClick,l=new t.Graphics;l.lineStyle(1,16777215,1),l.drawRect(0,0,a,c),l.tint=65280;var d=new t.Text(i,{fontFamily:"arial",fontSize:12,fill:16777215,align:"center"});return d.x=(a-d.width)/2,d.y=(c-d.height)/2,l.addChild(d),l.interactive=!0,l.interactiveChildren=!1,l.buttonMode=!0,l.hitArea=new t.Rectangle(0,0,a,c),l.mouseover=function(t){var r=(t||{currentTarget:this}).currentTarget;r.tint=16777215,r.getChildAt(0).tint=16711680,(0,e.playSound)("switch-flick")},l.mouseout=function(t){var e=(t||{currentTarget:this}).currentTarget;e.tint=65280,e.getChildAt(0).tint=16777215},l.click=function(){u(),(0,e.playSound)("nav")},l}var n={create:i};exports.default=n;
},{"pixi.js":"5hn+","../assets/audio":"WovT"}],"qSa1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("pixi.js")),t=n(require(".")),r=n(require("../Button"));function n(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}var o="GALAXY CONQUERED\n\nAll enemies in this sector have been eradicated!\nYour empire encompasses all known worlds in this galaxy.";function a(n){var i=n.onClickContinue,a=t.default.create({width:400,height:300});var l=r.default.create({text:"Continue to next sector",width:360,onClick:function(){t.default.destroy(a),i()}});l.x=20,l.y=240;var u=new e.Text(o,{fontFamily:"arial",fontSize:12,fill:16777215,align:"center"});return u.x=(400-u.width)/2,u.y=40,a.buttons.push(l),a.modal.addChild(l),a.modal.addChild(u),a}var l={create:a};exports.default=l;
},{"pixi.js":"5hn+",".":"Q7na","../Button":"xE1Y"}],"FP5D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("pixi.js")),t=i(require(".")),r=i(require("../Button"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}var n="GALAXY LOST\n\nFriendly forces have been vanquished!\nYour empire has failed to establish\na foothold in this galaxy.";function o(i){var a=i.onClickContinue,o=t.default.create({width:400,height:200});var d=r.default.create({text:"Retreat to a different sector",width:360,onClick:function(){t.default.destroy(o),a()}});d.x=20,d.y=140;var l=new e.Text(n,{fontFamily:"arial",fontSize:12,fill:16777215,align:"center"});return l.x=(400-l.width)/2,l.y=30,o.buttons.push(d),o.modal.addChild(d),o.modal.addChild(l),o}var d={create:o};exports.default=d;
},{"pixi.js":"5hn+",".":"Q7na","../Button":"xE1Y"}],"MR2i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("pixi.js")),t=o(require(".")),r=o(require("../Button")),n=o(require("../../Score"));function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function a(o){var i=o.onClickContinue,a=t.default.create({width:400,height:200});var u=r.default.create({text:"Return to main menu",width:360,onClick:function(){t.default.destroy(a),i()}});u.x=20,u.y=140;var c=n.default.getScoreRank(),l=c.rank,d=c.score,f=new e.Text(["GAME OVER\n","Your career ends with a forced","retirement after recent losses.\n","Your final rank is ".concat(l,"."),"Your final score is ".concat(d,".")].join("\n"),{fontFamily:"arial",fontSize:12,fill:16777215,align:"center"});return f.x=(400-f.width)/2,f.y=30,a.buttons.push(u),a.modal.addChild(u),a.modal.addChild(f),a}var u={create:a};exports.default=u;
},{"pixi.js":"5hn+",".":"Q7na","../Button":"xE1Y","../../Score":"C3sm"}],"3Rht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,a=v(require("../Graphics/Starfield")),l=v(require("../Graphics")),u=v(require("../Graphics/Focus")),d=v(require("./control")),n=v(require("../Galaxy")),r=v(require("../Entity")),i=v(require("./HUD")),o=v(require("./TeamSystem")),f=v(require("../UI/Modal/GalaxyWonModal")),s=v(require("../UI/Modal/GalaxyLostModal")),c=require("../assets/audio"),p=require("../constants"),m=v(require("../Score")),q=v(require("../UI/Modal/GameOverModal")),C=v(require("../Graphics/NavBeaconHuman"));function v(e){return e&&e.__esModule?e:{default:e}}var y=60,h=1e3/y,G=!0,x=0,M=.05,S=!1;function T(){o.default.update(),r.default.updateAll(),r.default.prepareNext()}function g(){var n=Date.now(),r=n-t;if(!S&&T(),d.default.update(),r>h){G&&(x<1?x+=M:(x=1,G=!1),l.default.setGlobalAlpha(x));var o=u.default.getFocus();o&&(i.default.setFocus(o),l.default.centerOn(o)),C.default.update(),l.default.cullRenderable(),a.default.process(o),i.default.update(),l.default.render(),t=n-r%h}e=requestAnimationFrame(g)}function E(){t=Date.now(),g()}function H(){cancelAnimationFrame(e)}function U(){S=!1,O(),d.default.setControlledEntity(null)}function b(e){if((0,p.isHumanTeam)(e)){var t;C.default.clear(),m.default.addSectorResult(-1),S=!0,(0,c.playSound)("galaxy-lose"),t=m.default.getIsGameOver()?function(){var e=q.default.create({onClickContinue:function(){return location.reload()}});l.default.addChildToHUD(e.modal),d.default.setControlledEntity(e)}:U;var a=s.default.create({onClickContinue:t});l.default.addChildToHUD(a.modal),d.default.setControlledEntity(a)}}function D(e){if((0,p.isHumanTeam)(e)){C.default.clear(),S=!0,m.default.addSectorResult(1),(0,c.playSound)("galaxy-win");var t=f.default.create({onClickContinue:U});l.default.addChildToHUD(t.modal),d.default.setControlledEntity(t)}}function O(){addEventListener("resize",R),G=!0,x=0,r.default.clearAll(),l.default.init(),a.default.init().forEach(l.default.addChild),C.default.init(),i.default.init(),n.default.init(),o.default.init(),o.default.setOnTeamLostCallback(b),o.default.setOnTeamWinCallback(D)}function R(){i.default.onResize(),a.default.onResize(),l.default.onResize()}var k=function(){S=!S,(0,c.playSound)("pause"),i.default.setPauseVisible(S)},A={init:O,start:E,stop:H,togglePause:k,getIsPaused:function(){return S}};exports.default=A;
},{"../Graphics/Starfield":"SAW4","../Graphics":"Oi2H","../Graphics/Focus":"xtCw","./control":"p4gg","../Galaxy":"6GJp","../Entity":"ut18","./HUD":"ACUy","./TeamSystem":"WGVz","../UI/Modal/GalaxyWonModal":"qSa1","../UI/Modal/GalaxyLostModal":"FP5D","../assets/audio":"WovT","../constants":"PH7Q","../Score":"C3sm","../UI/Modal/GameOverModal":"MR2i","../Graphics/NavBeaconHuman":"4+dV"}],"Nuqc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../Input"));function e(t){return t&&t.__esModule?t:{default:t}}var u=0,o=16,r=1e3/o;function n(e){var o=Date.now(),n=o-u;if(n>r){var a=t.default.getDevice(),d=a.getInputState;(0,a.getEvents)();var v=d();v.up||v.up_arrow?e.prevButton():v.down||v.down_arrow?e.nextButton():(v.f||v.button0||v.button1||v.button2||v.button3)&&e.clickButton(),u=o-n%r}}var a={update:n};exports.default=a;
},{"../Input":"zA7B"}],"MGd9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=l(require("pixi.js")),t=n(require(".")),r=n(require("../Button")),o=require("../../constants"),a=require("../../Geometry");function n(e){return e&&e.__esModule?e:{default:e}}function l(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}var i=function(){return window.open("how-to-play","_blank")},d=function(){return window.open("http://github.com/jsyang/celestial","_blank")},u=340,c=360;function s(n){var l=n.onClickNewGame,s=t.default.create({width:u,height:c}),f=new e.Text("Build: ".concat("2018-12-04T00:09:12.024Z"," -- ").concat("23ba7ed"),{fontFamily:"arial",fontSize:12,fill:1122833,align:"left"});f.x=0,f.y=c+10,s.modal.addChild(f);var y=360;y-=60;var p=r.default.create({text:"Source code",onClick:d});p.x=20,p.y=y,s.modal.addChild(p),y-=60;var h=r.default.create({text:"How to play",onClick:i});h.x=20,h.y=y,s.modal.addChild(h),y-=60;var w=r.default.create({text:"New game",onClick:l});w.x=20,w.y=y,s.modal.addChild(w),s.buttons.push(w),s.buttons.push(h),s.buttons.push(p);var m,b,g=new e.Graphics;g.lineStyle(2,16776960,1);var v=.0625,P=.05;m=40,b=60,"celestial".split("").forEach(function(e){g.drawPolygon((0,a.transformPolygon)(o.LETTERS[e],m,b,v,P)),m+=30}),m=90,b=100,"combat".split("").forEach(function(e){g.drawPolygon((0,a.transformPolygon)(o.LETTERS[e],m,b,v,P)),m+=30});var x=new e.Graphics;return m=190,b=20,v=1/3,P=1/3,x.lineStyle(12,3355392,1),x.drawPolygon((0,a.transformPolygon)(o.LETTERS.symbol[0],m,b,v,P)),x.lineStyle(32,3355392,1),x.drawPolygon((0,a.transformPolygon)(o.LETTERS.symbol[1],m,b,v,P)),s.modal.addChild(x),s.modal.addChild(g),s}var f={create:s};exports.default=f;
},{"pixi.js":"5hn+",".":"Q7na","../Button":"xE1Y","../../constants":"PH7Q","../../Geometry":"e9yM"}],"qtxK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t,a=u(require("../Graphics")),r=u(require("../Graphics/Starfield")),n=u(require("./control")),i=u(require("../UI/Modal/TitleScreenModal"));function u(e){return e&&e.__esModule?e:{default:e}}var d=60,l=1e3/d,o={x:0,y:0},f=600,c=0,s=Math.PI/180*.02,v=.05,h=1,p=!1;function M(){var i=Date.now(),u=i-t,d=!0;p||n.default.update(q),u>l&&(p?(a.default.setGlobalAlpha(h),h>0?h-=v:(h=1,d=!1)):(o.x=Math.cos(c)*f,o.y=Math.sin(c)*f,c+=s,a.default.centerOn(o),r.default.process(o)),a.default.render(),t=i-u%l),d?e=requestAnimationFrame(M):G()}var m,q=i.default.create({onClickNewGame:function(){return p=!0}});function x(){addEventListener("resize",C),a.default.init(),r.default.init().forEach(a.default.addChild),a.default.addChildToHUD(q),t=Date.now(),M()}function C(){a.default.onResize()}function G(){cancelAnimationFrame(e),m&&(removeEventListener("resize",C),m())}function _(e){m=e}var b={setFadeOutCallback:_,start:x};exports.default=b;
},{"../Graphics":"Oi2H","../Graphics/Starfield":"SAW4","./control":"Nuqc","../UI/Modal/TitleScreenModal":"MGd9"}],"9VZu":[function(require,module,exports) {
module.exports="/alert.96bd827f.ogg";
},{}],"FYcr":[function(require,module,exports) {
module.exports="/bomb-release.eeb5346a.ogg";
},{}],"q1yE":[function(require,module,exports) {
module.exports="/bopp.ff5f66a2.ogg";
},{}],"kHt6":[function(require,module,exports) {
module.exports="/bubble.f79f682b.ogg";
},{}],"qHey":[function(require,module,exports) {
module.exports="/collide.28c519a1.ogg";
},{}],"tych":[function(require,module,exports) {
module.exports="/develop.c0f86929.ogg";
},{}],"B9ud":[function(require,module,exports) {
module.exports="/empty.8d98200b.ogg";
},{}],"KoBo":[function(require,module,exports) {
module.exports="/expand-detail.f39a6de5.ogg";
},{}],"DItH":[function(require,module,exports) {
module.exports="/fire-heavy.10cce41c.ogg";
},{}],"0Qgf":[function(require,module,exports) {
module.exports="/fire.522016b7.ogg";
},{}],"eK/M":[function(require,module,exports) {
module.exports="/galaxy-lose.23651686.ogg";
},{}],"ry4m":[function(require,module,exports) {
module.exports="/galaxy-win.02d3bc6b.ogg";
},{}],"juii":[function(require,module,exports) {
module.exports="/hit.4b1013f4.ogg";
},{}],"ghXs":[function(require,module,exports) {
module.exports="/hit2.2d875610.ogg";
},{}],"oTna":[function(require,module,exports) {
module.exports="/install-laser.07bba328.ogg";
},{}],"ExQd":[function(require,module,exports) {
module.exports="/install-missile.ea4318e4.ogg";
},{}],"QqAn":[function(require,module,exports) {
module.exports="/install.c79c1694.ogg";
},{}],"2aPd":[function(require,module,exports) {
module.exports="/laser.85865336.ogg";
},{}],"y5RU":[function(require,module,exports) {
module.exports="/missile.6ac8f393.ogg";
},{}],"81N0":[function(require,module,exports) {
module.exports="/missile2.a63da8f8.ogg";
},{}],"RUb0":[function(require,module,exports) {
module.exports="/nav.86dd0e12.ogg";
},{}],"PaiI":[function(require,module,exports) {
module.exports="/pause.8264a45c.ogg";
},{}],"PwzU":[function(require,module,exports) {
module.exports="/repaired.a1b4ed36.ogg";
},{}],"C159":[function(require,module,exports) {
module.exports="/switch-flick.48748ac9.ogg";
},{}],"Db6I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0,require("../../../sounds/alert.ogg"),require("../../../sounds/bomb-release.ogg"),require("../../../sounds/bopp.ogg"),require("../../../sounds/bubble.ogg"),require("../../../sounds/collide.ogg"),require("../../../sounds/develop.ogg"),require("../../../sounds/empty.ogg"),require("../../../sounds/expand-detail.ogg"),require("../../../sounds/fire-heavy.ogg"),require("../../../sounds/fire.ogg"),require("../../../sounds/galaxy-lose.ogg"),require("../../../sounds/galaxy-win.ogg"),require("../../../sounds/hit.ogg"),require("../../../sounds/hit2.ogg"),require("../../../sounds/install-laser.ogg"),require("../../../sounds/install-missile.ogg"),require("../../../sounds/install.ogg"),require("../../../sounds/laser.ogg"),require("../../../sounds/missile.ogg"),require("../../../sounds/missile2.ogg"),require("../../../sounds/nav.ogg"),require("../../../sounds/pause.ogg"),require("../../../sounds/repaired.ogg"),require("../../../sounds/switch-flick.ogg");var e=["alert.ogg","bomb-release.ogg","bopp.ogg","bubble.ogg","collide.ogg","develop.ogg","empty.ogg","expand-detail.ogg","fire-heavy.ogg","fire.ogg","galaxy-lose.ogg","galaxy-win.ogg","hit.ogg","hit2.ogg","install-laser.ogg","install-missile.ogg","install.ogg","laser.ogg","missile.ogg","missile2.ogg","nav.ogg","pause.ogg","repaired.ogg","switch-flick.ogg"];exports.default=e;
},{"../../../sounds/alert.ogg":"9VZu","../../../sounds/bomb-release.ogg":"FYcr","../../../sounds/bopp.ogg":"q1yE","../../../sounds/bubble.ogg":"kHt6","../../../sounds/collide.ogg":"qHey","../../../sounds/develop.ogg":"tych","../../../sounds/empty.ogg":"B9ud","../../../sounds/expand-detail.ogg":"KoBo","../../../sounds/fire-heavy.ogg":"DItH","../../../sounds/fire.ogg":"0Qgf","../../../sounds/galaxy-lose.ogg":"eK/M","../../../sounds/galaxy-win.ogg":"ry4m","../../../sounds/hit.ogg":"juii","../../../sounds/hit2.ogg":"ghXs","../../../sounds/install-laser.ogg":"oTna","../../../sounds/install-missile.ogg":"ExQd","../../../sounds/install.ogg":"QqAn","../../../sounds/laser.ogg":"2aPd","../../../sounds/missile.ogg":"y5RU","../../../sounds/missile2.ogg":"81N0","../../../sounds/nav.ogg":"RUb0","../../../sounds/pause.ogg":"PaiI","../../../sounds/repaired.ogg":"PwzU","../../../sounds/switch-flick.ogg":"C159"}],"IHy0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./audio"),r=u(require("./sounds"));function u(e){return e&&e.__esModule?e:{default:e}}function t(){return Promise.all(r.default.map(function(r){return fetch("sounds/".concat(r)).then(function(e){return e.arrayBuffer()}).then(function(u){return(0,e.defineSound)({name:r.replace(".ogg",""),arrayBuffer:u})})}))}var n={load:t};exports.default=n;
},{"./audio":"WovT","./sounds":"Db6I"}],"EBhS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=n(require(".")),r=n(require("../Graphics/Focus")),u=n(require("../Graphics/Starfield")),a=require("../GameScreen/control/getFighter"),i=n(require("../GameScreen/HUD/RadarGalaxyExpanded")),l=n(require("../Input"));function n(e){return e&&e.__esModule?e:{default:e}}var s=function(t){return e=t},d=function(){return e},o={};function f(){var e=l.default.getDevice().getEvents();e.PAUSE&&!o.PAUSE&&t.default.togglePause(),t.default.getIsPaused()||(e.FOCUS_NEXT_ENEMY&&!o.FOCUS_NEXT_ENEMY&&(u.default.process(null),r.default.setFocus(s((0,a.getFighter)(!0)))),e.TOGGLE_RADAR&&!o.TOGGLE_RADAR&&i.default.setVisible(!i.default.getIsVisible())),o=e}var c={update:f,getControlledEntity:d,setControlledEntity:s};exports.default=c;
},{".":"RNXT","../Graphics/Focus":"xtCw","../Graphics/Starfield":"SAW4","../GameScreen/control/getFighter":"MpYu","../GameScreen/HUD/RadarGalaxyExpanded":"6yS+","../Input":"zA7B"}],"rX71":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../Entity")),t=require("../constants"),a=r(require("../Graphics/Focus"));function r(e){return e&&e.__esModule?e:{default:e}}var u=t.TEAM.MAGENTA,i=t.TEAM.BLUE;function o(){var t=e.default.create("Star",{x:5e3,y:5e3}),r=e.default.create("Planet",{star:t,orbitDistance:3200,orbitRotation:0});r.team=i,r.updateFlagColor();var o={team:r.team,planet:r};r.pbase=e.default.create("PBase",o);var s=e.default.create("Fighter",{x:15e3,y:15e3,isFighterAutoAccelerated:!0,team:u,attackTarget:r.pbase});a.default.setFocus(s)}var s={init:o};exports.default=s;
},{"../Entity":"ut18","../constants":"PH7Q","../Graphics/Focus":"xtCw"}],"RNXT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e,t=l(require("../Graphics/Starfield")),u=l(require("../Graphics")),a=l(require("../Graphics/Focus")),r=l(require("./control")),i=l(require("../Entity")),n=l(require("../GameScreen/HUD")),d=l(require("./ScenarioSystem"));function l(e){return e&&e.__esModule?e:{default:e}}var f=60,o=1e3/f,s=!1;function c(){i.default.updateAll(),i.default.prepareNext()}function p(){var i=Date.now(),d=i-e;if(!s&&c(),r.default.update(),d>o){var l=a.default.getFocus();l&&(n.default.setFocus(l),u.default.centerOn(l)),u.default.cullRenderable(),t.default.process(l),n.default.update(),u.default.render(),e=i-d%o}requestAnimationFrame(p)}function q(){e=Date.now(),p()}function v(){addEventListener("resize",h),i.default.clearAll(),u.default.init(),t.default.init().forEach(u.default.addChild),n.default.init(r.default),d.default.init()}function h(){n.default.onResize(),t.default.onResize(),u.default.onResize()}var g=function(){s=!s,n.default.setPauseVisible(s)},m={init:v,start:q,togglePause:g,getIsPaused:function(){return s}};exports.default=m;
},{"../Graphics/Starfield":"SAW4","../Graphics":"Oi2H","../Graphics/Focus":"xtCw","./control":"EBhS","../Entity":"ut18","../GameScreen/HUD":"ACUy","./ScenarioSystem":"rX71"}],"Md9U":[function(require,module,exports) {
"use strict";var e=i(require("./GeometryEditScreen")),t=i(require("./GameScreen")),r=i(require("./TitleScreen")),a=i(require("./assets")),n=i(require("./startupOptions")),u=i(require("./TestScreen"));function i(e){return e&&e.__esModule?e:{default:e}}var d=function(){t.default.init(),t.default.start()};function s(){var t;removeEventListener("DOMContentLoaded",s),n.default.isTestSectorInUse?t=function(){u.default.init(),u.default.start()}:n.default.shouldSkipTitleScreen?t=d:n.default.isGeometryEditorInUse?t=e.default.start:(r.default.setFadeOutCallback(d),t=r.default.start),a.default.load().then(t)}addEventListener("DOMContentLoaded",s);
},{"./GeometryEditScreen":"o5Bo","./GameScreen":"3Rht","./TitleScreen":"qtxK","./assets":"IHy0","./startupOptions":"Y848","./TestScreen":"RNXT"}]},{},["Md9U"], null)
//# sourceMappingURL=/client.88954cf6.map